// NES ROM 数据 - Super Mario Bros (J).nes
// 生成时间: 2026/2/12 20:25:03
// 文件大小: 40.02 KB

const EMBEDDED_ROM = {
  // Base64 编码的 ROM 数据
  data: [
    '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',
    'CsjJXfAFyVLwAciYrAADyCCXioiYGGkKTD+GhgCEAQoKqqAgpQbJ0JACoCSEAykPCoUEqQCFBaUCGGkgCiYFCiYFZQSFBKUFaQAY',
    'ZQOFBaQBvTmKmQMDvTqKmQQDvTuKmQgDvTyKmQkDpQSZAQMYaSCZBgOlBZkAA5kFA6kCmQIDmQcDqQCZCgOmAGAQrGSMi4uMjCQk',
    'JCQnJycnJCQkNTYlNyUkOCQkJDAwJiYmNCYkMSQyMyYkMzQmJiYmJiYmJMAkwCR/fyS4urm7uLy5vbq8u71gZGFlYmZjZ2BkYWVi',
    'ZmNnaGhpaSYmampLTE1OTU9NT01OUFFrcCwtbHFtcm5zb3SGioeLiIyIjImNaWmOkY+SJpMmk5CUaWmk6errJCQkJCQvJD2ioqOj',
    'JCQkJKKio6OZJJkkJKI+P1tcJKMkJCQknUeeR0dHJydHR0dHJydHR6lHqkebJ5wnJycnJ1JSUlKAoIGhvr6/v3W6dru6uru7RUdF',
    'R0dHR0dFR0VHtLa1t0VHRUdFR0VHRUdFR0VHRUdFR0VHR0dHR0dHR0dHR0dHR0dHR0dHR0ckJCQkJCQkJKusra5dXl1ewSTBJMbI',
    'x8nKzMvNKipAQCQkJCQkRyRHgoOEhSRHJEeGioeLjpGPkiQvJD0kJCQ1NiU3JSQ4JCQkJDkkOiQ7JDwkJCRBJkEmJiYmJrCxsrN3',
    'eXd5U1VUVlNVVFalp6aowsTDxVdZWFp7fXx+PwAgDxUSJQ86Gg8PMBIPDycSDyIWJxgPEDAnDxYwJw8PMBAAPwAgDykaDw82Fw8P',
    'MCEPDycXDw8WJxgPGjAnDxYwJw8PNhcAPwAgDykaCQ88HA8PMCEcDycXHA8WJxgPHDYXDxYwJw8MPBwAPwAgDzAQAA8wEAAPMBYA',
    'DycXAA8WJxgPHDYXDxYwJw8AMBAAPwAEIjAAEAA/AAQPMAAQAD8ABCInFg8APxQEDxowJwAlSBAdEQoXFCQiGB4kFgobEhgrACVI',
    'EB0RChcUJCIYHiQVHhIQEisAJcUWCx4dJBgeGyQZGxIXDA4cHCQSHCQSFyYFDwoXGB0RDhskDAocHRUOKwAlpxMiGB4bJBoeDhwd',
    'JBIcJBgfDhuvACXjGyAOJBkbDhwOFx0kIhgeJAokFw4gJBoeDhwdrwAmSg0ZHhwRJAseHR0YFyQLACaIER0YJBwOFQ4MHSQKJCAY',
    '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',
    'ogKGCKkAjSkHrCwHsefJ/fBLvTAHEEbIsecKkAutKwfQBu4rB+4qB4ix5ykPyQ3QG8ix54gpQNAcrSsH0BfIsecpH40qB+4rB0xu',
    'lckO0AWtKAfQCK0qB80lB5AGIJWVTHGV7ikHIImVpgi9MAcwA94wB8oQjK0pB9CFrSgH0IBg7iwH7iwHqQCNKwdgvTAHMAO8LQei',
    'ELHnyf3w4ykPyQ/wCKIIyQzwAqIAhgemCMkO0AipAIUHqS7QU8kN0BupIoUHyLHnKUDwY7HnKX/JS9AD7kUHKT9MFpbJDLAnyLHn',
    'KXDQC6kWhQex5ykPTBaWhQDJcNAKsecpCPAEqQCFAKUATBKWyLHnKXBKSkpKhQC9MAcQQq0qB80lB/ARrCwHsecpD8kO0AWtKAfQ',
    'IWCtKAfwC6kAjSgHjSkHhQhgrCwHsecp8EpKSkrNJgfQ360sB50tByCJlaUAGGUHIASO5ZhAly6aPprymVCaWZrlmEObupd5mXyZ',
    'f5lXmWiZa5nQmdeZBpi3mquYlJkQmxCbEJsDmxubG5sbmxabG5tvmBma05qCmJ6ZCZoOmgGa8pYNlw2XK5crlyuXRZbFlrwtB8ix',
    '50gpQNASaEgpD40nB2gpMEpKSkqNQgdgaCkHyQSQBY1EB6kAjUEHYKIErV8H8AjorE4HiNAB6IqN1gYgCIipDSAWl60jB0kBjSMH',
    'YIUAqQCiBLQWxADQApUPyhD1YBQXGKYAvSCXoAWIMAfZFgDQ+KkAjc0GYK0zByAEjkyXeJdpmiC9m70wB/AfEBGYnTAHrSUHDSYH',
    '8AWpFkywl6YHqRedoQapTEyql6kYTLCXIK6bhAaQDL0wB0qdNgepGUywl6kbvDAH8B69NgeFBqYHqRqdoQbEBtAs6KlPnaEGqVDo',
    'oA9Mf5umB6AATH+bQkFDIK6boACwB8i9MAfQAci5t5eNoQZgAEVFRQAASEdGAEVJSUlFR0dKR0dHR0tHR0lJSUlJR0pHSkdHS0dL',
    'R0dHR0dHSkdKR0pLR0tHSyC9m4QHoAQgsZuKSLwwB6YHqQuFBrnPl52hBuilBvAHyMjIyMjGBuAL0Opoqq0lB/A2vTAHyQHwKqQH',
    '0ATJA/AiyQLQIyDNm0ggSplolYetJQeVbqkBlbaVD6mQlc+pMZUWYKBSjKsGYCC9m7wwB6YHqWudoQapbJ2iBmCgAyCxm6AKILOY',
    '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',
    'MLvuQogPCysOZw7/CqoOKCoOMYj/x4PXA0KPegMFpHgkpiXkJUuD4wMFpIkktSQJpGUkySQPCIUl/82ltagHqHYozCVlpKkk5SQZ',
    'pA8HlSjmJBmk1ykWqVgplyn/DwICEQ8HAhH//yuCqzjeQuIbuOs724CLuBuC+7h7gPs8W7x7uBuOyw4bjg8NKzu7uOuCS7i7ODu3',
    'uwIPExsAy4BrvP97gK4AgIuO6AX5hheGFoVOK4CrjoeFwwWLgpsCqwK7hssG0wM7jmsOp47/GY5SEZMODwObDiuOWw7LjvsO+4Kb',
    'grsC/kLou44PCqsOyw75DoiGpgbbAraO/6vO3kLAy85bjhvOS4VnRQ8HKwB7hZcFDwqSAv8Kqg4kSh4jqv8bgLs4S7zrOw8EKwCr',
    'OOsAy477gKu4a4D7PJu7W7z7AGu4+zj/C4YaBtsG3sIC8Du7gOsGC4aTBvA5DwZguBuGoLm3J70nK4OhJqkm7iULJ7T/DwIeL2Dg',
    'OqWn24A7gosC/kJocLslpywnsia5JpuAqIK1J7wnsLs7goc07iVr/x6lCi4oJy4zxw8DHkAHLjDnDwUeJEQPBx4iai4jqw8JHkFo',
    'HiqKLiOiLjLq/zuHZifMJ+4xh+4jpzuH2wf/DwEuJSsuJUtOJctrB5dH6YdHx3oH1sd4BziHq0fjB5uHDwloR9vHO8f/R5vLB/od',
    'hps6h1YHiBsHnS5l8P+bBwUyBjMHNM4D3FHuB3PgdAp+Bp4KzgbkAOgK/gouiU4LVAoUisQKNIp+BscKAeACCkcKgWCCCscKDod+',
    'AqcCswLXAuMCB4ITAj4GfgKuB/4KDcTNQ84J3gvdQv4CXcf9WwcFMgYzBzReCmhkmGSoZM4G/gINAR4OfgKUY7Rj1GP0YxTjLg5e',
    'AmQ1iHK+Dg0ErgLOCM1L/gINBWgxfgqWMaljqDPVMO4C5mL0YQSxCD9EM5RjpDHkMQS/CD8Evwg/zUsD5A4DLgF+Br4C3gb+Cg3E',
    'zUPOCd4L3UL+Al3H/ZsHBTIGMwc0/gAnsWUydQpxALcxCOQYZB4EVzu7CheKJzpzCnsK1wrnOjuKlwr+CCSKLgA+QDhkbwCfAL5D',
    'yArJY84H/gcugWZCakJ5Cr4AyGT4ZAjkLgd+A54HvgPeB/4KA6UNRM1DzgndQt4L/gJdx/2bBwUyBjMHNP4GDIE5ClwBiQqsAdkK',
    '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',
    'WjNTQ1FGQEdQUwRVQFZQYkNkQGVQcUFzUYNRlECVUKNQpUCmULNRtkC3UMNT30pNxw6BAFouAjZHN1I6SUclp1LXBN9KTccOgQBa',
    'PgJEUVNEVERVJKFUrgG0Id9K5QdNx/1BAbQ0yFLyUUfTbANlSZ4HvgHMA/4HDckeAWwBYjVjU4pBrAGzU+lRJsMnM2NDZDO6YMlh',
    'zgveD+UJfcp9R/1BAbhS6kEnsrNCFtRKQqVRpzEn0wjiFmQsBDhCdmSIYt4H/gENySMyMVGYUg3JWUJjU2cxFMI2MYdTF+MpYTBi',
    'PAhCN1lAakKZQMlh12M50VhSw2fTMdwG90L6QiOxQ2fDNMc00VFDs0czmjCpYbhivgvOD9UJDcp9R/1JDx4BOXNeB64LHoJuiJ4C',
    'DQQuCz4PRQntR/3/rXIHIASO5I9nhXGQ6q6uUwe9/AaN/AYgSrCtcgfJA7ABYCAktqIAhgggTcAgw4To4AbQ8yCH8SAx8SDw7iDZ',
    'vqIBhgggdb7Khgggdb4gm7sgwbkguLcgVbggT7cg4YmltckCEBGtnwfwHskE0AitfwfQAyDtkKyfB6UJwAiwAkpKSiCIskxnryCa',
    'sqUKhQ2pAIUMrXMHyQbwHK0fB9AUrT0HySAwEK09B+kgjT0HqQCNQAMgsJJgrf8GGG2hA43/Bq0jB9BZrVUHyVCQUq2FB9BNrP8G',
    'iDBHyMACkAGIrVUHyXCQA6z/BpiNdQcYbT0HjT0HmBhtHAeNHAeNPwetGgdpAI0aBykBhQCteAcp/gUAjXgHIDiwqQiNlQdMALCp',
    'AI11B6IAIP3xhQCgAAqwB8ilACkg8Bu5HAc4+TSwhYa5GgfpAIVtpQzZNrDwBKkAhVepAI2hA2AAEAECrRwHGGn/jR0HrRoHaQCN',
    'GwdgpQ4gBI4xkcexBrLlsaSyyrLNkWmw6bAzskWyabJ9sq1SB8kC8CupAKTOwDCQbq0QB8kG8ATJB9BQrcQD0AWpAUzmsCAfss7e',
    'BtBQ7mkHTBWzrVgH0Ayp/yAAsqXOyZGQKGCtmQPJYNAypc7JmaAAqQGQCqkDhR3IqQiNtAWMFgcg5rClhslIkBKpCIUOqQGFM0qN',
    'UgeNFgeNWAdgjfwGpQ7JC/A8rU4H0BCktYjQBqXOydCQBakAjfwGrfwGKcCFCq38BikDhQyt/AYpDIULKQTwDqUd0AqkDPAGqQCF',
    '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',
    'rE4HwAPwBazMBvACqfi85QaZEAKZFAKpW65DB/ACqXWmCMggvOWpAsggvOXoIP3xyrzlBgpIkAWp+JkAAmgKSJAFqfiZBAJoCkiQ',
    'Ban4mQgCaApIkAWp+JkMAmgKSJAFqfiZEAJoCpAFqfiZFAKt0QMKkAMguuVgpQlKsALW27XbIMjlrbMDmQMCGGkImQcCqQKZAgKZ',
    'BgKp95kBAqn7mQUCTMTmYGFiY7zzBrUqyQKwxrXbmQACGGkImQQCrbMDmQMCmQcCpQlKKQOqvYnmyCDI5YipApkCAqmCmQYCpghg',
    'dnd4edbW2dmNjeTkdnd4eQIBAgGs6gatuQMYaQiFAq2uA4UFpjm91eYNygOFBIpICgqqqQGFB4UDvcXmhQC9xuYguevGBxDxrOoG',
    'aPAvyQPwK4UApQlKKQMNygOZAgKZBgKmAMrwBpkKApkOArkGAglAmQYCuQ4CCUCZDgJMa+v8/KqrrK38/K6vsLH8paanqKn8oKGi',
    'o6RppWqnqKlroGyio6T8/JaXmJn8/JqbnJ38/I+Ojo/8/JWUlJX8/Nzc39/c3N3d3t78/LKztLX8/Lazt7X8/HBxcnP8/G5ub2/8',
    '/G1tb2/8/G9vbm78/G9vbW38/PT09fX8/PT09fX8/PX19PT8/PX19PT8/Pz87++5uLu6vLz8/L29vLx6e9rb2NjNzc7Oz899fNGM',
    '09J9fImIi4rV1OPi09LV1OPii4rl5ebm6+vs7O3t7u78/NDQ19e/vsHAwvzEw8bFyMe/vsrJwvzEw8bFzMv8/Ojn6uny8vPz8vLx',
    '8fHx/Pzw8Pz8/PwMDAAMDKhUPOoYSEjMwBgYGJAk/0ic0tjw9vwBAgMCAQEDAwMBAQICIQECAQEC/wICAQECAgIIGBgZGhkYtc+F',
    'Aq2uA4UFvOUGhOupAI0JAbVGhQO9xQOFBLUWyQ3QCrRYMAa8igfwAWC1HoXtKR+otRbJNdAIoACpAYUDqRXJM9ATxgKpA7yKB/AC',
    'CSCFBKAAhO2pCMky0AigA64OB71/6IXvhOymCMkM0Ae1oDAD7gkBrWoD8AmgFskB8AHIhO+k78AG0B21HskCkASiBIbsKSANRwfQ',
    'DKUJKQjQBqUDSQOFA7li6AUEhQS5R+iqpOytagPwMMkB0BOtYwMQAqLepe0pIPADjgkBTFLqrWMDKQHwAqLkpe0pIPDupQI46RCF',
    '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',
    'hDQ0giyENIY6BACgISGgISsFo4IYhBgYghgYBIY6IjGQMZAxcTGQkJAAgjSELIUihCSCJjYENoYmAKwnXR2eLayfhRSCIIQiLB4e',
    'giwsHgSHKkBAQDo2gjQsBCaGIgDj9/f39fGsJ56dhRiCHoQiKiIigiwsIgSGBIIqNgQ2hzY0MIYsBAAAaGpsRaIxsPHt66IdnJWG',
    'BIUigiKHIiYqhCwihhRRkDERAIAiKCImIiQiJiIoIioiKCImIigiJiIkIiYiKCIqIigiJiAmICQgJiAoICYgKCAmICQgJiAkICYg',
    'KCAmICggJiAkKDAoMigwKC4oMCguKCwoLigwKDIoMCguKDAoLigsKC4ABHBubG5wcnBucG5sbnBycG5ubG5wbnBubG5sbnBucG5s',
    'dnh2dHZ0cnR2eHZ0dnRydIQagxgghB6DHCgmHBocgiwEBCIEBIQchyYqJoQkKCSAIgCcBZQFDZ8enJidgiIEBBwEBIQUhh6AFoAU',
    'gRwwBDAwBB4yBDIyBCA0BDQ0BDYEhDYARqRkpEimZqZKqGioakQrgSpCBEJCBCxkBGRkBC5GBEZGBCIEhCKHBAYMFBwihiwihwRg',
    'DhQaJIYsJIcECBAYHiiGMDCAZADN1d3j7fW7tc/V2+Xt872z0dnf6fH3v////zQAhgSHFBwihjSELAQEBIcUGiSGMoQsBIYEhxge',
    'KIY2hzAwMIAsghQsYiYQKIAEghQsYiYQKIAEgggeXhhgGoAEgggeXhhgGoYEgxoYFoQUGhgODBaDFCAeHCgmhyQaEhBiDoAEBACC',
    'GBwgIiYogSoqKgQqBIMqgiKGNDI0gQQiJiosMIY0gzKCNoQ0hQSBIoYwLjCBBCImKiwuhjCDIoI2hDSFBIEihjo6OoI6gUCCBIE6',
    'hjY2NoI2gTqCBIE2hjSCJio2gTQ0hTSBKoYsAISQsIRQULAAmJaUkpSWWFhYRFxEn6Oho4Wj4KYjxJ+dn4Wf0qYjxLWxr4Wxr62F',
    'lZ6iqmpqa16dhAQEgiKGIoIUIiwSIioUIiwcIiwUIiwSIioUIiwcIiwYIioWICgYIioSIioYIioSIioUIiwMIiwUIjQSIjAQIi4W',
    'IjQYJjYWJjYUJjYSIjZcIjQMIiKBHh6FHoEShhSBLCIcLCIchSwEgS4kHi4kHoUuBIEyKCIyKCKFMoc2NjaEOgBcVExcVExcHBxc',
    'XFxcXlZOXlZOXh4eXl5eXmJaUGJaUGIiImLn5+crhhSBFIAUFIEUFBQUhhaBFoAWFoEWFhYWgSgiGigiGiiAKCiBKIcsLCyEMIME',
    'hAyDYhCEEoMcIh4iJhgeBBwA4+HjHd7gI+x1dPD09uoxLYMSFAQYGhwUJiIeHBgeIgwU//8AiAArAAACcgJPAi4CDgHxAboBoQGK',
    'AXQBXwFLATkBJwEXAQcA+ADqAN0A0QDFALoArwClAJwAlACLAIMAfABuAHQAaABOAFwAWABSAEoAQgA+ADYAMQAnACAEHQMVAr4C',
    'mAHVAGIECBAgQBgwDAMGDBgwEiQIAwYMGDASJAgkAgYEDBIYCBsBBQMJDRIGEgEDAgYJDASYmZqbkJSUlZWWl5iQkZKSk5OTlJSU',
    'lJSUlZWVlZWVlpaWlpaWlpaWlpaWlpaWlpaVlZSTFRYWFxcYGRkaGhwdHR4eHx8fHx4dHB4fHx4dHBoYFhQVFhYXFxgZGRoaHB0d',
    'Hh4fgoAAgPD/Aw8fHxwkJmYAAAAAHz8/f+DAgPyAwAAgACBgAPD8/v5gcBgHDx8/f39/HwcAHj9//HwAAODw+Pj8/PjAwmcvN39/',
    '//8HBw8Pf3788Pj48HD9/rT4+Pn7/zc2XAAAAQMfHz////xwcDgIJOPw+HBwOP///x8AAAAAHx8fHwAAAAAAAAEHDw8OEgAAAAAA',
    'AA8fAADw4MD+QGAAAAAQMAD4/hMzMBgEDx8fHz8/HwcIFxcAEH4+AADA4P///v784ECgPz8/Hx8fHx83JyMDAQAAAPDw8Pj4+Pj4',
    'zP////9wAAj////+8MCAAPDw8PDwwIAA/Pz4eHh4fn4QYIAAeHh+fgADDx8fHCQmAAAAAAAfPz8A4MCA/IDAAAAAIGAA8Pz+ZmAw',
    'GA8fPz9/fz8fABYvLyD8fAAA4ODw/vz8+MBgIDA/Pz8/Pz8/Hy8vLw8HAwAA8JAACAwc/PgQ8PDw8ODA4A8PBwcHDw8DAQMBBAcP',
    'DwP48ODwsIDg4Pjw4HCwgODgAz9/GQkJKFwAMHB////38/jg4PwmMIAQABgQAPj4/v8+Hj84MDAAOucPDx8fHw8HeB6A/n5+f3//',
    '/vzGju7//zw/Hw8HPyEgAwAADgc/Pz/////+/v78cP9/Pw7AwODgD5/P/38/Hg4AgMj+fz8eDiDAgIAAAAAA4AAAAAAAAAAAAAMP',
    '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',
    'JBIJCAcAAAD/vxzA8/9+HABA4z8MgWIcv389g8f//zxAgMJ8OADDPPz+//7++GAABAIBAAaYYADAIBAQEBAgwMDg8PDw8ODAAAAA',
    'AD9/4MAAAAAAAAAcPoiciICAgICAf39/PhwAAAD+/v7+/v7+/v//////////CBQkxANAoSYACBg4/L9e2f////9/f39/gYGBgYGB',
    'gYH//////////wEBAQEBAQEBf4CAmJyMgIAAf39nZ39/f/8BAf8QEBD/AP////////+AgICAgICAgH9/f39/f39/AQEB/xAQEP//',
    '//////////8AAAAAAAAAAP/////////+AQEZHQ0BAQD//+fn////AQEBAQEBAQH//////////z9/f///////P2BAwICAgID/////',
    '//9+PICAgICAgUI8////////////AAAAAAAAAP////////58AAAAAAABgnz////////+fAAAAAAAAYP/+Pz+/v/////4BAICAQEB',
    'Af///////348AQEBAQGBQjwACAgIEBAQAP//////////AH9/eHNzc39/gKCHj46OhgD//z+fn58f/gEFweFxcfF+fn9+fn9//4GB',
    'gIGBoID/f3//f3/////xwcGBwcUB/3+AoICAgICAf//////////+AQUBAQEBAf7/////////gICAgICggH//////////fwEBAQEB',
    'BQH+//////////4AAAAA/P4HAwAAAAAAADh8ETkRAQEBAQH+/v58OAAAAO8oKCgoKO8AIOfn5+fn7wD+goKCgoL+AAJ+fn5+fv4A',
    'gICAmJyMgH9/f39nZ39/f///g/Pz8/Pz/4D8jIyMjIz///D29vb29v8ADwkJCQkJ//8AAAAAAAD/AP//////////AVcvVy9X/wH/',
    'qdGp0anz8/Pz8/P/P4yMjIyMjP8/9vb29vb2//8JCQkJCQn//wAAAAAAAP////////////8vVy9XL1f//NGp0anRqf/8PDw8PDw8',
    'PDwjIyMjIyMjI/v7+/v7+/v7BAQEBAQEBAS8XLxcvFy8XESkRKREpESkHyBAQICAgIEfP39//////v+AgMD///7+/39/PwAAAQH/',
    'f3///wcDA/+AgAAA+Pz8/wAAAACBw////////348APj8/v7jwYGB+AQCAh0/f3+D//////9/H/yAgICAgGAf/Pz8/P7+//8DAwMD',
    'AQEA/wEBAQEDAwf//v7+/vz8+P///////////wAAAAAAAAD/gcHj//////5/Px0BAQED/v//////+7XOgICAgICEyrH//////9+t',
    'cwEBAQEBIVONd3d3d3d3d3cAAAAAd////wAAAAAAAAD///////////93d3d3AAAAAP///3d3d3d3AQEBGR0NAf7////n5////iB4',
    'f/7+/v7+ACEhQUFBQUEEmvr9/f39/QCAgICAgICAfjghAAEAAQAhIQEBAQEBAfqKhICAgICAgICAgICAgIACBAAQAECAAAEBBggY',
    'ICDACws7C/sLCwoEBMT09AQEBZAQHxAfEBCQcPDw///w8HA/eOfPWFhQkMCHGLDn5+/vsPziwcGDj35vQ10/P39///4DD5FwYCAx',
    'A//xbs/f//8/Px05e/OG/v37+/f3D3////////+AgP//gICAgP//gP7/////AwP//gMDAwP//wMA//////8AAAD/AAAAAP//PPz8',
    '/Pz8BAQj8wsLCwf///////+A////gICAgP+AgID/////A////wMDAwP/AwMD//////8A//8AAAAAAP8AAPz8/v7+Av7+BwcDAwP/',
    'AwP/gICAgICAgID//////////wMDAwMDAwMD/////////wICAgICAgQE//////////+AgKrVqv//////1arVgID/AwOrV6v///7/',
    '/1erVwMD/gBVqlX///8A/6pVqgAA/wAEVKxc/Pz8PP+vV6sLC/MjPz8/PwAAAP///////////358fHgAAAD///////////8fDw8H',
    'AAAA/////////////vz8+AAAAP///////////wAAAAD//wAAAAAAAAAAAAAYGBgYGBgYGAAAAAAAAAAABx8//39/////////////',
    '/+H5/f/+/v/////////////wEBAQEBAQ/wDg4ODg4ODgHxAQEBAQEP8ADw8PDw8PD5KSkv7+AAAASEhsAAAA/gAKCjoK+wsLCwUF',
    'xfX0BAQEkJCfkJ+QkJBwcHB/f3BwcAEBAQEBAQEBAAAAAAAAAACAgICAgICAgAAAAAAAAAAACIiR0VNTcz////////6+zgAABw8M',
    'GxsbAAAAAAMEBAQAAODw8Pj4+AAAYDAwmJiYGxsbGxsPDwcEBAQEBAMAAPj4+Pj48PDgmJiYmJgwMGDxEREfEBAQ/w/v7+/v7+/g',
    'HxAQ8BAQEP/g7+/v7+/vD3+/3+/w8PDwgEAgEA8PDw/w8PDw/////w8PDw8fP3///////w8PDw8BAwcP/////w8PDw/3+/3+////',
    '//////8AAAAAAAAYGAAAAAAAAAAAHz9/f3////8fIEBAQICCgv///39/fz8egoCgRENAIR74/P7+/v////gEAgICAUFB/////v7+',
    '/HhBAQUiwgKEeH+AgICAgICAgH9/f39/f3/eYWFhcV5/YWHf39/f/8HfgIDA8L+PgX5/f/8/T3F//2FhwcGBgYP+39+/v39/f38A',
    'AAMPHz9/fwAAAwwQIEBAAADA8Pj8/v4AAMAwCAQCAv//////////gICAgICAgID//////////wEBAQEBAQEBf39/Pz8fDwdAQEAg',
    'MBwPB/7+/vz8+PDwAgICBAw48PAPDw8PDw8HDwgICAgIDAUK8PDw8PDw4PAQUFBQUDCgUIHBo6OdgYGBAEEiIhwAAADj98HBwcH3',
    '4+MUPj4+PhTjAAAHDwwbGxv///jw8ODg4AAA4PDw+Pj4//9/Pz+fn58bGxsbGw8PB+Dg4ODg8/D4+Pj4+Pjw8OCfn5+fnz8/f+D/',
    '////////AHAfEHB/f38H/////////wAD+AAD+/v7///////+/+98e3Z1dXcXZ//f76+vb+/nO/t7+/vz+PMfHz8/cGPn5Q8PHx8/',
    'PHh68PD4+AzE5Kb4+Pz8/j4eX+np6e/i4/D/dnZ2cH18f3+Wlpb2RsYO/m9vbw+/P///AAAAAAAAfjw8fn7///9CADxCmaGhmUI8',
    'AAAAAAAAAAAPHx8/P39/f/Dg4MDAgICA8Pj4/Pz+/v4PBwcDAwEBAX9/Pz8/Px8fgIDAwOD4/v/+/////Pz+/v9/HwcDAwGBf39/',
    'Pz8/Px+AgIDAwODg8P7+///////+AQEBAwMHBw8fDw8HAAAAAP///////////vz8+AAAAAD//////////35+fn5/f39/gYGBgYGB',
    'gYH//////////gEBAQMDBwcP/v7+/v////8BAQEBAQEBAX9/f39/f39/gYGBgYGBgYH//////P7+fv8DAwMDAwP//////wAAAAD/',
    '/////////39/f39/f39/gICAgICAgID//////////gEBAQMHAwEBfn5/f39/f3+BgYGBgYGBgT8/Pz8AAAAA//////////9+fHx4',
    'AAAAAP///////////v7//39/f3+BgYGBgYGBgX9/Pz8/Px8fgIDAwOD4/v8/v////Pz+/v9/HwcDAwGBf39+fn9/f3+BgYGBgYGB',
    'gX5+fn5/f39/gYGBgYGBgYGBw8Pn5////348PBgYAAAAD0NbUzEZDwfy/v7//+/3+MHDxoT8/A4Cv769e3sH8/0QICK65uHAwP//',
    '/2dZnr+/IKZUJiDGVCYg5lQmIQZUJiCFAUQghlRIIJoBSSClyUYguslKIKYK0NHY2N7R0Nre0SDGCtLT29vb2dvc298g5grU1dTZ',
    '2+LU2tvgIQYK1tfW1+Em1t3h4SEmFNDo0dDR3tHY0NEm3tHe0dDR0NEmIUYU20JC20LbQtvbQibbQttC20LbQiYhZkbbIWwO39vb',
    '2ybb39vf29vk5SYhhhTb29veQ9vg29vbJtvj2+Db2+bjJiGmFNvb29tC29vb1Nkm29nb29TZ1NnnIcUWX5WVlZWVlZWVl5h4lZaV',
    'lZeYl5iVeiHtDs8BCQgFJBcSFx0OFw0YIksNASQZFQoiDhskEAoWDiKLDQIkGRUKIg4bJBAKFg4i7AQdGBkoIvYBACPJVlUj4gSZ',
    'qqqqI+oEmaqqqgD///////////////////8='
  ],

  // 获取 Uint8Array 格式的 ROM 数据
  getBytes() {
    const binaryString = atob(this.data.join(''));
    const bytes = new Uint8Array(binaryString.length);
    for (let i = 0; i < binaryString.length; i++) {
      bytes[i] = binaryString.charCodeAt(i);
    }
    return bytes;
  },

  // 获取 ArrayBuffer 格式的 ROM 数据
  getArrayBuffer() {
    return this.getBytes().buffer;
  }
};

// 使用方式:
// window.loadEmbeddedRomData(EMBEDDED_ROM.data.join(''));

class e{constructor(){this.userChannelEnabled={pulse1:!0,pulse2:!0,triangle:!0,noise:!0,dmc:!0},this.pianoMode={pulse1:!1,pulse2:!1,triangle:!1,noise:!1,dmc:!1},this.mixMode={pulse1:!1,pulse2:!1,triangle:!1,noise:!1,dmc:!1},this.mixVolume={pulse1:.7,pulse2:.7,triangle:.7,noise:.7,dmc:.7},this.instrumentVolume={pulse1:1,pulse2:1,triangle:1,noise:1,dmc:1},this.octaveShift={pulse1:0,pulse2:0,triangle:0,noise:0,dmc:0},this.channelInstruments={pulse1:"piano",pulse2:"piano",triangle:"piano",noise:"piano",dmc:"piano"},this.channelWaveforms={pulse1:"default",pulse2:"default",triangle:"default",noise:"default",dmc:"default"},this.instrumentConfigs={piano:{type:"triangle",attack:.002,decay:.6,sustainLevel:.2,release:1.2,harmonics:[{freq:1,gain:1},{freq:2,gain:.35},{freq:3,gain:.15},{freq:4,gain:.08}],filterType:"lowpass",filterFreq:3500,filterQ:.8,filterEnvAttack:.005,filterEnvDecay:.3,filterEnvSustain:.4,filterEnvRelease:.6,filterEnvAmount:1200},flute:{type:"triangle",attack:.04,decay:.15,sustainLevel:.9,release:.3,harmonics:[{freq:1,gain:1},{freq:2,gain:.4},{freq:3,gain:.15},{freq:4,gain:.05}],noiseMix:.08,filterType:"lowpass",filterFreq:3500,filterQ:.8,filterEnvAttack:.06,filterEnvDecay:.15,filterEnvSustain:.9,filterEnvRelease:.25,filterEnvAmount:600},trumpet:{type:"sawtooth",attack:.015,decay:.1,sustainLevel:.75,release:.25,harmonics:[{freq:1,gain:1},{freq:2,gain:.6},{freq:3,gain:.4},{freq:4,gain:.25},{freq:5,gain:.15}],filterType:"lowpass",filterFreq:3200,filterQ:1.2,filterEnvAttack:.01,filterEnvDecay:.08,filterEnvSustain:.6,filterEnvRelease:.2,filterEnvAmount:1e3},saxophone:{type:"sawtooth",attack:.04,decay:.15,sustainLevel:.8,release:.35,harmonics:[{freq:1,gain:1},{freq:2,gain:.5},{freq:3,gain:.3},{freq:4,gain:.18},{freq:5,gain:.1}],filterType:"lowpass",filterFreq:2600,filterQ:1.8,filterEnvAttack:.03,filterEnvDecay:.12,filterEnvSustain:.7,filterEnvRelease:.3,filterEnvAmount:800},snare:{type:"noise",attack:.001,decay:.12,sustainLevel:0,release:.08,harmonics:[],noiseType:"white",filterType:"bandpass",filterFreq:1800,filterQ:2,filterEnvAttack:.001,filterEnvDecay:.06,filterEnvSustain:.3,filterEnvRelease:.05,filterEnvAmount:400,volumeBoost:1.8},dongxiao:{type:"sine",attack:.15,decay:.3,sustainLevel:.75,release:1.5,harmonics:[{freq:1,gain:1},{freq:2,gain:.08},{freq:3,gain:.02}],filterType:"lowpass",filterFreq:2200,filterQ:.7,filterEnvAttack:.12,filterEnvDecay:.25,filterEnvSustain:.7,filterEnvRelease:1,filterEnvAmount:350},guzheng:{type:"triangle",attack:.001,decay:.5,sustainLevel:.15,release:2.5,harmonics:[{freq:1,gain:1},{freq:2,gain:.4},{freq:3,gain:.2},{freq:4,gain:.1}],filterType:"lowpass",filterFreq:3200,filterQ:.9,filterEnvAttack:.002,filterEnvDecay:.2,filterEnvSustain:.4,filterEnvRelease:1.5,filterEnvAmount:1e3},suona:{type:"sawtooth",attack:.005,decay:.08,sustainLevel:.85,release:.2,harmonics:[{freq:1,gain:1},{freq:2,gain:.45},{freq:3,gain:.35},{freq:4,gain:.2},{freq:5,gain:.12}],filterType:"lowpass",filterFreq:3e3,filterQ:1.5,filterEnvAttack:.003,filterEnvDecay:.06,filterEnvSustain:.75,filterEnvRelease:.15,filterEnvAmount:1200},erhu:{type:"sawtooth",attack:.08,decay:.3,sustainLevel:.7,release:1.5,harmonics:[{freq:1,gain:1},{freq:2,gain:.5},{freq:3,gain:.25},{freq:4,gain:.12},{freq:5,gain:.06}],bowNoise:.15,bowNoiseFilter:1200,bodyResonance:{freq:550,gain:.4,Q:3},skinResonance:{freq:900,gain:.6,Q:2.5},filterType:"lowpass",filterFreq:1600,filterQ:.6,filterEnvAttack:.1,filterEnvDecay:.3,filterEnvSustain:.65,filterEnvRelease:1,filterEnvAmount:300,vibratoRate:5.8,vibratoDepth:.12,vibratoDelay:.4},daluo:{type:"sine",attack:.001,decay:.05,sustainLevel:.6,release:4,harmonics:[{freq:1,gain:1},{freq:1.41,gain:.7},{freq:2,gain:.5},{freq:2.82,gain:.35},{freq:4,gain:.2}],noiseMix:.15,filterType:"bandpass",filterFreq:800,filterQ:.8,filterEnvAttack:.001,filterEnvDecay:.08,filterEnvSustain:.6,filterEnvRelease:3,filterEnvAmount:600,volumeBoost:1.4},shakuhachi:{type:"sine",attack:.18,decay:.35,sustainLevel:.7,release:1.2,harmonics:[{freq:1,gain:1},{freq:2,gain:.1},{freq:3,gain:.03}],filterType:"lowpass",filterFreq:2e3,filterQ:.6,filterEnvAttack:.15,filterEnvDecay:.3,filterEnvSustain:.65,filterEnvRelease:.8,filterEnvAmount:300},koto:{type:"triangle",attack:.002,decay:.45,sustainLevel:.12,release:2.8,harmonics:[{freq:1,gain:1},{freq:2,gain:.35},{freq:3,gain:.15},{freq:4,gain:.07}],filterType:"lowpass",filterFreq:2800,filterQ:.85,filterEnvAttack:.003,filterEnvDecay:.22,filterEnvSustain:.35,filterEnvRelease:1.8,filterEnvAmount:800},shamisen:{type:"square",attack:.001,decay:.2,sustainLevel:.1,release:1.2,harmonics:[{freq:1,gain:1},{freq:2,gain:.25},{freq:3,gain:.4},{freq:4,gain:.15},{freq:5,gain:.2}],filterType:"bandpass",filterFreq:1500,filterQ:1.5,filterEnvAttack:.001,filterEnvDecay:.1,filterEnvSustain:.3,filterEnvRelease:.7,filterEnvAmount:1e3},biwa:{type:"sawtooth",attack:.003,decay:.3,sustainLevel:.15,release:1,harmonics:[{freq:1,gain:1},{freq:2,gain:.4},{freq:3,gain:.25},{freq:4,gain:.12}],filterType:"lowpass",filterFreq:2600,filterQ:1,filterEnvAttack:.003,filterEnvDecay:.18,filterEnvSustain:.4,filterEnvRelease:.7,filterEnvAmount:900},taiko:{type:"noise",attack:.001,decay:.6,sustainLevel:0,release:.4,harmonics:[],noiseType:"brown",filterType:"lowpass",filterFreq:280,filterQ:.8,filterEnvAttack:.001,filterEnvDecay:.3,filterEnvSustain:.2,filterEnvRelease:.35,filterEnvAmount:200,volumeBoost:4.5}},this.webAudioContext=null,this.pianoOscillators={},this.instrumentCategories={wind:["flute","trumpet","saxophone","dongxiao","suona","shakuhachi"],string:["piano","guzheng","koto","shamisen","biwa"],bowed:["erhu"],percussion:["snare","daluo","taiko"]},this.glideConfig={enabled:!0,duration:.15,curve:"exponential"},this.mixingConfig={autoVolumeDecay:.75,panPositions:{pulse1:-.6,pulse2:.6,triangle:0,noise:-.3,dmc:.3},masterCompressor:{threshold:-12,knee:6,ratio:4,attack:.005,release:.1}},this.activeChannelCount=0,this.lastNoteFrequency={}}initPianoAudio(){if(!this.webAudioContext)try{this.webAudioContext=new(window.AudioContext||window.webkitAudioContext),this.masterCompressor=this.webAudioContext.createDynamicsCompressor();const e=this.mixingConfig.masterCompressor;this.masterCompressor.threshold.value=e.threshold,this.masterCompressor.knee.value=e.knee,this.masterCompressor.ratio.value=e.ratio,this.masterCompressor.attack.value=e.attack,this.masterCompressor.release.value=e.release,this.masterCompressor.connect(this.webAudioContext.destination)}catch(e){console.warn("钢琴模式音频初始化失败:",e)}}getInstrumentCategory(e){for(const[t,s]of Object.entries(this.instrumentCategories))if(s.includes(e))return t;return"other"}isWindInstrument(e){return this.instrumentCategories.wind.includes(e)}isBowedInstrument(e){return this.instrumentCategories.bowed.includes(e)}canGlide(e){return this.isWindInstrument(e)||this.isBowedInstrument(e)}updateActiveChannelCount(){let e=0;for(const t of Object.keys(this.pianoOscillators))this.pianoOscillators[t]&&!this.pianoOscillators[t].isReleasing&&e++;this.activeChannelCount=e}setGlideConfig(e){void 0!==e.enabled&&(this.glideConfig.enabled=e.enabled),void 0!==e.duration&&(this.glideConfig.duration=e.duration),void 0!==e.curve&&(this.glideConfig.curve=e.curve)}applyGlide(e,t,s,i,n,r){const now=this.webAudioContext.currentTime;e.frequency.setValueAtTime(s,now),"exponential"===r?e.frequency.exponentialRampToValueAtTime(i,now+n):e.frequency.linearRampToValueAtTime(i,now+n),t.forEach((e,t)=>{const o=s*(t+2),_n119=i*(t+2);e.frequency.setValueAtTime(Math.max(20,Math.min(o,2e4)),now),"exponential"===r?e.frequency.exponentialRampToValueAtTime(Math.max(20,Math.min(_n119,2e4)),now+n):e.frequency.linearRampToValueAtTime(Math.max(20,Math.min(_n119,2e4)),now+n)})}createNoiseBuffer(e,t){const s=this.webAudioContext.sampleRate,i=s*t,n=this.webAudioContext.createBuffer(1,i,s),r=n.getChannelData(0);if("white"===e)for(let e=0;i>e;e++)r[e]=2*Math.random()-1;else if("brown"===e){let e=0;for(let t=0;i>t;t++){const s=2*Math.random()-1;r[t]=(e+.02*s)/1.02,e=r[t],r[t]*=3.5}}else if("pink"===e){let e=0,t=0,s=0,n=0,o=0,_n119=0,c=0;for(let h=0;i>h;h++){const i=2*Math.random()-1;e=.99886*e+.0555179*i,t=.99332*t+.0750759*i,s=.969*s+.153852*i,n=.8665*n+.3104856*i,o=.55*o+.5329522*i,_n119=-.7616*_n119-.016898*i,r[h]=.11*(e+t+s+n+o+_n119+c+.5362*i),c=.115926*i}}return n}playPianoNote(e,t,s){if(!this.webAudioContext||!this.pianoMode[e])return;if(!this.userChannelEnabled[e])return;const i=void 0!==this.instrumentVolume[e]?this.instrumentVolume[e]:1;if(0===i)return;"suspended"===this.webAudioContext.state&&this.webAudioContext.resume();const now=this.webAudioContext.currentTime,n=e;this.stopPianoNoteSmooth(e);const r=this.channelInstruments[e]||"piano",o=r.includes("_")?r.substring(r.indexOf("_")+1):r,_n119=this.instrumentConfigs[o]||this.instrumentConfigs.piano,c=this.channelWaveforms[e],h=c&&"default"!==c?c:_n119.type,l=this.webAudioContext.createGain(),u=_n119.attack,d=_n119.decay,_n122=_n119.sustainLevel,m=_n119.release,g={pulse1:1,pulse2:1,triangle:.85,noise:1.2,dmc:1}[e]||1,f=1.3-(void 0!==this.mixVolume[e]?this.mixVolume[e]:.7);this.updateActiveChannelCount();const _c106=Math.max(1,this.activeChannelCount),_n121=s/15*.9*Math.pow(this.mixingConfig.autoVolumeDecay,_c106-1)*g*f*(_n119.volumeBoost||1)*i;if("noise"===h){const t=_n119.noiseType||"white",s=u+d+m+.5,i=this.createNoiseBuffer(t,s),r=this.webAudioContext.createBufferSource();r.buffer=i;const o=this.webAudioContext.createBiquadFilter();o.type="lowpass",o.frequency.value=_n119.filterFreq||1e3,o.Q.value=_n119.filterQ||1,r.connect(o),o.connect(l);const c=this.webAudioContext.createStereoPanner(),h=this.mixingConfig.panPositions[e]||0;return c.pan.value=h,l.connect(c),this.masterCompressor?c.connect(this.masterCompressor):c.connect(this.webAudioContext.destination),l.gain.setValueAtTime(0,now),l.gain.linearRampToValueAtTime(_n121,now+u),l.gain.linearRampToValueAtTime(_n121*_n122,now+u+d),r.start(now),r.stop(now+s),void(this.pianoOscillators[n]={oscillator:r,gainNode:l,harmonicOscillators:[],harmonicGains:[],filter:o,startTime:now,isReleasing:!1})}l.gain.setValueAtTime(0,now),l.gain.linearRampToValueAtTime(_n121,now+u),l.gain.linearRampToValueAtTime(_n121*_n122,now+u+d);const _c100=Math.max(20,Math.min(t,2e4)),b=this.canGlide(o),S=this.lastNoteFrequency[e],_c105=b&&this.glideConfig.enabled&&S&&S!==_c100,v=_c105?this.isBowedInstrument(o)?1.5*this.glideConfig.duration:this.glideConfig.duration:0,_=_c105?S:_c100,w=this.webAudioContext.createOscillator();w.type=h,w.frequency.value=_;const R=this.webAudioContext.createBiquadFilter();R.type=_n119.filterType||"lowpass",R.frequency.value=_n119.filterFreq||5e3,R.Q.value=_n119.filterQ||1;const M=[],_n120=[],_c110=[];_n119.harmonics.forEach(e=>{const t=this.webAudioContext.createOscillator();t.type=h;const s=_*e.freq;e.freq,t.frequency.value=Math.max(20,Math.min(s,2e4));const i=this.webAudioContext.createGain(),n=e.gain*_n121*.8;i.gain.value=n,t.connect(i),i.connect(l),t.start(now),i.gain.setValueAtTime(0,now),i.gain.linearRampToValueAtTime(n,now+u),i.gain.linearRampToValueAtTime(n*_n122,now+u+d),M.push(t),_n120.push(i),_c110.push(e.gain)});let E=null,_c108=null;if(_n119.noiseMix&&_n119.noiseMix>0){const e=u+d+m+.5,t=this.createNoiseBuffer("white",e);E=this.webAudioContext.createBufferSource(),E.buffer=t,_c108=this.webAudioContext.createGain(),_c108.gain.value=_n121*_n119.noiseMix,E.connect(_c108),_c108.connect(l),E.start(now),E.stop(now+e)}if(_n119.filterEnvAttack||_n119.filterEnvDecay||_n119.filterEnvSustain||_n119.filterEnvRelease){const e=_n119.filterEnvAttack||0,t=_n119.filterEnvDecay||0,s=_n119.filterEnvSustain||1,i=(_n119.filterEnvRelease,_n119.filterEnvAmount||2e3),n=_n119.filterFreq||5e3,r=n+i,o=n+i*s;R.frequency.setValueAtTime(n,now),R.frequency.linearRampToValueAtTime(r,now+e),R.frequency.linearRampToValueAtTime(o,now+e+t)}let O=null,T=null,k=null,_c113=null;if("erhu"===o){if(_n119.bowNoise&&_n119.bowNoise>0){const e=u+d+m+1,t=this.createNoiseBuffer("pink",e);O=this.webAudioContext.createBufferSource(),O.buffer=t;const s=this.webAudioContext.createBiquadFilter();s.type="bandpass",s.frequency.value=_n119.bowNoiseFilter||1e3,s.Q.value=1.5,T=this.webAudioContext.createGain(),T.gain.value=_n121*_n119.bowNoise,T.gain.setValueAtTime(_n121*_n119.bowNoise,now),T.gain.exponentialRampToValueAtTime(_n121*_n119.bowNoise*.3,now+u+.1),O.connect(s),s.connect(T),T.connect(l),O.start(now),O.stop(now+e)}_n119.bodyResonance&&(k=this.webAudioContext.createBiquadFilter(),k.type="peaking",k.frequency.value=_n119.bodyResonance.freq,k.gain.value=10*_n119.bodyResonance.gain,k.Q.value=_n119.bodyResonance.Q),_n119.skinResonance&&(_c113=this.webAudioContext.createBiquadFilter(),_c113.type="peaking",_c113.frequency.value=_n119.skinResonance.freq,_c113.gain.value=10*_n119.skinResonance.gain,_c113.Q.value=_n119.skinResonance.Q)}const L=this.webAudioContext.createStereoPanner(),_c109=this.mixingConfig.panPositions[e]||0;L.pan.value=_c109,w.connect(R),k?(R.connect(k),_c113?(k.connect(_c113),_c113.connect(l)):k.connect(l)):_c113?(R.connect(_c113),_c113.connect(l)):R.connect(l),l.connect(L),this.masterCompressor?L.connect(this.masterCompressor):L.connect(this.webAudioContext.destination),w.start(now),_c105&&v>0&&this.applyGlide(w,M,_,_c100,v,this.glideConfig.curve);let F=null,_c101=null;_n119.vibratoRate&&_n119.vibratoDepth&&(F=this.webAudioContext.createOscillator(),_c101=this.webAudioContext.createGain(),F.frequency.value=_n119.vibratoRate,_c101.gain.value=_c100*_n119.vibratoDepth,F.connect(_c101),_c101.connect(w.frequency),_c101.gain.setValueAtTime(0,now),_c101.gain.linearRampToValueAtTime(_c100*_n119.vibratoDepth,now+u+.3),F.start(now),M.forEach((e,t)=>{const s=this.webAudioContext.createGain();s.gain.value=_c100*(t+2)*_n119.vibratoDepth,F.connect(s),s.connect(e.frequency),s.gain.setValueAtTime(0,now),s.gain.linearRampToValueAtTime(_c100*(t+2)*_n119.vibratoDepth,now+u+.3)})),this.lastNoteFrequency[e]=_c100,this.pianoOscillators[n]={oscillator:w,gainNode:l,harmonicOscillators:M,harmonicGains:_n120,harmonicBaseGains:_c110,noiseSource:E,noiseGain:_c108,filter:R,vibratoOsc:F,vibratoGain:_c101,bowNoiseSource:O,bowNoiseGain:T,bodyResonanceFilter:k,skinResonanceFilter:_c113,startTime:now,isReleasing:!1,instrument:o}}stopPianoNoteSmooth(e){if(!this.webAudioContext||!this.pianoOscillators[e])return;const t=this.pianoOscillators[e],now=this.webAudioContext.currentTime,s=.15;t.gainNode.gain.cancelScheduledValues(now),t.gainNode.gain.setValueAtTime(Math.max(t.gainNode.gain.value,.001),now),t.gainNode.gain.exponentialRampToValueAtTime(.001,now+s),t.harmonicOscillators.forEach((e,i)=>{t.harmonicGains[i].gain.cancelScheduledValues(now),t.harmonicGains[i].gain.setValueAtTime(Math.max(t.harmonicGains[i].gain.value,.001),now),t.harmonicGains[i].gain.exponentialRampToValueAtTime(.001,now+s),e.stop(now+s)}),t.noiseSource&&t.noiseSource.stop(now+s),t.vibratoOsc&&t.vibratoOsc.stop(now+s),t.bowNoiseSource&&t.bowNoiseSource.stop(now+s),t.oscillator.stop(now+s),delete this.pianoOscillators[e]}stopPianoNoteImmediately(e){if(!this.webAudioContext||!this.pianoOscillators[e])return;const t=this.pianoOscillators[e],now=this.webAudioContext.currentTime,s=.01;t.gainNode.gain.cancelScheduledValues(now),t.gainNode.gain.setValueAtTime(Math.max(t.gainNode.gain.value,.001),now),t.gainNode.gain.exponentialRampToValueAtTime(.001,now+s),t.harmonicOscillators.forEach((e,i)=>{t.harmonicGains[i].gain.cancelScheduledValues(now),t.harmonicGains[i].gain.setValueAtTime(Math.max(t.harmonicGains[i].gain.value,.001),now),t.harmonicGains[i].gain.exponentialRampToValueAtTime(.001,now+s),e.stop(now+s)}),t.noiseSource&&t.noiseSource.stop(now+s),t.vibratoOsc&&t.vibratoOsc.stop(now+s),t.bowNoiseSource&&t.bowNoiseSource.stop(now+s),t.oscillator.stop(now+s),delete this.pianoOscillators[e]}stopPianoNote(e){if(!this.webAudioContext||!this.pianoOscillators[e])return;const t=this.pianoOscillators[e],now=this.webAudioContext.currentTime,s=this.channelInstruments[e]||"piano",i=this.instrumentConfigs[s]||this.instrumentConfigs.piano,n=i.release;if(t.gainNode.gain.cancelScheduledValues(now),t.gainNode.gain.setValueAtTime(Math.max(t.gainNode.gain.value,.001),now),t.gainNode.gain.exponentialRampToValueAtTime(.001,now+n),t.filter&&i.filterEnvRelease){const e=i.filterEnvRelease||.5,s=i.filterFreq||5e3;t.filter.frequency.cancelScheduledValues(now),t.filter.frequency.setValueAtTime(t.filter.frequency.value,now),t.filter.frequency.linearRampToValueAtTime(s,now+e)}t.harmonicOscillators.forEach((e,s)=>{t.harmonicGains[s].gain.cancelScheduledValues(now),t.harmonicGains[s].gain.setValueAtTime(Math.max(t.harmonicGains[s].gain.value,.001),now),t.harmonicGains[s].gain.exponentialRampToValueAtTime(.001,now+n),e.stop(now+n)}),t.noiseSource&&t.noiseSource.stop(now+n),t.vibratoOsc&&t.vibratoOsc.stop(now+n),t.bowNoiseSource&&t.bowNoiseSource.stop(now+n),t.oscillator.stop(now+n),delete this.pianoOscillators[e]}updateInstrumentVolume(e,t){if(!this.webAudioContext||!this.pianoOscillators[e])return;const s=this.pianoOscillators[e];if(s.isReleasing)return;const now=this.webAudioContext.currentTime,i=t/15*(1-(void 0!==this.mixVolume[e]?this.mixVolume[e]:.7));if(0===t){s.isReleasing=!0;const t=.5;s.gainNode.gain.cancelScheduledValues(now),s.gainNode.gain.setValueAtTime(s.gainNode.gain.value,now),s.gainNode.gain.exponentialRampToValueAtTime(.001,now+t),s.harmonicGains.forEach((e,s)=>{e.gain.cancelScheduledValues(now),e.gain.setValueAtTime(e.gain.value,now),e.gain.exponentialRampToValueAtTime(.001,now+t)}),setTimeout(()=>{this.pianoOscillators[e]&&this.stopPianoNoteImmediately(e)},1e3*t+50)}else{const e=s.gainNode.gain.value,t=Math.abs(i-e);if(.01>t)return;const n=Math.min(.08,Math.max(.03,.3*t));s.gainNode.gain.cancelScheduledValues(now),s.gainNode.gain.setValueAtTime(e,now),s.gainNode.gain.setTargetAtTime(Math.max(i,.001),now,n),s.harmonicGains.forEach((e,t)=>{const r=(s.harmonicBaseGains?s.harmonicBaseGains[t]:.5)*i*.5,o=e.gain.value;.01>Math.abs(r-o)||(e.gain.cancelScheduledValues(now),e.gain.setValueAtTime(o,now),e.gain.setTargetAtTime(Math.max(r,.001),now,n))})}}updateUserInstrumentVolume(e){if(!this.webAudioContext||!this.pianoOscillators[e])return;const t=this.pianoOscillators[e];if(t.isReleasing)return;const s=void 0!==this.instrumentVolume[e]?this.instrumentVolume[e]:1;if(0===s)return void this.stopPianoNoteSmooth(e);const now=this.webAudioContext.currentTime,i=t.gainNode.gain.value;t.gainNode.gain.cancelScheduledValues(now),t.gainNode.gain.setValueAtTime(i,now),t.gainNode.gain.setTargetAtTime(i*s,now,.05),t.harmonicGains.forEach(e=>{const t=e.gain.value;e.gain.cancelScheduledValues(now),e.gain.setValueAtTime(t,now),e.gain.setTargetAtTime(t*s,now,.05)})}playPianoNoteWithNesEnvelope(e,t,s,i,n,r){if(!this.webAudioContext||!this.pianoMode[e])return;if(!this.userChannelEnabled[e])return;if(0===(void 0!==this.instrumentVolume[e]?this.instrumentVolume[e]:1))return;"suspended"===this.webAudioContext.state&&this.webAudioContext.resume();const now=this.webAudioContext.currentTime,o=e;let _n119=0;this.pianoOscillators[e]&&!this.pianoOscillators[e].isReleasing&&(_n119=this.pianoOscillators[e].gainNode.gain.value),this.stopPianoNoteSmooth(e);const c=this.channelInstruments[e]||"piano",h=c.includes("_")?c.substring(c.indexOf("_")+1):c,l=this.instrumentConfigs[h]||this.instrumentConfigs.piano,u=this.channelWaveforms[e],d=u&&"default"!==u?u:l.type,_n122=this.webAudioContext.createGain(),m=void 0!==this.mixVolume[e]?this.mixVolume[e]:.7;let g,f,_c106,_n121;n?(g=.03,f=0,_c106=1,_n121=.15):(g=.02,f=s/60*15,_c106=i?.8:0,_n121=.15);const _c100=(n?r/15:1)*(1-m),b=_n119>.01?.5*_n119:0;if("noise"===d){const e=l.noiseType||"white",t=g+f+_n121+.5,s=this.createNoiseBuffer(e,t),r=this.webAudioContext.createBufferSource();r.buffer=s;const _n119=this.webAudioContext.createBiquadFilter();return _n119.type="lowpass",_n119.frequency.value=l.filterFreq||1e3,_n119.Q.value=l.filterQ||1,r.connect(_n119),_n119.connect(_n122),_n122.connect(this.webAudioContext.destination),_n122.gain.setValueAtTime(b,now),_n122.gain.linearRampToValueAtTime(_c100,now+g),n||i?_n122.gain.linearRampToValueAtTime(_c100*_c106,now+g+f):_n122.gain.linearRampToValueAtTime(.001,now+g+f),r.start(now),i&&!n||r.stop(now+t),void(this.pianoOscillators[o]={oscillator:r,gainNode:_n122,harmonicOscillators:[],harmonicGains:[],filter:_n119,startTime:now,isReleasing:!1,useNesEnvelope:!0,nesEnvelopeLoop:i})}_n122.gain.setValueAtTime(b,now),_n122.gain.linearRampToValueAtTime(_c100,now+g),n||(i?_n122.gain.linearRampToValueAtTime(_c100*_c106,now+g+f):_n122.gain.linearRampToValueAtTime(.001,now+g+f));const S=Math.max(20,Math.min(t,2e4)),_c105=this.webAudioContext.createOscillator();_c105.type=d,_c105.frequency.value=S;const v=[],_=[],w=[];l.harmonics.forEach(e=>{const t=this.webAudioContext.createOscillator();t.type=d;const s=S*e.freq;t.frequency.value=Math.max(20,Math.min(s,2e4));const i=this.webAudioContext.createGain(),n=e.gain*_c100*.8;i.gain.value=n,w.push(e.gain),t.connect(i),i.connect(_n122),t.start(now);const r=b*e.gain*.5;i.gain.setValueAtTime(r,now),i.gain.linearRampToValueAtTime(n,now+g),v.push(t),_.push(i)}),_c105.connect(_n122),_n122.connect(this.webAudioContext.destination),_c105.start(now),this.pianoOscillators[o]={oscillator:_c105,gainNode:_n122,harmonicOscillators:v,harmonicGains:_,harmonicBaseGains:w,startTime:now,isReleasing:!1,useNesEnvelope:!0,nesEnvelopeLoop:i}}timerPeriodToFrequency(e,t){const s=this.octaveShift[t]||0;return 1789772.67/(16*(e+1))*Math.pow(2,s)}}class t{constructor(e,t){this._n077=e,this._n164=t,this._n078=null}_n000(e){this._n078=e}read(e){return e>=24576&&32768>e||32768>e?0:this._n001(e)}writePrgRam(e,t){}_n001(e){let t;return 32768>e?0:(t=16384===this._n164?(e-32768)%16384:e-32768,0>t||t>=this._n164?(console.warn(`Mapper0: 地址超出范围 addr=0x${e.toString(16)}, romAddr=${t}, size=${this._n164}`),0):this._n077[t])}_n002(e,t){}_n003(e){return this._n078&&8192>e&&this._n078[e]||0}_n004(e,t){this._n078&&8192>e&&(this._n078[e]=t)}_n005(){return null}reset(){}_n010(){return{id:0,name:"NROM",_n164:this._n164,_n080:16384===this._n164?1:2}}}class s{constructor(e,t){this._n080=e,this._n081=t,this._n082=16,this._n083=0,this._n084=12,this._n085=0,this._n086=0,this._n087=0,this._n166=new Uint8Array(8192),this._n089=!0,this._n006()}_n006(){this._n090=3&this._n084,this._n091=this._n084>>2&3,this._n092=this._n084>>4&1}_n005(){switch(this._n090){case 0:return"ONESCREEN_A";case 1:return"ONESCREEN_B";case 2:return"_c017";default:return"_c018"}}write(e,t){if(128&t)return this._n082=16,this._n083=0,this._n084|=12,void this._n006();if(this._n082=this._n082>>1|(1&t)<<4,this._n083++,this._n083>=5){switch(e>>13&3){case 0:this._n084=this._n082,this._n006();break;case 1:this._n085=this._n082;break;case 2:this._n086=this._n082;break;case 3:this._n087=15&this._n082,this._n089=!(16&this._n082)}this._n082=16,this._n083=0}}read(e){if(e>=24576&&32768>e)return this._n089?this._n166[e-24576]:0;if(e>=32768){const t=16384*this._n007(e)+(16383&e);if(this._n077&&t<this._n077.length)return this._n077[t]}return 0}writePrgRam(e,t){e>=24576&&32768>e&&this._n089&&(this._n166[e-24576]=t)}_n007(e){const t=e>>14&1;switch(this._n091){case 0:case 1:return 14&this._n087|t;case 2:return 0===t?0:this._n087;case 3:return 0===t?this._n087:this._n080-1;default:return 0}}_n003(e){if(!this._n078)return 0;const t=4096*this._n008(e)+(4095&e);return t<this._n078.length?this._n078[t]:0}_n004(e,t){if(0===this._n081){const s=4096*this._n008(e)+(4095&e);this._n078&&s<this._n078.length&&(this._n078[s]=t)}}_n008(e){const t=e>>12&1;return 0===this._n092?30&this._n085|t:0===t?this._n085:this._n086}_n009(e){this._n077=e}_n000(e){this._n078=e}getStatus(){return{_n084:this._n084,_n087:this._n087,_n085:this._n085,_n086:this._n086,_n091:this._n091,_n092:this._n092,_n090:this._n005(),_n089:this._n089}}reset(){this._n082=16,this._n083=0,this._n084=12,this._n085=0,this._n086=0,this._n087=0,this._n089=!0,this._n006()}}"undefined"!=typeof module&&module.exports&&(module.exports={Mapper1:s}),"undefined"!=typeof window&&(window.Mapper1=s);const i={_c000:8192,_c001:1024,_c002:8192,_c003:8192,_c004:32768,_c005:32769,_c006:40960,_c007:40961,_c008:49152,_c009:49153,_c010:57344,_c011:57345,_c012:8,_c013:16,_c014:128,_c015:64,_c016:8},n={_c017:0,_c018:1,_c019:2,_c020:3,_c021:4};class r{constructor(e){this.nes=e,this._n077=null,this._n166=null,this._n078=null,this._n167=null,this._n164=0,this._n165=0,this._prgBankCount=0,this._chrBankCount=0,this._bankRegisters=new Uint8Array(8),this._selectedRegister=0,this._prgBankMode=0,this._chrBankMode=0,this._wramControl={enabled:!0,writeProtected:!1},this.mirroringType=n._c017,this._prgBanks=[0,0,0,0],this._chrBanks=[0,0,0,0,0,0,0,0],this._irq={latch:0,counter:0,reload:!1,enabled:!1,flag:!1,triggerCount:0,reloadCount:0,decrementCount:0},this._a12={lastState:0,lastCycle:0,minInterval:8,lowCycles:0,minLowCycles:1},this._debug=!1,this._forceMode=!0,this._scanlineEvents=Array(240);for(let e=0;240>e;e++)this._scanlineEvents[e]=null;this._eventCount=0,this._hscrollCallback=null,this._paletteCallback=null}initialize(e,t,s,i,n){this._n077=e,this._n078=t,this._n164=s,this._n165=i,this.mirroringType=n,this._prgBankCount=Math.floor(s/8192),this._chrBankCount=Math.max(1,Math.floor(i/1024)),0===i&&(this._n167=new Uint8Array(8192),this._chrBankCount=8),this._n166=new Uint8Array(8192),this.reset()}reset(){this._bankRegisters.fill(0),this._selectedRegister=0,this._prgBankMode=0,this._chrBankMode=0,this._wramControl.enabled=!0,this._wramControl.writeProtected=!1,this._irq.latch=0,this._irq.counter=0,this._irq.reload=!1,this._irq.enabled=!1,this._irq.flag=!1,this._a12.lastState=0,this._a12.lastCycle=0,this._a12.lowCycles=0,this.clearAllScanlineEvents(),this._hscrollCallback=null,this._paletteCallback=null,this._updatePrgBanks(),this._updateChrBanks()}_updatePrgBanks(){const e=Math.max(0,this._prgBankCount-1),t=Math.max(0,this._prgBankCount-2);0===this._prgBankMode?(this._prgBanks[0]=63&this._bankRegisters[6],this._prgBanks[1]=63&this._bankRegisters[7],this._prgBanks[2]=t,this._prgBanks[3]=e):(this._prgBanks[0]=e,this._prgBanks[1]=63&this._bankRegisters[7],this._prgBanks[2]=63&this._bankRegisters[6],this._prgBanks[3]=t);for(let e=0;4>e;e++)this._prgBanks[e]%=this._prgBankCount}_updateChrBanks(){const e=this._bankRegisters,t=Math.max(1,this._chrBankCount);0===this._chrBankMode?(this._chrBanks[0]=e[0]%t,this._chrBanks[1]=(1|e[0])%t,this._chrBanks[2]=e[1]%t,this._chrBanks[3]=(1|e[1])%t,this._chrBanks[4]=e[2]%t,this._chrBanks[5]=e[3]%t,this._chrBanks[6]=e[4]%t,this._chrBanks[7]=e[5]%t):(this._chrBanks[0]=e[2]%t,this._chrBanks[1]=e[3]%t,this._chrBanks[2]=e[4]%t,this._chrBanks[3]=e[5]%t,this._chrBanks[4]=e[0]%t,this._chrBanks[5]=(1|e[0])%t,this._chrBanks[6]=e[1]%t,this._chrBanks[7]=(1|e[1])%t)}read(e){return this.readRAM(e)}write(e,t){this.writeRAM(e,t)}readRAM(e){if((e&=65535)>=24576&&32768>e)return this._wramControl.enabled?this._n166[e-24576]:255;if(e>=32768){const t=e-32768>>13,s=8191&e,i=this._prgBanks[t];return this._n077[8192*i+s]}return 255}writeRAM(e,t){if(t&=255,24576>(e&=65535)||e>=32768)32768>e||this._writeRegister(e,t);else{if(!this._wramControl.enabled)return;if(this._wramControl.writeProtected)return;this._n166[e-24576]=t}}_writeRegister(e,t){const s=1&e;if(40960>e)if(s)this._selectedRegister>1||(t&=-2),this._bankRegisters[this._selectedRegister]=t,this._updatePrgBanks(),this._updateChrBanks(),this._clearPpuChrCache();else{const e=this._prgBankMode,s=this._chrBankMode;this._selectedRegister=7&t,this._chrBankMode=t>>6&1,this._prgBankMode=t>>7&1,this._prgBankMode!==e&&this._updatePrgBanks(),this._chrBankMode!==s&&(this._updateChrBanks(),this._clearPpuChrCache())}else 49152>e?s?(this._wramControl.enabled=!!(128&t),this._wramControl.writeProtected=!!(64&t)):this._setMirroring(1&t):57344>e?s?this._irq.reload=!0:this._irq.latch=t:s?this._irq.enabled=!0:(this._irq.enabled=!1,this._irq.flag=!1)}_setMirroring(e){this.mirroringType=e,this.nes?._n128?._n071&&this.nes._n128._n071(0===e?1:0)}_n003(e){return this.readPPU(e)}_n004(e,t){this.writePPU(e,t)}readPPU(e){if((e&=16383)>=8192)return;let t;if(this._n078&&this._n078.length>0)t=this._n078;else{if(!this._n167||0>=this._n167.length)return;t=this._n167}const s=e>>10,i=1023&e;let n=this._chrBanks[s];(null==n||isNaN(n))&&(n=0);const r=1024*n+i;return r>=0&&r<t.length?t[r]:void 0}writePPU(e,t){if((e&=16383)>=8192||!this._n167)return;const s=e>>10,i=1023&e;let n=this._chrBanks[s];(null==n||isNaN(n))&&(n=0),this._n167[1024*n+i]=t}notifyVRAMAddressChange(e){const t=e>>12&1;1===t&&(this._debug&&console.log("MMC3 A12上升沿: addr=0x"+e.toString(16)),this._processIrqCounterOnRisingEdge()),this._a12.lastState=t}_processIrqCounterOnRisingEdge(){if(!this._isRenderingEnabled())return;this._processCallCount=(this._processCallCount||0)+1;const e=this._irq.counter;this._irq.reload?(this._irq.counter=this._irq.latch,this._reloadPathCount=(this._reloadPathCount||0)+1,this._irq.reload=!1):0===this._irq.counter?(this._irq.counter=this._irq.latch,this._reloadPathCount=(this._reloadPathCount||0)+1):(this._irq.counter--,this._decrementPathCount=(this._decrementPathCount||0)+1),e>0&&0===this._irq.counter&&this._irq.enabled&&(this._irq.flag=!0,this._triggerIrq())}_triggerIrq(){this._irq.triggerCount++,this._debug&&console.log(`MMC3 _c116触发! Scanline: ${this.nes?._n128?._n110}, Cycle: ${this.nes?._n128?._n109}`),this.nes?._n076?(this._debug&&console.log("通过nes._n076触发"),this.nes._n076()):this.nes?.cpu?._n076?(this._debug&&console.log("通过nes.cpu._n076触发"),this.nes.cpu._n076()):this._debug&&console.log("无法找到_c116触发路径!")}_isRenderingEnabled(){if(this._forceMode)return!0;if(!this.nes?._n128)return!1;const e=this.nes._n128._n098||0;return 8&e||16&e}setForceMode(e){this._forceMode=e,this._debug&&console.log("MMC3 强制模式: "+(e?"启用":"禁用"))}isForceMode(){return this._forceMode}_clearPpuChrCache(){this.nes?._n128?.clearChrCache&&this.nes._n128.clearChrCache()}writePrgRam(e,t){this.writeRAM(e,t)}setChr0Chr1SameBank(e,t=!1){const s=254&e;return this._chrBankMode=t?1:0,this._bankRegisters[0]=s,this._bankRegisters[1]=s,this._updateChrBanks(),s}toggleChrInversion(){return this._chrBankMode^=1,this._updateChrBanks(),this._chrBankMode}getChrInversionMode(){return this._chrBankMode}_n005(){return this.mirroringType}_n010(){return{id:4,name:"MMC3",_n164:this._n164,_n165:this._n165,_n080:this._prgBankCount,_n081:this._chrBankCount}}getIrqStatus(){return{counter:this._irq.counter,latch:this._irq.latch,enabled:this._irq.enabled,reload:this._irq.reload,flag:this._irq.flag,triggerCount:this._irq.triggerCount,reloadCount:this._irq.reloadCount,decrementCount:this._irq.decrementCount}}getChrBankState(){return{banks:[...this._chrBanks],mode:this._chrBankMode}}setDebug(e){this._debug=e,this._debug&&console.log("MMC3 调试模式启用")}getWramControl(){return{enabled:this._wramControl.enabled,writeProtected:this._wramControl.writeProtected,rawValue:(this._wramControl.enabled?128:0)|(this._wramControl.writeProtected?64:0)}}getState(){return{bankRegisters:[...this._bankRegisters],selectedRegister:this._selectedRegister,prgBankMode:this._prgBankMode,chrBankMode:this._chrBankMode,wramControl:{...this._wramControl},mirroringType:this.mirroringType,irq:{...this._irq},a12:{...this._a12},_n166:this._n166?[...this._n166]:null,scanlineEvents:this._scanlineEvents.map(e=>e?{...e}:null),eventCount:this._eventCount}}setState(e){if(this._bankRegisters.set(e.bankRegisters),this._selectedRegister=e.selectedRegister,this._prgBankMode=e.prgBankMode,this._chrBankMode=e.chrBankMode,e.wramControl&&Object.assign(this._wramControl,e.wramControl),this.mirroringType=e.mirroringType,Object.assign(this._irq,e.irq),Object.assign(this._a12,e.a12),this._n166&&e._n166&&this._n166.set(e._n166),e.scanlineEvents){for(let t=0;240>t;t++)this._scanlineEvents[t]=e.scanlineEvents[t]?{...e.scanlineEvents[t]}:null;this._eventCount=e.eventCount||0}this._updatePrgBanks(),this._updateChrBanks()}setHScrollCallback(e){this._hscrollCallback=e}connectPPU(e){e&&"function"==typeof e.setMidFrameScroll&&(this._hscrollCallback=(t,s,i)=>{e.setMidFrameScroll(s,i)}),e&&"function"==typeof e._n020&&(this._paletteCallback=(t,s)=>{e._n020(16128+t,s)})}setPaletteCallback(e){this._paletteCallback=e}setScanlineHScroll(e,t,s=null){e>=0&&240>e&&(this._scanlineEvents[e]={type:"hscroll",hscroll:255&t,vscroll:null!==s?255&s:null},this._eventCount++)}setScanlineChrBank(e,t,s){e>=0&&240>e&&(this._scanlineEvents[e]={type:"chr_bank",bankMode:7&t,bankValue:255&s},this._eventCount++)}setScanlinePalette(e,t,s){e>=0&&240>e&&(this._scanlineEvents[e]={type:"palette",paletteAddr:31&t,paletteValue:63&s},this._eventCount++)}clearScanlineEvent(e){e>=0&&240>e&&this._scanlineEvents[e]&&(this._scanlineEvents[e]=null,this._eventCount--)}clearAllScanlineEvents(){for(let e=0;240>e;e++)this._scanlineEvents[e]=null;this._eventCount=0}processScanlineEvent(e){if(0>e||e>=240)return;const t=this._scanlineEvents[e];if(t)switch(t.type){case"hscroll":this._hscrollCallback&&this._hscrollCallback(e,t.hscroll,t.vscroll);break;case"chr_bank":this._selectedRegister=t.bankMode,this._bankRegisters[t.bankMode]=t.bankValue,this._updateChrBanks();break;case"palette":this._paletteCallback&&this._paletteCallback(t.paletteAddr,t.paletteValue)}}getScanlineEvents(){const e=[];for(let t=0;240>t;t++)this._scanlineEvents[t]&&e.push({_n110:t,...this._scanlineEvents[t]});return e}getMultiScrollStatus(){return{eventCount:this._eventCount,events:this.getScanlineEvents(),hscrollCallbackSet:!!this._hscrollCallback}}getA12DebugInfo(){return{a12:{lastState:this._a12.lastState,lowCycles:this._a12.lowCycles,minLowCycles:this._a12.minLowCycles,isRisingEdge:1===this._a12.lastState&&0===this._a12.lowCycles},irq:{latch:this._irq.latch,counter:this._irq.counter,enabled:this._irq.enabled,flag:this._irq.flag,reload:this._irq.reload},rendering:{enabled:this._isRenderingEnabled(),bgEnabled:!!this.nes?._n128&&!!(8&this.nes._n128._n098),sprEnabled:!!this.nes?._n128&&!!(16&this.nes._n128._n098)},banks:{_n091:this._prgBankMode,_n092:this._chrBankMode,selectedReg:this._selectedRegister},stats:{processCallCount:this._processCallCount||0,reloadPathCount:this._reloadPathCount||0,decrementPathCount:this._decrementPathCount||0,counterZeroCount:this._counterZeroCount||0,irqDisabledAtZeroCount:this._irqDisabledAtZeroCount||0}}}getA12FlowMarkers(){const e=[],now=Date.now();return e.push({id:"a12-init",name:"A12初始化",_n099:void 0!==this._a12.lastState?"active":"inactive",timestamp:now,details:`LastState: ${this._a12.lastState}, LowCycles: ${this._a12.lowCycles}`}),e.push({id:"rendering",name:"渲染状态",_n099:this._isRenderingEnabled()?"active":"paused",timestamp:now,details:`BG: ${!!this.nes?._n128&&!!(8&this.nes._n128._n098)}, SPR: ${!!this.nes?._n128&&!!(16&this.nes._n128._n098)}`}),e.push({id:"irq-counter",name:"_c116计数器",_n099:this._irq.counter>0?"counting":0===this._irq.counter?"zero":"inactive",timestamp:now,details:`Counter: ${this._irq.counter}, Latch: ${this._irq.latch}`}),e.push({id:"irq-enabled",name:"_c116使能",_n099:this._irq.enabled?"enabled":"disabled",timestamp:now,details:`Enabled: ${this._irq.enabled}, Flag: ${this._irq.flag}`}),e.push({id:"debounce",name:"防抖动",_n099:this._a12.lowCycles<this._a12.minLowCycles?"waiting":"ready",timestamp:now,details:`LowCycles: ${this._a12.lowCycles}/${this._a12.minLowCycles}`}),e.push({id:"bank-mode",name:"Bank模式",_n099:"active",timestamp:now,details:`PRG: ${this._prgBankMode}, CHR: ${this._chrBankMode}, Reg: ${this._selectedRegister}`}),e}}const o=r;"undefined"!=typeof module&&module.exports&&(module.exports={MMC3Adapter:r,MMC3:o,MirroringType:n});class _n119{static createMapper(e,i,n,o,_n119,c=null){const h=o/16384,l=_n119/4096;switch(e){case 0:const e=new t(i,o);return e._n000(n),e;case 1:const u=new s(h,l);return u._n009(i),u._n000(n),u;case 4:if(void 0!==r&&c){const e=new r(c);return e.initialize(i,n,o,_n119,0),e}{const e=new t(i,o);return e._n000(n),e}default:const d=new t(i,o);return d._n000(n),d}}static getMapperName(e){return{0:"NROM",1:"MMC1",4:"MMC3"}[e]||"Mapper "+e}}class c{constructor(){this.memory=Array(65536).fill(0),this.components={ram:null,_n128:null,_n127:null,cartridge:null,controller:null,_n129:null},this._n129=null,this.memoryMap={"0x0000-0x00FF":"ram","0x0100-0x01FF":"ram","0x0200-0x07FF":"ram","0x0800-0x0FFF":"ram","0x1000-0x17FF":"ram","0x1800-0x1FFF":"ram","0x2000-0x2007":"_n128","0x2008-0x3FFF":"_n128","0x4000-0x4017":"_n127","0x4018-0x401F":"_n127","0x4020-0x5FFF":"unused","0x6000-0x7FFF":"_n129","0x8000-0xBFFF":"_n129","0xC000-0xFFFF":"_n129"},this.componentTypeCache=new Uint8Array(65536),this.offsetCache=new Uint16Array(65536),this.buildOptimizedCache()}buildOptimizedCache(){for(let e=0;8191>=e;e++)this.componentTypeCache[e]=0,this.offsetCache[e]=2047&e;for(let e=8192;16383>=e;e++)this.componentTypeCache[e]=1,this.offsetCache[e]=(e-8192)%8;for(let e=16384;16415>=e;e++)this.componentTypeCache[e]=16406===e?3:2,this.offsetCache[e]=e;for(let e=16416;24575>=e;e++)this.componentTypeCache[e]=5,this.offsetCache[e]=e;for(let e=24576;65535>=e;e++)this.componentTypeCache[e]=4,this.offsetCache[e]=e}resolveAddress(e){return 0>(e&=65535)||e>8191?8192>e||e>16383?16384>e||e>16415?24576>e||e>32767?32768>e||e>65535?{component:"internal",offset:e,type:"internal"}:{component:"_n129",offset:e,type:"prg-rom"}:{component:"_n129",offset:e,type:"prg-ram"}:16406===e?{component:"controller",offset:e,type:"controller"}:{component:"_n127",offset:e,type:"_n127"}:{component:"_n128",offset:(e-8192)%8,type:"_n128"}:{component:"ram",offset:2047&e,type:"ram"}}read(e){return this._read(e,!0)}peek(e){return this._read(e,!1)}_readRAM(e){const t=2047&e;return this.components.ram?this.components.ram.read(t):this.memory[e]}_read(e,t){if(8191>=e)return this._readRAM(e);const s=this.componentTypeCache[e],i=this.offsetCache[e];switch(s){case 1:return this.components._n128?t?this.components._n128._n015(i):this.components._n128.peekRegister(i):0;case 2:return this.components._n127?16407===i&&this.components.controller?this.components.controller._n053():t?this.components._n127._n015(i):this.components._n127.peekRegister(i):0;case 3:return this.components.controller?16406===i?this.components.controller._n052():16407===i?this.components.controller._n053():0:0;case 4:return this._n129?this._n129.read(i):this.components.cartridge?this.components.cartridge.read(i):this.memory[e];default:return this.memory[e]}}_writeRAM(e,t){const s=2047&e;this.components.ram?this.components.ram.write(s,t):this.memory[e]=t}write(e,t){if(t&=255,8191>=e)return void this._writeRAM(e,t);const s=this.componentTypeCache[e],i=this.offsetCache[e];switch(s){case 1:this.components._n128&&this.components._n128._n016(i,t);break;case 2:this.components._n127&&this.components._n127._n016(i,t);break;case 3:this.components.controller&&16406===i&&this.components.controller.write(t);break;case 4:this._n129?i>=24576&&32768>i?this._n129.write(i,t):32768>i||this._n129.write(i,t):this.components.cartridge?this.components.cartridge.write(i,t):this.memory[e]=t;break;default:this.memory[e]=t}}_n062(e){const t=this.read(e);return this.read(e+1&65535)<<8|t}_n063(e,t){this.write(e,255&t),this.write(e+1&65535,t>>8&255)}readBlock(e,t){const s=new Uint8Array(t);for(let i=0;t>i;i++)s[i]=this.read(e+i&65535);return s}writeBlock(e,t){for(let s=0;s<t.length;s++)this.write(e+s&65535,t[s])}fastRead(e){if(8191>=(e&=65535))return this.components.ram&&this.components.ram.memory?this.components.ram.memory[2047&e]:this.memory[e];if(e>=8192&&16383>=e){const t=e-8192&7;return this.components._n128&&this.components._n128._n015?this.components._n128._n015(t):0}if(e>=16384&&16415>=e){if(16406===e){const e=this.components.controller;return e&&e._n052?e._n052():0}return this.components._n127&&this.components._n127._n015?this.components._n127._n015(e):0}return e>=24576&&this._n129?this._n129.read(e):this.memory[e]}fastWrite(e,t){if(t&=255,(e&=65535)>8191){if(e>=8192&&16383>=e){const s=e-8192&7;return void(this.components._n128&&this.components._n128._n016&&this.components._n128._n016(s,t))}if(16384>e||e>16415)24576>e||!this._n129?this.memory[e]=t:this._n129.write(e,t);else if(16406===e){const e=this.components.controller;e&&e.write&&e.write(t)}else this.components._n127&&this.components._n127._n016&&this.components._n127._n016(e,t)}else this.components.ram&&this.components.ram.memory?this.components.ram.memory[2047&e]=t:this.memory[e]=t}readZeroPage(e){return this.components.ram&&this.components.ram.memory?this.components.ram.memory[255&e]:this.memory[255&e]}writeZeroPage(e,t){this.components.ram&&this.components.ram.memory?this.components.ram.memory[255&e]=255&t:this.memory[255&e]=255&t}_n027(e){if(this.components.cpu&&this.components.cpu._n116){const t=this.components.cpu._n116._c103;this.memory[256+t&65535]=255&e,this.components.cpu._n116._c103=t-1&255}else if(this.components.ram&&this.components.ram.memory){const t=this.components.ram.memory[509]||253;this.components.ram.memory[256+t]=255&e,this.components.ram.memory[509]=t-1&255}}_n028(){if(this.components.cpu&&this.components.cpu._n116){const e=this.components.cpu._n116._c103+1&255;return this.components.cpu._n116._c103=e,this.memory[256+e&65535]}if(this.components.ram&&this.components.ram.memory){const e=this.components.ram.memory[509]+1&255;return this.components.ram.memory[509]=e,this.components.ram.memory[256+e]}return 0}fastCopy(e,t,s){if(8192>=e+s&&8192>=t+s&&this.components.ram&&this.components.ram.memory){const i=2047&e,n=2047&t,r=this.components.ram.memory.subarray(i,i+s);return void this.components.ram.memory.set(r,n)}for(let i=0;s>i;i++)this.fastWrite(t+i&65535,this.fastRead(e+i&65535))}fastReadWord(e){const t=this.fastRead(e);return this.fastRead(e+1&65535)<<8|t}fastWriteWord(e,t){this.fastWrite(e,255&t),this.fastWrite(e+1&65535,t>>8&255)}getZeroPageAddress(e,t){return e+t&255}getAbsoluteAddress(e,t){return 65535&(t<<8|e)}_n068(e,t){this.components.hasOwnProperty(e)&&(this.components[e]=t)}_n069(e){this._n129=e,this.components._n129=e}initialize(){for(let e=0;8191>=e;e++)this.memory[e]=0;this._n063(65530,32768),this._n063(65532,32768),this._n063(65534,32768);for(let e=256;511>=e;e++)this.memory[e]=255}getMemorySnapshot(e=0,t=65535){const s={};for(let i=e;t>=i;i++)s[i]=this.read(i);return s}restoreMemorySnapshot(e){for(const[t,s]of Object.entries(e))this.write(parseInt(t),s)}getPpuVram(){return this.components._n128&&this.components._n128.getVramView?this.components._n128.getVramView():this.components._n128&&this.components._n128._n093?this.components._n128._n093:new Uint8Array(16384)}getPpuChrRom(){const e=this.components._n128;return e?e._n093&&e._n093.length>=8192?e._n093.slice(0,8192):e._n078?e._n078:new Uint8Array(8192):new Uint8Array(8192)}getPpuOam(){return this.components._n128&&this.components._n128._n094?this.components._n128._n094:new Uint8Array(256)}}class h{constructor(e=2048){this.memory=new Uint8Array(e)}read(e){return this.memory[e%this.memory.length]}write(e,t){this.memory[e%this.memory.length]=t}}"undefined"!=typeof module&&module.exports&&(module.exports={MemoryMMU:c,RAMComponent:h}),"undefined"!=typeof window&&(window.MemoryMMU=c,window.RAMComponent=h);class l{constructor(){this._n116={_c100:0,_c101:0,_c102:0,_c103:253,_c104:32768,_c105:36},this.FLAGS={_c106:1,_c107:2,_c108:4,_c109:8,_c110:16,_c111:32,_c112:64,_c113:128},this.memory=null,this.INTERRUPT_VECTORS={_c114:65530,_c115:65532,_c116:65534},this.cycles=0,this._n125=0,this.masterClock=0,this.cpuCycles=0,this.ppuCycles=0,this.apuCycles=0,this.interruptPending=!1,this._n123=!1,this._n124=!1,this._prevNmiFlag=!1,this._needNmi=!1,this._prevNeedNmi=!1,this._prevRunIrq=!1,this._runIrq=!1,this.irqSources=new Map,this._irqMask=255,this._irqDisableRequest=!1,this._irqEnableRequest=!1,this._irqDelayCounter=0,this.dmaActive=!1,this.dmaPage=0,this.dmaAddress=0,this.dmaLength=0,this.dmaCycles=0,this.opcodeCache=Array(256),this.addressingCache=Array(256),this.cacheInitialized=!1,this.executeCache=Array(256),this.ADDRESSING_MODES={_c087:0,_c088:1,_c089:2,_c090:3,_c091:4,_c092:5,_c093:6,_c094:7,_c095:8,_c096:9,_c097:10,_c098:11,_c099:12},this._initLookupTables(),this._initInstructionTables(),this._initFastPathInstructions(),this.debugMode=!1,this.extraCycleNeeded=!1,this.currentOpcode=0,this.addressing=null,this.instructions=null,this._n128=null,this._n127=null}_initLookupTables(){this.flagTable=new Uint8Array(256);for(let e=0;256>e;e++)this.flagTable[e]=(0===e?this.FLAGS._c107:0)|(128&e?this.FLAGS._c113:0);this.branchMaskTable=new Uint8Array([128,128,64,64,1,1,2,2]),this.branchInvertTable=new Uint8Array([1,0,1,0,1,0,1,0]),this.signed8Table=new Int8Array(256);for(let e=0;256>e;e++)this.signed8Table[e]=e>127?e-256:e;this.bcdTable=new Uint8Array(256);for(let e=0;256>e;e++){const t=10*(e>>4),s=15&e;this.bcdTable[e]=t+s}}updateZeroNegative(e){this._n116._c105=125&this._n116._c105|this.flagTable[e]}updateFlags(e){this.updateZeroNegative(e)}checkBranchCondition(e){const t=this.branchMaskTable[e],s=this.branchInvertTable[e],i=0!==(this._n116._c105&t);return s?!i:i}isPageCrossed(e,t){return(65280&e)!=(65280&t)}getAbsoluteAddress(e,t){return 65535&(t<<8|e)}getZeroPageAddress(e,t){return e+t&255}getSigned8(e){return this.signed8Table[e]}getBCD(e){return this.bcdTable[e]}_n031(e,t){t?this._n116._c105|=e:this._n116._c105&=~e}_n032(e){return 0!==(this._n116._c105&e)}pushByte(e){this.memory.write(256+this._n116._c103,e),this._n116._c103=this._n116._c103-1&255}popByte(){return this._n116._c103=this._n116._c103+1&255,this.memory.read(256+this._n116._c103)}pushWord(e){this.pushByte(e>>8&255),this.pushByte(255&e)}popWord(){const e=this.popByte();return this.popByte()<<8|e}_n026(e){this.pushWord(this._n116._c104),this.pushByte(this._n116._c105|this.FLAGS._c110),this._n031(this.FLAGS._c108,!0);const t=this.INTERRUPT_VECTORS[e];this._n116._c104=this.memory._n062(t),this.cycles+=7}reset(){this._n116._c100=0,this._n116._c101=0,this._n116._c102=0,this._n116._c103=253,this._n116._c105=36,this._n116._c104=this.memory._n062(this.INTERRUPT_VECTORS._c115),this.cycles=0,this._n125=0}connectMemory(e){this.memory=e}connectPPU(e){this._n128=e}connectAPU(e){this._n127=e}_n025(e=null){if(!this._prevNeedNmi&&this._n123&&(this._needNmi=!0),this._prevNeedNmi=this._n123,this._prevRunIrq=this._runIrq,this._runIrq=this._n124&&!this._n032(this.FLAGS._c108),this._needNmi)return this._needNmi=!1,this._n026("_c114"),this._n123=!1,void(this.cycles=0);if(this._prevRunIrq)return this._n026("_c116"),this._n124=!1,void(this.cycles=0);this.cycles=0;const t=null!==e?e:this.memory.read(this._n116._c104);this.currentOpcode=t;const s=this.decodeInstruction(t);if(s){const e=this._n116._c104;s.execute();const t=s.cycles+this.cycles;this._n125+=t,this.debugMode&&console.log(`指令: ${s.name} _c104:0x${e.toString(16)}->0x${this._n116._c104.toString(16)} 周期:${t}`)}else this._handleInvalidOpcode(t);this._processIrqDelay()}setOnInvalidOpcode(e){this.onInvalidOpcode=e}initializeInstructionCache(){if(!this.cacheInitialized&&this.instructions){for(let e=0;256>e;e++){const t=this.instructions.instructionSet[e];this.opcodeCache[e]=t||null,this.executeCache[e]=t?t.execute:null}this.cacheInitialized=!0}}decodeInstruction(e){return this.instructionTable[255&e]||(this.cacheInitialized||this.initializeInstructionCache(),this.opcodeCache[255&e])}_initInstructionTables(){this.instructionTable=Array(256),this.handlers=Array(256);for(let e=0;256>e;e++)this.instructionTable[e]=null,this.handlers[e]=this._defaultHandler.bind(this)}_initFastPathInstructions(){this._setOp(234,this._nop.bind(this),2),this._setOp(169,function(){const e=this.memory.read(this._n116._c104+1);this._n116._c100=e,this.updateFlags(e),this._n116._c104+=2,this.cycles=2}.bind(this),2),this._setOp(133,function(){const e=this.memory.read(this._n116._c104+1);this.memory.write(e,this._n116._c100),this._n116._c104+=2,this.cycles=3}.bind(this),3),this._setOp(165,function(){const e=this.memory.read(this._n116._c104+1),t=this.memory.read(e);this._n116._c100=t,this.updateFlags(t),this._n116._c104+=2,this.cycles=3}.bind(this),3),this._setOp(76,function(){const e=this.memory.read(this._n116._c104+1),t=this.memory.read(this._n116._c104+2);this._n116._c104=this.getAbsoluteAddress(e,t),this.cycles=3}.bind(this),3),this._setOp(32,function(){const e=this.memory.read(this._n116._c104+1),t=this.memory.read(this._n116._c104+2),s=this.getAbsoluteAddress(e,t);this.pushWord(this._n116._c104+2),this._n116._c104=s,this.cycles=6}.bind(this),6),this._setOp(96,function(){const e=this.popWord();this._n116._c104=e+1&65535,this.cycles=6}.bind(this),6)}_setOp(e,t,s){this.handlers[e]=t,this.instructionTable[e]={execute:t,cycles:s,name:"OP_"+e.toString(16).toUpperCase()}}_handleInvalidOpcode(e){console.warn("无效操作码: 0x"+e.toString(16).toUpperCase()),this._n116._c104++,this._n125+=2,this.onInvalidOpcode&&this.onInvalidOpcode(e)}_defaultHandler(){this._handleInvalidOpcode(this.currentOpcode)}_nop(){this._n116._c104++,this.cycles=2}_n075(){this._n123=!0}clearNMI(){this._n123=!1}_n076(e="default",t=0){this.irqSources.set(e,{active:!0,priority:t}),this._updateIrqPending()}clearIRQ(e="default"){this.irqSources.has(e)&&(this.irqSources.get(e).active=!1),this._updateIrqPending()}removeIRQSource(e){this.irqSources.delete(e),this._updateIrqPending()}_updateIrqPending(){let e=!1;for(const[t,s]of this.irqSources)if(s.active){e=!0;break}this._n124=e}getActiveIrqSources(){const e=[];for(const[t,s]of this.irqSources)s.active&&e.push({id:t,priority:s.priority});return e.sort((e,t)=>t.priority-e.priority)}setIRQMask(e){this._irqMask=e}requestIRQDisable(){this._n031(this.FLAGS._c108,!0)}requestIRQEnable(){this._irqEnableRequest=!0,this._irqDisableRequest=!1,this._irqDelayCounter=1}_processIrqDelay(){this._irqDelayCounter>0&&(this._irqDelayCounter--,0===this._irqDelayCounter&&this._irqEnableRequest&&(this._n031(this.FLAGS._c108,!1),this._irqEnableRequest=!1))}startDMA(e){this.dmaActive=!0,this.dmaPage=e,this.dmaAddress=0,this.dmaLength=256,this.dmaCycles=0}executeDMACycle(){if(!this.dmaActive)return!1;if(513>this.dmaCycles){if(0===this.dmaCycles);else if(512>=this.dmaCycles&&this.dmaAddress<this.dmaLength){const e=this.dmaPage<<8|this.dmaAddress,t=this.memory.read(e);this._n128&&"function"==typeof this._n128.writeOAM&&this._n128.writeOAM(this.dmaAddress,t),this.dmaAddress++}return this.dmaCycles++,!0}return this.dmaActive=!1,this.dmaCycles=0,!1}step(){if(this.masterClock++,this.dmaActive&&this.executeDMACycle())return this.masterClock%3==0&&(this.ppuCycles++,this._n128&&"function"==typeof this._n128.step&&this._n128.step()),void(this.masterClock%2==0&&(this.apuCycles++,this._n127&&"function"==typeof this._n127.step&&this._n127.step()));this.cpuCycles++,this._n025(),this.masterClock%3==0&&(this.ppuCycles++,this._n128&&"function"==typeof this._n128.step&&this._n128.step()),this.masterClock%2==0&&(this.apuCycles++,this._n127&&"function"==typeof this._n127.step&&this._n127.step())}getStatus(){return{_n116:{...this._n116},cycles:this.cycles,_n125:this._n125,masterClock:this.masterClock,cpuCycles:this.cpuCycles,ppuCycles:this.ppuCycles,apuCycles:this.apuCycles,flags:{_c106:this._n032(this.FLAGS._c106),_c107:this._n032(this.FLAGS._c107),_c108:this._n032(this.FLAGS._c108),_c109:this._n032(this.FLAGS._c109),_c112:this._n032(this.FLAGS._c112),_c113:this._n032(this.FLAGS._c113)}}}}"undefined"!=typeof module&&module.exports&&(module.exports=l),"undefined"!=typeof window&&(window.CPUCore=l);class u{constructor(e){this.cpu=e,this.modes={_c074:{name:"立即寻址",bytes:2,cycles:0,getOperand:()=>({value:this.cpu.memory.read(this.cpu._n116._c104+1),address:null,pageCrossed:!1})},_c075:{name:"零页寻址",bytes:2,cycles:0,getOperand:()=>({address:this.cpu.memory.read(this.cpu._n116._c104+1),value:null,pageCrossed:!1})},_c076:{name:"零页,_c101索引",bytes:2,cycles:0,getOperand:()=>({address:this.cpu.memory.read(this.cpu._n116._c104+1)+this.cpu._n116._c101&255,value:null,pageCrossed:!1})},_c077:{name:"零页,_c102索引",bytes:2,cycles:0,getOperand:()=>({address:this.cpu.memory.read(this.cpu._n116._c104+1)+this.cpu._n116._c102&255,value:null,pageCrossed:!1})},_c078:{name:"绝对寻址",bytes:3,cycles:0,getOperand:()=>{const e=this.cpu.memory.read(this.cpu._n116._c104+1);return{address:this.cpu.memory.read(this.cpu._n116._c104+2)<<8|e,value:null,pageCrossed:!1}}},_c079:{name:"绝对,_c101索引",bytes:3,cycles:0,getOperand:()=>{const e=this.cpu.memory.read(this.cpu._n116._c104+1),t=this.cpu.memory.read(this.cpu._n116._c104+2)<<8|e,s=t+this.cpu._n116._c101;return{address:65535&s,value:null,pageCrossed:(65280&t)!=(65280&s)}}},_c080:{name:"绝对,_c102索引",bytes:3,cycles:0,getOperand:()=>{const e=this.cpu.memory.read(this.cpu._n116._c104+1),t=this.cpu.memory.read(this.cpu._n116._c104+2)<<8|e,s=t+this.cpu._n116._c102;return{address:65535&s,value:null,pageCrossed:(65280&t)!=(65280&s)}}},_c081:{name:"间接,_c101索引",bytes:2,cycles:0,getOperand:()=>{const e=this.cpu.memory.read(this.cpu._n116._c104+1)+this.cpu._n116._c101&255,t=this.cpu.memory.read(e);return{address:this.cpu.memory.read(e+1&255)<<8|t,value:null,pageCrossed:!1}}},_c082:{name:"间接,_c102索引",bytes:2,cycles:0,getOperand:()=>{const e=this.cpu.memory.read(this.cpu._n116._c104+1),t=this.cpu.memory.read(e),s=this.cpu.memory.read(e+1&255)<<8|t,i=s+this.cpu._n116._c102;return{address:65535&i,value:null,pageCrossed:(65280&s)!=(65280&i)}}},_c083:{name:"间接寻址",bytes:3,cycles:0,getOperand:()=>{const e=this.cpu.memory.read(this.cpu._n116._c104+1),t=this.cpu.memory.read(this.cpu._n116._c104+2)<<8|e,s=65280&t,i=this.cpu.memory.read(t);return{address:this.cpu.memory.read(s|t+1&255)<<8|i,value:null,pageCrossed:!1}}},_c084:{name:"相对寻址",bytes:2,cycles:0,getOperand:()=>{const e=this.cpu.memory.read(this.cpu._n116._c104+1),t=e>127?e-256:e,s=this.cpu._n116._c104+2+t&65535;return{address:s,value:null,pageCrossed:(65280&this.cpu._n116._c104)!=(65280&s)}}},_c085:{name:"隐含寻址",bytes:1,cycles:0,getOperand:()=>({address:null,value:null,pageCrossed:!1})},_c086:{name:"累加器寻址",bytes:1,cycles:0,getOperand:()=>({address:null,value:this.cpu._n116._c100,pageCrossed:!1})}},this.modeMap=this.buildModeMap()}buildModeMap(){return{169:"_c074",165:"_c075",181:"_c076",173:"_c078",189:"_c079",185:"_c080",161:"_c081",177:"_c082",133:"_c075",149:"_c076",141:"_c078",157:"_c079",153:"_c080",145:"_c082",162:"_c074",166:"_c075",182:"_c077",174:"_c078",190:"_c080",160:"_c074",164:"_c075",180:"_c076",172:"_c078",188:"_c079",134:"_c075",150:"_c077",142:"_c078",132:"_c075",148:"_c076",140:"_c078",105:"_c074",101:"_c075",117:"_c076",109:"_c078",125:"_c079",121:"_c080",97:"_c081",113:"_c082",233:"_c074",229:"_c075",245:"_c076",237:"_c078",253:"_c079",249:"_c080",225:"_c081",241:"_c082",41:"_c074",37:"_c075",53:"_c076",45:"_c078",61:"_c079",57:"_c080",33:"_c081",49:"_c082",9:"_c074",5:"_c075",21:"_c076",13:"_c078",29:"_c079",25:"_c080",1:"_c081",17:"_c082",73:"_c074",69:"_c075",85:"_c076",77:"_c078",93:"_c079",89:"_c080",65:"_c081",81:"_c082",10:"_c086",6:"_c075",22:"_c076",14:"_c078",30:"_c079",74:"_c086",70:"_c075",86:"_c076",78:"_c078",94:"_c079",42:"_c086",38:"_c075",54:"_c076",46:"_c078",62:"_c079",106:"_c086",102:"_c075",118:"_c076",110:"_c078",126:"_c079",201:"_c074",197:"_c075",213:"_c076",205:"_c078",221:"_c079",217:"_c080",193:"_c081",209:"_c082",224:"_c074",228:"_c075",236:"_c078",192:"_c074",196:"_c075",204:"_c078",198:"_c075",214:"_c076",206:"_c078",222:"_c079",230:"_c075",246:"_c076",238:"_c078",254:"_c079",16:"_c084",48:"_c084",80:"_c084",112:"_c084",144:"_c084",176:"_c084",208:"_c084",240:"_c084",76:"_c078",108:"_c083",32:"_c078",202:"_c085",136:"_c085",232:"_c085",200:"_c085",170:"_c085",168:"_c085",138:"_c085",152:"_c085",186:"_c085",72:"_c085",104:"_c085",8:"_c085",40:"_c085",64:"_c085",96:"_c085",24:"_c085",56:"_c085",88:"_c085",120:"_c085",184:"_c085",216:"_c085",248:"_c085",234:"_c085",0:"_c085",36:"_c075",44:"_c078",7:"_c075",23:"_c076",15:"_c078",31:"_c079",27:"_c080",3:"_c081",19:"_c082",39:"_c075",55:"_c076",47:"_c078",63:"_c079",59:"_c080",35:"_c081",51:"_c082",71:"_c075",87:"_c076",79:"_c078",95:"_c079",91:"_c080",67:"_c081",83:"_c082",103:"_c075",119:"_c076",111:"_c078",127:"_c079",123:"_c080",99:"_c081",115:"_c082",231:"_c075",247:"_c076",239:"_c078",255:"_c079",251:"_c080",227:"_c081",243:"_c082",199:"_c075",215:"_c076",207:"_c078",223:"_c079",219:"_c080",195:"_c081",211:"_c082",167:"_c075",183:"_c077",175:"_c078",191:"_c080",163:"_c081",179:"_c082",135:"_c075",151:"_c077",143:"_c078",131:"_c081",11:"_c074",43:"_c074",75:"_c074",107:"_c074",203:"_c074",235:"_c074",26:"_c085",58:"_c085",90:"_c085",122:"_c085",218:"_c085",250:"_c085",128:"_c074",130:"_c074",137:"_c074",194:"_c074",226:"_c074",4:"_c075",68:"_c075",100:"_c075",20:"_c076",52:"_c076",84:"_c076",116:"_c076",212:"_c076",244:"_c076",12:"_c078",28:"_c079",60:"_c079",92:"_c079",124:"_c079",220:"_c079",252:"_c079",159:"_c080",147:"_c082",158:"_c080",156:"_c079",155:"_c080",187:"_c080",139:"_c074",171:"_c074"}}getAddressingMode(e){const t=this.modeMap[e];if(!t)throw Error("未知操作码: 0x"+e.toString(16).toUpperCase());return this.modes[t]}resolveOperand(e){return this.getAddressingMode(e).getOperand.call(this)}getOperandAddress(e){const t=this.resolveOperand(e);return null!==t.address?t.address:null}readOperand(e){const t=this.resolveOperand(e);return null!==t.value?t.value:null!==t.address?this.cpu.memory.read(t.address):0}writeOperand(e,t){const s=this.resolveOperand(e);null!==s.address&&this.cpu.memory.write(s.address,t)}checkPageCrossed(e){return this.resolveOperand(e).pageCrossed}getInstructionBytes(e){return this.getAddressingMode(e).bytes}}"undefined"!=typeof module&&module.exports&&(module.exports=u),"undefined"!=typeof window&&(window.AddressingModes=u);class d{constructor(e,t){this.cpu=e,this.addressing=t,this._bindInstructionHandlers(),this.instructionSet=this.buildInstructionSet(),this.opcodeModeMap=this.buildOpcodeModeMap()}_bindInstructionHandlers(){this._LDA=()=>this.g19(),this._STA=()=>this.g22(),this._LDX=()=>this.g20(),this._LDY=()=>this.g21(),this._STX=()=>this.g23(),this._STY=()=>this.g24(),this._ADC=()=>this.g25(),this._SBC=()=>this.g26(),this._AND=()=>this.g27(),this._ORA=()=>this.g28(),this._EOR=()=>this.g29(),this._ASL_ACC=()=>this.g02(),this._ASL_MEM=()=>this.ASL_MEM(),this._LSR_ACC=()=>this.g03(),this._LSR_MEM=()=>this.LSR_MEM(),this._ROL_ACC=()=>this.g00(),this._ROL_MEM=()=>this.ROL_MEM(),this._ROR_ACC=()=>this.g01(),this._ROR_MEM=()=>this.ROR_MEM(),this._CMP=()=>this.g36(),this._CPX=()=>this.g37(),this._CPY=()=>this.g38(),this._JMP=()=>this.g39(),this._JMP_IND=()=>this.JMP_IND(),this._JSR=()=>this.g40(),this._RTS=()=>this.g41(),this._BEQ=()=>this.g06(),this._BNE=()=>this.g08(),this._BPL=()=>this.g09(),this._BMI=()=>this.g07(),this._BVC=()=>this.g10(),this._BVS=()=>this.g11(),this._BCC=()=>this.g04(),this._BCS=()=>this.g05(),this._PHA=()=>this.g43(),this._PLA=()=>this.g45(),this._PHP=()=>this.g44(),this._PLP=()=>this.g46(),this._RTI=()=>this.g42(),this._CLC=()=>this.g12(),this._SEC=()=>this.g16(),this._CLI=()=>this.g14(),this._SEI=()=>this.g18(),this._CLV=()=>this.g15(),this._CLD=()=>this.g13(),this._SED=()=>this.g17(),this._TAX=()=>this.g47(),this._TAY=()=>this.g48(),this._TXA=()=>this.g50(),this._TYA=()=>this.g52(),this._TXS=()=>this.g51(),this._TSX=()=>this.g49(),this._INX=()=>this.g32(),this._INY=()=>this.g33(),this._DEX=()=>this.g34(),this._DEY=()=>this.g35(),this._INC=()=>this.g30(),this._DEC=()=>this.g31(),this._NOP=()=>this.g53(),this._BRK=()=>this.g54(),this._BIT=()=>this._c152(),this._SLO=()=>this._c197(),this._RLA=()=>this._c198(),this._SRE=()=>this._c199(),this._RRA=()=>this._c200(),this._ISC=()=>this.ISC(),this._DCP=()=>this._c203(),this._LAX=()=>this._c201(),this._SAX=()=>this._c202(),this._ANC=()=>this._c205(),this._ALR=()=>this._c206(),this._ARR=()=>this._c207(),this._AXS=()=>this._c209(),this._NOP_IMM=()=>this.NOP_IMM(),this._NOP_ZP=()=>this.NOP_ZP(),this._NOP_ZPX=()=>this.NOP_ZPX(),this._NOP_ABS=()=>this.NOP_ABS(),this._NOP_ABSX=()=>this.NOP_ABSX(),this._SHA=()=>this.SHA(),this._SHX=()=>this._c210(),this._SHY=()=>this._c211(),this._TAS=()=>this._c212(),this._LAS=()=>this._c213(),this._ANE=()=>this.ANE(),this._LXA=()=>this.LXA()}buildInstructionSet(){return{169:{name:"g19",mode:"_c074",cycles:2,execute:this._LDA},165:{name:"g19",mode:"_c075",cycles:3,execute:this._LDA},181:{name:"g19",mode:"_c076",cycles:4,execute:this._LDA},173:{name:"g19",mode:"_c078",cycles:4,execute:this._LDA},189:{name:"g19",mode:"_c079",cycles:4,execute:this._LDA},185:{name:"g19",mode:"_c080",cycles:4,execute:this._LDA},161:{name:"g19",mode:"_c081",cycles:6,execute:this._LDA},177:{name:"g19",mode:"_c082",cycles:5,execute:this._LDA},133:{name:"g22",mode:"_c075",cycles:3,execute:this._STA},149:{name:"g22",mode:"_c076",cycles:4,execute:this._STA},141:{name:"g22",mode:"_c078",cycles:4,execute:this._STA},157:{name:"g22",mode:"_c079",cycles:5,execute:this._STA},153:{name:"g22",mode:"_c080",cycles:5,execute:this._STA},145:{name:"g22",mode:"_c082",cycles:6,execute:this._STA},162:{name:"g20",mode:"_c074",cycles:2,execute:this._LDX},166:{name:"g20",mode:"_c075",cycles:3,execute:this._LDX},182:{name:"g20",mode:"_c077",cycles:4,execute:this._LDX},174:{name:"g20",mode:"_c078",cycles:4,execute:this._LDX},190:{name:"g20",mode:"_c080",cycles:4,execute:this._LDX},160:{name:"g21",mode:"_c074",cycles:2,execute:this._LDY},164:{name:"g21",mode:"_c075",cycles:3,execute:this._LDY},180:{name:"g21",mode:"_c076",cycles:4,execute:this._LDY},172:{name:"g21",mode:"_c078",cycles:4,execute:this._LDY},188:{name:"g21",mode:"_c079",cycles:4,execute:this._LDY},134:{name:"g23",mode:"_c075",cycles:3,execute:this._STX},150:{name:"g23",mode:"_c077",cycles:4,execute:this._STX},142:{name:"g23",mode:"_c078",cycles:4,execute:this._STX},132:{name:"g24",mode:"_c075",cycles:3,execute:this._STY},148:{name:"g24",mode:"_c076",cycles:4,execute:this._STY},140:{name:"g24",mode:"_c078",cycles:4,execute:this._STY},105:{name:"g25",mode:"_c074",cycles:2,execute:this._ADC},101:{name:"g25",mode:"_c075",cycles:3,execute:this._ADC},117:{name:"g25",mode:"_c076",cycles:4,execute:this._ADC},109:{name:"g25",mode:"_c078",cycles:4,execute:this._ADC},125:{name:"g25",mode:"_c079",cycles:4,execute:this._ADC},121:{name:"g25",mode:"_c080",cycles:4,execute:this._ADC},97:{name:"g25",mode:"_c081",cycles:6,execute:this._ADC},113:{name:"g25",mode:"_c082",cycles:5,execute:this._ADC},233:{name:"g26",mode:"_c074",cycles:2,execute:this._SBC},229:{name:"g26",mode:"_c075",cycles:3,execute:this._SBC},245:{name:"g26",mode:"_c076",cycles:4,execute:this._SBC},237:{name:"g26",mode:"_c078",cycles:4,execute:this._SBC},253:{name:"g26",mode:"_c079",cycles:4,execute:this._SBC},249:{name:"g26",mode:"_c080",cycles:4,execute:this._SBC},225:{name:"g26",mode:"_c081",cycles:6,execute:this._SBC},241:{name:"g26",mode:"_c082",cycles:5,execute:this._SBC},41:{name:"g27",mode:"_c074",cycles:2,execute:this._AND},37:{name:"g27",mode:"_c075",cycles:3,execute:this._AND},53:{name:"g27",mode:"_c076",cycles:4,execute:this._AND},45:{name:"g27",mode:"_c078",cycles:4,execute:this._AND},61:{name:"g27",mode:"_c079",cycles:4,execute:this._AND},57:{name:"g27",mode:"_c080",cycles:4,execute:this._AND},33:{name:"g27",mode:"_c081",cycles:6,execute:this._AND},49:{name:"g27",mode:"_c082",cycles:5,execute:this._AND},9:{name:"g28",mode:"_c074",cycles:2,execute:this._ORA},5:{name:"g28",mode:"_c075",cycles:3,execute:this._ORA},21:{name:"g28",mode:"_c076",cycles:4,execute:this._ORA},13:{name:"g28",mode:"_c078",cycles:4,execute:this._ORA},29:{name:"g28",mode:"_c079",cycles:4,execute:this._ORA},25:{name:"g28",mode:"_c080",cycles:4,execute:this._ORA},1:{name:"g28",mode:"_c081",cycles:6,execute:this._ORA},17:{name:"g28",mode:"_c082",cycles:5,execute:this._ORA},73:{name:"g29",mode:"_c074",cycles:2,execute:this._EOR},69:{name:"g29",mode:"_c075",cycles:3,execute:this._EOR},85:{name:"g29",mode:"_c076",cycles:4,execute:this._EOR},77:{name:"g29",mode:"_c078",cycles:4,execute:this._EOR},93:{name:"g29",mode:"_c079",cycles:4,execute:this._EOR},89:{name:"g29",mode:"_c080",cycles:4,execute:this._EOR},65:{name:"g29",mode:"_c081",cycles:6,execute:this._EOR},81:{name:"g29",mode:"_c082",cycles:5,execute:this._EOR},10:{name:"_c193",mode:"_c086",cycles:2,execute:this._ASL_ACC},6:{name:"_c193",mode:"_c075",cycles:5,execute:this._ASL_MEM},22:{name:"_c193",mode:"_c076",cycles:6,execute:this._ASL_MEM},14:{name:"_c193",mode:"_c078",cycles:6,execute:this._ASL_MEM},30:{name:"_c193",mode:"_c079",cycles:7,execute:this._ASL_MEM},74:{name:"_c194",mode:"_c086",cycles:2,execute:this._LSR_ACC},70:{name:"_c194",mode:"_c075",cycles:5,execute:this._LSR_MEM},86:{name:"_c194",mode:"_c076",cycles:6,execute:this._LSR_MEM},78:{name:"_c194",mode:"_c078",cycles:6,execute:this._LSR_MEM},94:{name:"_c194",mode:"_c079",cycles:7,execute:this._LSR_MEM},42:{name:"_c195",mode:"_c086",cycles:2,execute:this._ROL_ACC},38:{name:"_c195",mode:"_c075",cycles:5,execute:this._ROL_MEM},54:{name:"_c195",mode:"_c076",cycles:6,execute:this._ROL_MEM},46:{name:"_c195",mode:"_c078",cycles:6,execute:this._ROL_MEM},62:{name:"_c195",mode:"_c079",cycles:7,execute:this._ROL_MEM},106:{name:"_c196",mode:"_c086",cycles:2,execute:this._ROR_ACC},102:{name:"_c196",mode:"_c075",cycles:5,execute:this._ROR_MEM},118:{name:"_c196",mode:"_c076",cycles:6,execute:this._ROR_MEM},110:{name:"_c196",mode:"_c078",cycles:6,execute:this._ROR_MEM},126:{name:"_c196",mode:"_c079",cycles:7,execute:this._ROR_MEM},201:{name:"g36",mode:"_c074",cycles:2,execute:this._CMP},197:{name:"g36",mode:"_c075",cycles:3,execute:this._CMP},213:{name:"g36",mode:"_c076",cycles:4,execute:this._CMP},205:{name:"g36",mode:"_c078",cycles:4,execute:this._CMP},221:{name:"g36",mode:"_c079",cycles:4,execute:this._CMP},217:{name:"g36",mode:"_c080",cycles:4,execute:this._CMP},193:{name:"g36",mode:"_c081",cycles:6,execute:this._CMP},209:{name:"g36",mode:"_c082",cycles:5,execute:this._CMP},224:{name:"g37",mode:"_c074",cycles:2,execute:this._CPX},228:{name:"g37",mode:"_c075",cycles:3,execute:this._CPX},236:{name:"g37",mode:"_c078",cycles:4,execute:this._CPX},192:{name:"g38",mode:"_c074",cycles:2,execute:this._CPY},196:{name:"g38",mode:"_c075",cycles:3,execute:this._CPY},204:{name:"g38",mode:"_c078",cycles:4,execute:this._CPY},76:{name:"g39",mode:"_c078",cycles:3,execute:this._JMP},108:{name:"g39",mode:"_c083",cycles:5,execute:this._JMP_IND},32:{name:"g40",mode:"_c078",cycles:6,execute:this._JSR},96:{name:"g41",mode:"_c085",cycles:6,execute:this._RTS},16:{name:"g09",mode:"_c084",cycles:2,execute:this._BPL},48:{name:"g07",mode:"_c084",cycles:2,execute:this._BMI},80:{name:"g10",mode:"_c084",cycles:2,execute:this._BVC},112:{name:"g11",mode:"_c084",cycles:2,execute:this._BVS},144:{name:"g04",mode:"_c084",cycles:2,execute:this._BCC},176:{name:"g05",mode:"_c084",cycles:2,execute:this._BCS},208:{name:"g08",mode:"_c084",cycles:2,execute:this._BNE},240:{name:"g06",mode:"_c084",cycles:2,execute:this._BEQ},72:{name:"g43",mode:"_c085",cycles:3,execute:this._PHA},104:{name:"g45",mode:"_c085",cycles:4,execute:this._PLA},8:{name:"g44",mode:"_c085",cycles:3,execute:this._PHP},40:{name:"g46",mode:"_c085",cycles:4,execute:this._PLP},64:{name:"g42",mode:"_c085",cycles:6,execute:this._RTI},24:{name:"g12",mode:"_c085",cycles:2,execute:this._CLC},56:{name:"g16",mode:"_c085",cycles:2,execute:this._SEC},88:{name:"g14",mode:"_c085",cycles:2,execute:this._CLI},120:{name:"g18",mode:"_c085",cycles:2,execute:this._SEI},184:{name:"g15",mode:"_c085",cycles:2,execute:this._CLV},216:{name:"g13",mode:"_c085",cycles:2,execute:this._CLD},248:{name:"g17",mode:"_c085",cycles:2,execute:this._SED},170:{name:"g47",mode:"_c085",cycles:2,execute:this._TAX},168:{name:"g48",mode:"_c085",cycles:2,execute:this._TAY},138:{name:"g50",mode:"_c085",cycles:2,execute:this._TXA},152:{name:"g52",mode:"_c085",cycles:2,execute:this._TYA},154:{name:"g51",mode:"_c085",cycles:2,execute:this._TXS},186:{name:"g49",mode:"_c085",cycles:2,execute:this._TSX},198:{name:"g31",mode:"_c075",cycles:5,execute:this._DEC},214:{name:"g31",mode:"_c076",cycles:6,execute:this._DEC},206:{name:"g31",mode:"_c078",cycles:6,execute:this._DEC},222:{name:"g31",mode:"_c079",cycles:7,execute:this._DEC},230:{name:"g30",mode:"_c075",cycles:5,execute:this._INC},246:{name:"g30",mode:"_c076",cycles:6,execute:this._INC},238:{name:"g30",mode:"_c078",cycles:6,execute:this._INC},254:{name:"g30",mode:"_c079",cycles:7,execute:this._INC},202:{name:"g34",mode:"_c085",cycles:2,execute:this._DEX},136:{name:"g35",mode:"_c085",cycles:2,execute:this._DEY},232:{name:"g32",mode:"_c085",cycles:2,execute:this._INX},200:{name:"g33",mode:"_c085",cycles:2,execute:this._INY},234:{name:"g53",mode:"_c085",cycles:2,execute:this._NOP},0:{name:"g54",mode:"_c085",cycles:7,execute:this._BRK},36:{name:"_c152",mode:"_c075",cycles:3,execute:this._BIT},44:{name:"_c152",mode:"_c078",cycles:4,execute:this._BIT},7:{name:"_c197",mode:"_c075",cycles:5,execute:this._SLO},23:{name:"_c197",mode:"_c076",cycles:6,execute:this._SLO},15:{name:"_c197",mode:"_c078",cycles:6,execute:this._SLO},31:{name:"_c197",mode:"_c079",cycles:7,execute:this._SLO},27:{name:"_c197",mode:"_c080",cycles:7,execute:this._SLO},3:{name:"_c197",mode:"_c081",cycles:8,execute:this._SLO},19:{name:"_c197",mode:"_c082",cycles:8,execute:this._SLO},39:{name:"_c198",mode:"_c075",cycles:5,execute:this._RLA},55:{name:"_c198",mode:"_c076",cycles:6,execute:this._RLA},47:{name:"_c198",mode:"_c078",cycles:6,execute:this._RLA},63:{name:"_c198",mode:"_c079",cycles:7,execute:this._RLA},59:{name:"_c198",mode:"_c080",cycles:7,execute:this._RLA},35:{name:"_c198",mode:"_c081",cycles:8,execute:this._RLA},51:{name:"_c198",mode:"_c082",cycles:8,execute:this._RLA},71:{name:"_c199",mode:"_c075",cycles:5,execute:this._SRE},87:{name:"_c199",mode:"_c076",cycles:6,execute:this._SRE},79:{name:"_c199",mode:"_c078",cycles:6,execute:this._SRE},95:{name:"_c199",mode:"_c079",cycles:7,execute:this._SRE},91:{name:"_c199",mode:"_c080",cycles:7,execute:this._SRE},67:{name:"_c199",mode:"_c081",cycles:8,execute:this._SRE},83:{name:"_c199",mode:"_c082",cycles:8,execute:this._SRE},103:{name:"_c200",mode:"_c075",cycles:5,execute:this._RRA},119:{name:"_c200",mode:"_c076",cycles:6,execute:this._RRA},111:{name:"_c200",mode:"_c078",cycles:6,execute:this._RRA},127:{name:"_c200",mode:"_c079",cycles:7,execute:this._RRA},123:{name:"_c200",mode:"_c080",cycles:7,execute:this._RRA},99:{name:"_c200",mode:"_c081",cycles:8,execute:this._RRA},115:{name:"_c200",mode:"_c082",cycles:8,execute:this._RRA},231:{name:"ISC",mode:"_c075",cycles:5,execute:this._ISC},247:{name:"ISC",mode:"_c076",cycles:6,execute:this._ISC},239:{name:"ISC",mode:"_c078",cycles:6,execute:this._ISC},255:{name:"ISC",mode:"_c079",cycles:7,execute:this._ISC},251:{name:"ISC",mode:"_c080",cycles:7,execute:this._ISC},227:{name:"ISC",mode:"_c081",cycles:8,execute:this._ISC},243:{name:"ISC",mode:"_c082",cycles:8,execute:this._ISC},199:{name:"_c203",mode:"_c075",cycles:5,execute:this._DCP},215:{name:"_c203",mode:"_c076",cycles:6,execute:this._DCP},207:{name:"_c203",mode:"_c078",cycles:6,execute:this._DCP},223:{name:"_c203",mode:"_c079",cycles:7,execute:this._DCP},219:{name:"_c203",mode:"_c080",cycles:7,execute:this._DCP},195:{name:"_c203",mode:"_c081",cycles:8,execute:this._DCP},211:{name:"_c203",mode:"_c082",cycles:8,execute:this._DCP},167:{name:"_c201",mode:"_c075",cycles:3,execute:this._LAX},183:{name:"_c201",mode:"_c077",cycles:4,execute:this._LAX},175:{name:"_c201",mode:"_c078",cycles:4,execute:this._LAX},191:{name:"_c201",mode:"_c080",cycles:4,execute:this._LAX},163:{name:"_c201",mode:"_c081",cycles:6,execute:this._LAX},179:{name:"_c201",mode:"_c082",cycles:5,execute:this._LAX},135:{name:"_c202",mode:"_c075",cycles:3,execute:this._SAX},151:{name:"_c202",mode:"_c077",cycles:4,execute:this._SAX},143:{name:"_c202",mode:"_c078",cycles:4,execute:this._SAX},131:{name:"_c202",mode:"_c081",cycles:6,execute:this._SAX},11:{name:"_c205",mode:"_c074",cycles:2,execute:this._ANC},43:{name:"_c205",mode:"_c074",cycles:2,execute:this._ANC},75:{name:"_c206",mode:"_c074",cycles:2,execute:this._ALR},107:{name:"_c207",mode:"_c074",cycles:2,execute:this._ARR},203:{name:"_c209",mode:"_c074",cycles:2,execute:this._AXS},235:{name:"g26",mode:"_c074",cycles:2,execute:this._SBC},26:{name:"g53",mode:"_c085",cycles:2,execute:this._NOP},58:{name:"g53",mode:"_c085",cycles:2,execute:this._NOP},90:{name:"g53",mode:"_c085",cycles:2,execute:this._NOP},122:{name:"g53",mode:"_c085",cycles:2,execute:this._NOP},218:{name:"g53",mode:"_c085",cycles:2,execute:this._NOP},250:{name:"g53",mode:"_c085",cycles:2,execute:this._NOP},128:{name:"g53",mode:"_c074",cycles:2,execute:this._NOP_IMM},130:{name:"g53",mode:"_c074",cycles:2,execute:this._NOP_IMM},137:{name:"g53",mode:"_c074",cycles:2,execute:this._NOP_IMM},194:{name:"g53",mode:"_c074",cycles:2,execute:this._NOP_IMM},226:{name:"g53",mode:"_c074",cycles:2,execute:this._NOP_IMM},4:{name:"g53",mode:"_c075",cycles:3,execute:this._NOP_ZP},68:{name:"g53",mode:"_c075",cycles:3,execute:this._NOP_ZP},100:{name:"g53",mode:"_c075",cycles:3,execute:this._NOP_ZP},20:{name:"g53",mode:"_c076",cycles:4,execute:this._NOP_ZPX},52:{name:"g53",mode:"_c076",cycles:4,execute:this._NOP_ZPX},84:{name:"g53",mode:"_c076",cycles:4,execute:this._NOP_ZPX},116:{name:"g53",mode:"_c076",cycles:4,execute:this._NOP_ZPX},212:{name:"g53",mode:"_c076",cycles:4,execute:this._NOP_ZPX},244:{name:"g53",mode:"_c076",cycles:4,execute:this._NOP_ZPX},12:{name:"g53",mode:"_c078",cycles:4,execute:this._NOP_ABS},28:{name:"g53",mode:"_c079",cycles:4,execute:this._NOP_ABSX},60:{name:"g53",mode:"_c079",cycles:4,execute:this._NOP_ABSX},92:{name:"g53",mode:"_c079",cycles:4,execute:this._NOP_ABSX},124:{name:"g53",mode:"_c079",cycles:4,execute:this._NOP_ABSX},220:{name:"g53",mode:"_c079",cycles:4,execute:this._NOP_ABSX},252:{name:"g53",mode:"_c079",cycles:4,execute:this._NOP_ABSX},159:{name:"SHA",mode:"_c080",cycles:5,execute:this._SHA},147:{name:"SHA",mode:"_c082",cycles:6,execute:this._SHA},158:{name:"_c210",mode:"_c080",cycles:5,execute:this._SHX},156:{name:"_c211",mode:"_c079",cycles:5,execute:this._SHY},155:{name:"_c212",mode:"_c080",cycles:5,execute:this._TAS},187:{name:"_c213",mode:"_c080",cycles:4,execute:this._LAS},139:{name:"ANE",mode:"_c074",cycles:2,execute:this._ANE},171:{name:"LXA",mode:"_c074",cycles:2,execute:this._LXA}}}static ADDR_MODE={_c074:0,_c075:1,_c076:2,_c077:3,_c078:4,_c079:5,_c080:6,_c081:7,_c082:8,_c083:9,_c084:10,_c085:11,_c086:12};buildOpcodeModeMap(){const e=d.ADDR_MODE;return{169:e._c074,165:e._c075,181:e._c076,173:e._c078,189:e._c079,185:e._c080,161:e._c081,177:e._c082,162:e._c074,166:e._c075,182:e._c077,174:e._c078,190:e._c080,160:e._c074,164:e._c075,180:e._c076,172:e._c078,188:e._c079,105:e._c074,101:e._c075,117:e._c076,109:e._c078,125:e._c079,121:e._c080,97:e._c081,113:e._c082,233:e._c074,229:e._c075,245:e._c076,237:e._c078,253:e._c079,249:e._c080,225:e._c081,241:e._c082,41:e._c074,37:e._c075,53:e._c076,45:e._c078,61:e._c079,57:e._c080,33:e._c081,49:e._c082,9:e._c074,5:e._c075,21:e._c076,13:e._c078,29:e._c079,25:e._c080,1:e._c081,17:e._c082,73:e._c074,69:e._c075,85:e._c076,77:e._c078,93:e._c079,89:e._c080,65:e._c081,81:e._c082,201:e._c074,197:e._c075,213:e._c076,205:e._c078,221:e._c079,217:e._c080,193:e._c081,209:e._c082,133:e._c075,149:e._c076,141:e._c078,157:e._c079,153:e._c080,145:e._c082,134:e._c075,150:e._c077,142:e._c078,132:e._c075,148:e._c076,140:e._c078,16:e._c084,48:e._c084,80:e._c084,112:e._c084,144:e._c084,176:e._c084,208:e._c084,240:e._c084}}addPageCrossCycle(){const e=this.cpu.currentOpcode,t=this.opcodeModeMap[e];5!==t&&6!==t&&8!==t||this.addressing.checkPageCrossed(e)&&this.cpu.cycles++}g19(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100=e,this.cpu.updateZeroNegative(e),this.addPageCrossCycle();const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}g22(){this.addressing.writeOperand(this.cpu.currentOpcode,this.cpu._n116._c100);const e=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=e}g20(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c101=e,this.cpu.updateZeroNegative(e),this.addPageCrossCycle();const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}g21(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c102=e,this.cpu.updateZeroNegative(e),this.addPageCrossCycle();const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}g23(){this.addressing.writeOperand(this.cpu.currentOpcode,this.cpu._n116._c101);const e=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=e}g24(){this.addressing.writeOperand(this.cpu.currentOpcode,this.cpu._n116._c102);const e=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=e}g25(){const e=this.addressing.readOperand(this.cpu.currentOpcode),t=this.cpu._n032(this.cpu.FLAGS._c106)?1:0,s=this.cpu._n116._c100+e+t;this.cpu._n031(this.cpu.FLAGS._c106,s>255);const i=128&this.cpu._n116._c100,n=128&e,r=128&s;this.cpu._n031(this.cpu.FLAGS._c112,i===n&&i!==r),this.cpu._n116._c100=255&s,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.addPageCrossCycle();const o=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=o}g26(){const e=this.addressing.readOperand(this.cpu.currentOpcode),t=this.cpu._n032(this.cpu.FLAGS._c106)?1:0,s=this.cpu._n116._c100-e-(1-t);this.cpu._n031(this.cpu.FLAGS._c106,s>=0);const i=128&this.cpu._n116._c100,n=128&e,r=128&s;this.cpu._n031(this.cpu.FLAGS._c112,i!==n&&i!==r),this.cpu._n116._c100=255&s,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.addPageCrossCycle();const o=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=o}g27(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100&=e,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.addPageCrossCycle();const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}g28(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100|=e,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.addPageCrossCycle();const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}g29(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100^=e,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.addPageCrossCycle();const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}g02(){const e=this.cpu._n116._c100;this.cpu._n031(this.cpu.FLAGS._c106,!!(128&e)),this.cpu._n116._c100=e<<1&255,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.cpu._n116._c104+=1}ASL_MEM(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e);this.cpu._n031(this.cpu.FLAGS._c106,!!(128&t));const s=t<<1&255;this.cpu.memory.write(e,s),this.cpu.updateZeroNegative(s);const i=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=i}g03(){const e=this.cpu._n116._c100;this.cpu._n031(this.cpu.FLAGS._c106,!!(1&e)),this.cpu._n116._c100=e>>1&255,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.cpu._n116._c104+=1}LSR_MEM(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e);this.cpu._n031(this.cpu.FLAGS._c106,!!(1&t));const s=t>>1&255;this.cpu.memory.write(e,s),this.cpu.updateZeroNegative(s);const i=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=i}g00(){const e=this.cpu._n116._c100,t=this.cpu._n032(this.cpu.FLAGS._c106)?1:0;this.cpu._n031(this.cpu.FLAGS._c106,!!(128&e)),this.cpu._n116._c100=255&(e<<1|t),this.cpu.updateZeroNegative(this.cpu._n116._c100),this.cpu._n116._c104+=1}ROL_MEM(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e),s=this.cpu._n032(this.cpu.FLAGS._c106)?1:0;this.cpu._n031(this.cpu.FLAGS._c106,!!(128&t));const i=255&(t<<1|s);this.cpu.memory.write(e,i),this.cpu.updateZeroNegative(i);const n=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=n}g01(){const e=this.cpu._n116._c100,t=this.cpu._n032(this.cpu.FLAGS._c106)?128:0;this.cpu._n031(this.cpu.FLAGS._c106,!!(1&e)),this.cpu._n116._c100=255&(e>>1|t),this.cpu.updateZeroNegative(this.cpu._n116._c100),this.cpu._n116._c104+=1}ROR_MEM(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e),s=this.cpu._n032(this.cpu.FLAGS._c106)?128:0;this.cpu._n031(this.cpu.FLAGS._c106,!!(1&t));const i=255&(t>>1|s);this.cpu.memory.write(e,i),this.cpu.updateZeroNegative(i);const n=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=n}g36(){const e=this.addressing.readOperand(this.cpu.currentOpcode),t=this.cpu._n116._c100-e;this.cpu._n031(this.cpu.FLAGS._c106,t>=0),this.cpu.updateZeroNegative(255&t),this.addPageCrossCycle();const s=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=s}g37(){const e=this.addressing.readOperand(this.cpu.currentOpcode),t=this.cpu._n116._c101-e;this.cpu._n031(this.cpu.FLAGS._c106,t>=0),this.cpu.updateZeroNegative(255&t),this.addPageCrossCycle();const s=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=s}g38(){const e=this.addressing.readOperand(this.cpu.currentOpcode),t=this.cpu._n116._c102-e;this.cpu._n031(this.cpu.FLAGS._c106,t>=0),this.cpu.updateZeroNegative(255&t),this.addPageCrossCycle();const s=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=s}g39(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode);this.cpu._n116._c104=e}JMP_IND(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode);this.cpu._n116._c104=e}g40(){const e=this.cpu._n116._c104+2;this.cpu.pushWord(e);const t=this.addressing.getOperandAddress(this.cpu.currentOpcode);this.cpu._n116._c104=t}g41(){this.cpu._n116._c104=this.cpu.popWord()+1&65535}_executeBranch(e){if(e){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode);this.cpu._n116._c104=e,this.cpu.cycles+=1,this.addressing.checkPageCrossed(this.cpu.currentOpcode)&&(this.cpu.cycles+=1)}else this.cpu._n116._c104+=2}g06(){this._executeBranch(this.cpu._n032(this.cpu.FLAGS._c107))}g08(){this._executeBranch(!this.cpu._n032(this.cpu.FLAGS._c107))}g09(){this._executeBranch(!this.cpu._n032(this.cpu.FLAGS._c113))}g07(){this._executeBranch(this.cpu._n032(this.cpu.FLAGS._c113))}g10(){this._executeBranch(!this.cpu._n032(this.cpu.FLAGS._c112))}g11(){this._executeBranch(this.cpu._n032(this.cpu.FLAGS._c112))}g04(){this._executeBranch(!this.cpu._n032(this.cpu.FLAGS._c106))}g05(){this._executeBranch(this.cpu._n032(this.cpu.FLAGS._c106))}g43(){this.cpu.pushByte(this.cpu._n116._c100),this.cpu._n116._c104+=1}g45(){this.cpu._n116._c100=this.cpu.popByte(),this.cpu.updateZeroNegative(this.cpu._n116._c100),this.cpu._n116._c104+=1}g44(){this.cpu.pushByte(this.cpu._n116._c105|this.cpu.FLAGS._c110),this.cpu._n116._c104+=1}g46(){this.cpu._n116._c105=this.cpu.popByte()|this.cpu.FLAGS._c111,this.cpu._n116._c104+=1}g42(){this.cpu._n116._c105=this.cpu.popByte()|this.cpu.FLAGS._c111,this.cpu._n116._c104=this.cpu.popWord()}g12(){this.cpu._n031(this.cpu.FLAGS._c106,!1),this.cpu._n116._c104+=1}g16(){this.cpu._n031(this.cpu.FLAGS._c106,!0),this.cpu._n116._c104+=1}g14(){this.cpu.requestIRQEnable(),this.cpu._n116._c104+=1}g18(){this.cpu.requestIRQDisable(),this.cpu._n116._c104+=1}g15(){this.cpu._n031(this.cpu.FLAGS._c112,!1),this.cpu._n116._c104+=1}g13(){this.cpu._n031(this.cpu.FLAGS._c109,!1),this.cpu._n116._c104+=1}g17(){this.cpu._n031(this.cpu.FLAGS._c109,!0),this.cpu._n116._c104+=1}g53(){this.cpu._n116._c104+=1}g51(){this.cpu._n116._c103=this.cpu._n116._c101,this.cpu._n116._c104+=1}g35(){this.cpu._n116._c102=this.cpu._n116._c102-1&255,this.cpu.updateZeroNegative(this.cpu._n116._c102),this.cpu._n116._c104+=1}g34(){this.cpu._n116._c101=this.cpu._n116._c101-1&255,this.cpu.updateZeroNegative(this.cpu._n116._c101),this.cpu._n116._c104+=1}g32(){this.cpu._n116._c101=this.cpu._n116._c101+1&255,this.cpu.updateZeroNegative(this.cpu._n116._c101),this.cpu._n116._c104+=1}g33(){this.cpu._n116._c102=this.cpu._n116._c102+1&255,this.cpu.updateZeroNegative(this.cpu._n116._c102),this.cpu._n116._c104+=1}g47(){this.cpu._n116._c101=this.cpu._n116._c100,this.cpu.updateZeroNegative(this.cpu._n116._c101),this.cpu._n116._c104+=1}g48(){this.cpu._n116._c102=this.cpu._n116._c100,this.cpu.updateZeroNegative(this.cpu._n116._c102),this.cpu._n116._c104+=1}g50(){this.cpu._n116._c100=this.cpu._n116._c101,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.cpu._n116._c104+=1}g52(){this.cpu._n116._c100=this.cpu._n116._c102,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.cpu._n116._c104+=1}g49(){this.cpu._n116._c101=this.cpu._n116._c103,this.cpu.updateZeroNegative(this.cpu._n116._c101),this.cpu._n116._c104+=1}g31(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e)-1&255;this.cpu.memory.write(e,t),this.cpu.updateZeroNegative(t);const s=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=s}g30(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e)+1&255;this.cpu.memory.write(e,t),this.cpu.updateZeroNegative(t);const s=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=s}g54(){this.cpu.pushWord(this.cpu._n116._c104+2);const e=this.cpu._n116._c105|this.cpu.FLAGS._c110|this.cpu.FLAGS._c111;this.cpu._n123?(this.cpu._n123=!1,this.cpu.pushByte(e),this.cpu._n031(this.cpu.FLAGS._c108,!0),this.cpu._n116._c104=this.cpu.memory._n062(this.cpu.INTERRUPT_VECTORS._c114),this.cpu._prevNeedNmi=!1):(this.cpu.pushByte(e),this.cpu._n031(this.cpu.FLAGS._c108,!0),this.cpu._n116._c104=this.cpu.memory._n062(this.cpu.INTERRUPT_VECTORS._c116))}_c152(){const e=this.addressing.readOperand(this.cpu.currentOpcode),t=this.cpu._n116._c100&e;this.cpu._n031(this.cpu.FLAGS._c107,0===t),this.cpu._n031(this.cpu.FLAGS._c112,!!(64&e)),this.cpu._n031(this.cpu.FLAGS._c113,!!(128&e));const s=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=s}_c197(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e);this.cpu._n031(this.cpu.FLAGS._c106,!!(128&t));const s=t<<1&255;this.cpu.memory.write(e,s),this.cpu._n116._c100|=s,this.cpu.updateZeroNegative(this.cpu._n116._c100);const i=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=i}_c198(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e),s=this.cpu._n032(this.cpu.FLAGS._c106)?1:0;this.cpu._n031(this.cpu.FLAGS._c106,!!(128&t));const i=255&(t<<1|s);this.cpu.memory.write(e,i),this.cpu._n116._c100&=i,this.cpu.updateZeroNegative(this.cpu._n116._c100);const n=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=n}_c199(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e);this.cpu._n031(this.cpu.FLAGS._c106,!!(1&t));const s=t>>1&255;this.cpu.memory.write(e,s),this.cpu._n116._c100^=s,this.cpu.updateZeroNegative(this.cpu._n116._c100);const i=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=i}_c200(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e),s=!!(1&t),i=255&(t>>1|(this.cpu._n032(this.cpu.FLAGS._c106)?128:0));this.cpu.memory.write(e,i);const n=s?1:0,r=this.cpu._n116._c100+i+n,o=128&this.cpu._n116._c100,_n119=128&i,c=128&r;this.cpu._n031(this.cpu.FLAGS._c112,o===_n119&&o!==c),this.cpu._n031(this.cpu.FLAGS._c106,r>255),this.cpu._n116._c100=255&r,this.cpu.updateZeroNegative(this.cpu._n116._c100);const h=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=h}ISC(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e)+1&255;this.cpu.memory.write(e,t);const s=this.cpu._n032(this.cpu.FLAGS._c106)?1:0,i=this.cpu._n116._c100-t-(1-s),n=128&this.cpu._n116._c100,r=128&t,o=128&i;this.cpu._n031(this.cpu.FLAGS._c112,n!==r&&n!==o),this.cpu._n031(this.cpu.FLAGS._c106,i>=0),this.cpu._n116._c100=255&i,this.cpu.updateZeroNegative(this.cpu._n116._c100);const _n119=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=_n119}_c203(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu.memory.read(e)-1&255;this.cpu.memory.write(e,t);const s=this.cpu._n116._c100-t;this.cpu._n031(this.cpu.FLAGS._c106,s>=0),this.cpu.updateZeroNegative(255&s);const i=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=i}_c201(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100=e,this.cpu._n116._c101=e,this.cpu.updateZeroNegative(e);const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}_c202(){const e=this.addressing.getOperandAddress(this.cpu.currentOpcode),t=this.cpu._n116._c100&this.cpu._n116._c101;this.cpu.memory.write(e,t);const s=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=s}_c205(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100&=e,this.cpu.updateZeroNegative(this.cpu._n116._c100),this.cpu._n031(this.cpu.FLAGS._c106,!!(128&this.cpu._n116._c100));const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}_c206(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100&=e,this.cpu._n031(this.cpu.FLAGS._c106,!!(1&this.cpu._n116._c100)),this.cpu._n116._c100=this.cpu._n116._c100>>1&255,this.cpu.updateZeroNegative(this.cpu._n116._c100);const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}_c207(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100&=e;const t=this.cpu._n032(this.cpu.FLAGS._c106)?128:0,s=this.cpu._n116._c100>>6&1,i=this.cpu._n116._c100>>7&1;this.cpu._n031(this.cpu.FLAGS._c106,0!==i),this.cpu._n031(this.cpu.FLAGS._c112,s^i),this.cpu._n116._c100=255&(this.cpu._n116._c100>>1|t),this.cpu.updateZeroNegative(this.cpu._n116._c100);const n=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=n}_c209(){const e=this.addressing.readOperand(this.cpu.currentOpcode),t=(this.cpu._n116._c100&this.cpu._n116._c101)-e;this.cpu._n031(this.cpu.FLAGS._c106,t>=0),this.cpu._n116._c101=255&t,this.cpu.updateZeroNegative(this.cpu._n116._c101);const s=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=s}NOP_IMM(){const e=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=e}NOP_ZP(){this.addressing.readOperand(this.cpu.currentOpcode);const e=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=e}NOP_ZPX(){this.addressing.readOperand(this.cpu.currentOpcode);const e=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=e}NOP_ABS(){this.addressing.readOperand(this.cpu.currentOpcode);const e=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=e}NOP_ABSX(){this.addressing.readOperand(this.cpu.currentOpcode),this.addPageCrossCycle();const e=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=e}SHA(){const e=this.addressing.resolveOperand(this.cpu.currentOpcode).address,t=e>>8&255,s=this.cpu._n116._c100&this.cpu._n116._c101&t+1&255;this.cpu.memory.write(e,s);const i=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=i}_c210(){const e=this.addressing.resolveOperand(this.cpu.currentOpcode).address,t=e>>8&255,s=this.cpu._n116._c101&t+1&255;this.cpu.memory.write(e,s);const i=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=i}_c211(){const e=this.addressing.resolveOperand(this.cpu.currentOpcode).address,t=e>>8&255,s=this.cpu._n116._c102&t+1&255;this.cpu.memory.write(e,s);const i=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=i}_c212(){this.cpu._n116._c103=this.cpu._n116._c100&this.cpu._n116._c101;const e=this.addressing.resolveOperand(this.cpu.currentOpcode).address,t=e>>8&255,s=this.cpu._n116._c100&this.cpu._n116._c101&t+1&255;this.cpu.memory.write(e,s);const i=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=i}_c213(){const e=this.addressing.readOperand(this.cpu.currentOpcode)&this.cpu._n116._c103;this.cpu._n116._c100=e,this.cpu._n116._c101=e,this.cpu._n116._c103=e,this.cpu.updateZeroNegative(e);const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}ANE(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100=(238|this.cpu._n116._c100)&this.cpu._n116._c101&e,this.cpu.updateZeroNegative(this.cpu._n116._c100);const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}LXA(){const e=this.addressing.readOperand(this.cpu.currentOpcode);this.cpu._n116._c100=(238|this.cpu._n116._c100)&e,this.cpu._n116._c101=this.cpu._n116._c100,this.cpu.updateZeroNegative(this.cpu._n116._c100);const t=this.addressing.getInstructionBytes(this.cpu.currentOpcode);this.cpu._n116._c104+=t}getInstruction(e){return this.instructionSet[e]||null}isValidOpcode(e){return e in this.instructionSet}}let _n122,m,g,f,_c106;if("undefined"!=typeof module&&module.exports&&(module.exports=d),"undefined"!=typeof window&&(window.InstructionSet=d),"undefined"!=typeof module&&module.exports){_n122=require("./cpu-core.js");const e=require("./memory-_n126.js");m=e.MemoryMMU,g=e.RAMComponent,f=require("./addressing-modes.js"),_c106=require("./instruction-set.js")}else"undefined"!=typeof window&&(_n122=window.CPUCore,m=window.MemoryMMU,g=window.RAMComponent,f=window.AddressingModes,_c106=window.InstructionSet);class _n121{constructor(e=!1){this._n126=new m,this.cpu=new _n122,this.addressing=new f(this.cpu),this.instructions=new _c106(this.cpu,this.addressing),this.cpu.connectMemory(this._n126),this.cpu.instructionSet=this.instructions.instructionSet,this.cpu.decodeInstruction=this.instructions.getInstruction.bind(this.instructions),this.cpu.addressing=this.addressing,this.cpu.instructions=this.instructions,this.performance={instructionsPerSecond:0,lastCycleCount:0,lastTime:Date.now(),frameCycles:0,targetCyclesPerFrame:29780},this.debug=!1,this.breakpoints=new Set,this.initialize(e)}initialize(e=!1){this._n126.initialize(),this._n126._n068("ram",new g),e?(this.cpu._n116._c100=0,this.cpu._n116._c101=0,this.cpu._n116._c102=0,this.cpu._n116._c103=253,this.cpu._n116._c105=36,this.cpu._n116._c104=32768,this.cpu.cycles=0,this.cpu._n125=0):this.cpu.reset(),this.performance.lastCycleCount=0,this.performance.lastTime=Date.now(),this.performance.frameCycles=0}executeCycles(e){const t=this.cpu,s=this._n126,i=this.performance,n=this.breakpoints;let r=t._n125;const o=r+e;let _n119=i.frameCycles;for(;o>r;){if(n.has(t._n116._c104)){this.debug&&console.log("断点命中: 0x"+t._n116._c104.toString(16).toUpperCase());break}const e=s.read(t._n116._c104);t.currentOpcode=e,this.debug&&this.logInstruction(),t._n025(e);const i=t.cycles;r+=i,_n119+=i,t._n125=r,t.cycles=0}i.frameCycles=_n119,this.updatePerformanceStats()}_n025(){this.cpu.currentOpcode=this._n126.read(this.cpu._n116._c104),this.debug&&this.logInstruction(),this.cpu._n025()}executeFrame(){return this.performance.frameCycles=0,this.executeCycles(this.performance.targetCyclesPerFrame),this.handleFrameInterrupts(),this.performance.frameCycles}handleFrameInterrupts(){}updatePerformanceStats(){const e=Date.now(),t=e-this.performance.lastTime;if(t>=1e3){const s=this.cpu._n125-this.performance.lastCycleCount;this.performance.instructionsPerSecond=Math.round(s/(t/1e3)),this.performance.lastCycleCount=this.cpu._n125,this.performance.lastTime=e}}logInstruction(){const e=this.cpu._n116._c104,t=this.cpu.currentOpcode,s=this.instructions.getInstruction(t);if(s){const t=this.cpu._n116,i=this.cpu.getStatus().flags;console.log(`_c104:${e.toString(16).padStart(4,"0")} ${s.name} (${s.mode}) _c100:${t._c100.toString(16).padStart(2,"0")} _c101:${t._c101.toString(16).padStart(2,"0")} _c102:${t._c102.toString(16).padStart(2,"0")} _c105:${t._c105.toString(16).padStart(2,"0")} _c103:${t._c103.toString(16).padStart(2,"0")} Flags:${i._c106?"_c106":"-"}${i._c107?"_c107":"-"}${i._c108?"_c108":"-"}${i._c109?"_c109":"-"}${i._c112?"_c112":"-"}${i._c113?"_c113":"-"}`)}}loadROM(e,t=32768){const s=Math.min(e.length,65536-t);if(32768>t)if(8192>t)for(let i=0;s>i;i++){const s=e[i],n=t+i,r=2047&n;this._n126.memory[n]=s,this._n126.memory[r+2048]=s,this._n126.memory[r+4096]=s,this._n126.memory[r+6144]=s}else for(let i=0;s>i;i++)this._n126.write(t+i,e[i]);else this._n126.memory.set(e.subarray(0,s),t);const i=this._n126.read(65532),n=this._n126.read(65533),r=n<<8|i;console.log(`复位向量: 0xFFFC=0x${i.toString(16).padStart(2,"0")}, 0xFFFD=0x${n.toString(16).padStart(2,"0")}, 值=0x${r.toString(16).padStart(4,"0")}`),this.cpu.reset(),console.log(`ROM加载完成，大小: ${e.length}字节，加载地址: 0x${t.toString(16).toUpperCase()}`)}setBreakpoint(e){this.breakpoints.add(e)}clearBreakpoint(e){this.breakpoints.delete(e)}setDebugMode(e){this.debug=e}getStatus(){return{...this.cpu.getStatus(),performance:{instructionsPerSecond:this.performance.instructionsPerSecond,_n125:this.cpu._n125,frameCycles:this.performance.frameCycles},breakpoints:Array.from(this.breakpoints)}}getMemorySnapshot(e=0,t=65535){return this._n126.getMemorySnapshot(e,t)}step(){return this._n025(),this.getStatus()}runToBreakpoint(){for(;!this.breakpoints.has(this.cpu._n116._c104);)if(this._n025(),this.cpu._n125>1e6){console.warn("执行超时，可能陷入无限循环");break}return this.getStatus()}}"undefined"!=typeof module&&module.exports&&(module.exports={JSNESCPU:_n121,CPUCore:_n122,MemoryMMU:m,AddressingModes:f,InstructionSet:_c106,RAMComponent:g}),"undefined"!=typeof window&&(window.JSNESCPU=_n121);class _c100{constructor(){this.cpu=null,this._n128=null,this._n126=null,this.oamDmaActive=!1,this.oamDmaCycle=0,this.oamDmaSourceAddr=0,this.oamDmaPage=0,this.dmcDmaActive=!1,this.dmcDmaAddress=0,this.dmcDmaBuffer=0}_n068(e,t){switch(e){case"cpu":this.cpu=t;break;case"_n128":this._n128=t;break;case"_n126":this._n126=t}}startOamDma(e){if(!this._n126||!this._n128)return console.warn("DMA Controller: MMU或PPU未连接"),0;const t=(255&e)<<8;this.oamDmaPage=e,this.oamDmaSourceAddr=t;const s=this._n128._n102||0;for(let e=0;256>e;e++){const i=t+e&65535,n=this._n126.read(i),r=s+e&255;this._n128._n094[r]=n}return this.cpu&&void 0!==this.cpu._n125&&(this.cpu._n125+=513),513}static performOamDma(e,t,s,i=null){if(!t||!s)return console.warn("DMA Controller: MMU或PPU未提供"),0;const n=(255&e)<<8,r=s._n102||0;for(let e=0;256>e;e++){const i=n+e&65535,o=t.read(i),_n119=r+e&255;s._n094[_n119]=o}return i&&void 0!==i._n125&&(i._n125+=513),513}reset(){this.oamDmaActive=!1,this.oamDmaCycle=0,this.oamDmaSourceAddr=0,this.oamDmaPage=0,this.dmcDmaActive=!1,this.dmcDmaAddress=0,this.dmcDmaBuffer=0}}"undefined"!=typeof module&&module.exports&&(module.exports={DMAController:_c100}),"undefined"!=typeof window&&(window.DMAController=_c100);class b extends e{constructor(){super(),this.dmaController=null,this.userChannelEnabled={pulse1:!0,pulse2:!0,triangle:!0,noise:!0,dmc:!0},this.sweepEnabled={pulse1:!0,pulse2:!0},this.squareFeatures={pulse1:{envelope:!0,lengthCounter:!0,dutyCycle:!0},pulse2:{envelope:!0,lengthCounter:!0,dutyCycle:!0}},this.pulse1={enabled:!1,duty:0,lengthCounterHalt:!1,envelopeLoop:!1,constantVolume:!1,volume:0,envelopePeriod:0,envelopeStart:!1,envelopeDivider:0,envelopeDecay:0,sweepEnabled:!1,sweepPeriod:0,sweepNegate:!1,sweepShift:0,sweepReload:!1,sweepDivider:0,sweepMute:!1,timerPeriod:0,timerValue:0,lengthCounter:0,sequencePos:0},this.pulse2={enabled:!1,duty:0,lengthCounterHalt:!1,envelopeLoop:!1,constantVolume:!1,volume:0,envelopePeriod:0,envelopeStart:!1,envelopeDivider:0,envelopeDecay:0,sweepEnabled:!1,sweepPeriod:0,sweepNegate:!1,sweepShift:0,sweepReload:!1,sweepDivider:0,sweepMute:!1,timerPeriod:0,timerValue:0,lengthCounter:0,sequencePos:0},this.triangle={enabled:!1,lengthCounterHalt:!1,controlFlag:!1,linearCounter:0,linearCounterReload:0,linearCounterReloadFlag:!1,timerPeriod:0,timerValue:0,lengthCounter:0,sequencePos:0},this.noise={enabled:!1,lengthCounterHalt:!1,envelopeLoop:!1,constantVolume:!1,volume:0,envelopePeriod:0,envelopeStart:!1,envelopeDivider:0,envelopeDecay:0,mode:!1,timerPeriod:0,timerValue:0,lengthCounter:0,_n082:1},this.dmc={enabled:!1,irqEnabled:!1,loop:!1,timerPeriod:0,timerValue:0,outputValue:0,sampleAddress:0,sampleLength:0,currentAddress:0,currentLength:0,_n082:0,bitsRemaining:0,silence:!0,buffer:0,bufferEmpty:!0},this._n130=0,this._n131=0,this._n132=!1,this._n133=!1,this._n099=0,this.cpu=null,this.onIrq=null,this._n134=null,this.sampleRate=44100,this.sampleBuffer=[],this.bufferSize=2048,this.audioEnabled=!1,this.targetBufferSize=4096,this.apuCycles=0,this.apuCyclesPerSample=20,this.apuCycleCounter=0,this.noisePeriodTable=[4,8,16,32,64,96,128,160,202,254,380,508,762,1016,2034,4068],this.squareTable=Array(512),this.tndTable=Array(3264),this.dcValue=0,this.initMixingTables(),this.prevSample=0,this.smpAccum=0,this.accCount=0,this.smpSquare1=0,this.smpSquare2=0,this.smpTriangle=0,this.smpNoise=0,this.smpDmc=0,this.dmcPeriodTable=[428,380,340,320,286,254,226,214,190,160,142,128,106,84,72,54]}initMixingTables(){for(let e=0;512>e;e++){const t=95.52/(8128/(e/16)+100);this.squareTable[e]=Math.floor(49205.5*t)}for(let e=0;3264>e;e++){const t=163.67/(24329/(e/16)+100);this.tndTable[e]=Math.floor(49205.5*t)}const e=this.squareTable[this.squareTable.length-1],t=this.tndTable[this.tndTable.length-1];this.dcValue=Math.floor((e+t)/2)}reset(){this.pulse1={enabled:!1,duty:0,lengthCounterHalt:!1,constantVolume:!1,volume:0,envelopePeriod:0,envelopeStart:!1,envelopeDivider:0,envelopeDecay:0,envelopeLoop:!1,sweepEnabled:!1,sweepPeriod:0,sweepNegate:!1,sweepShift:0,sweepDivider:0,sweepReload:!1,sweepMute:!1,timerPeriod:0,timerValue:0,lengthCounter:0,sequencePos:0},this.pulse2={enabled:!1,duty:0,lengthCounterHalt:!1,constantVolume:!1,volume:0,envelopePeriod:0,envelopeStart:!1,envelopeDivider:0,envelopeDecay:0,envelopeLoop:!1,sweepEnabled:!1,sweepPeriod:0,sweepNegate:!1,sweepShift:0,sweepDivider:0,sweepReload:!1,sweepMute:!1,timerPeriod:0,timerValue:0,lengthCounter:0,sequencePos:0},this.triangle={enabled:!1,lengthCounterHalt:!1,controlFlag:!1,linearCounter:0,linearCounterReload:0,linearCounterReloadFlag:!1,timerPeriod:0,timerValue:0,lengthCounter:0,sequencePos:0},this.noise={enabled:!1,lengthCounterHalt:!1,envelopeLoop:!1,constantVolume:!1,volume:0,envelopePeriod:0,envelopeStart:!1,envelopeDivider:0,envelopeDecay:0,mode:!1,timerPeriod:0,timerValue:0,lengthCounter:0,_n082:1},this.dmc={enabled:!1,irqEnabled:!1,loop:!1,timerPeriod:0,timerValue:0,outputValue:0,sampleAddress:0,sampleLength:0,currentAddress:0,currentLength:0,_n082:0,bitsRemaining:0,silence:!0,buffer:0,bufferEmpty:!0},this._n130=0,this._n131=0,this._n132=!1,this._n133=!1,this._n099=0,this.apuCycles=0,this.apuCycleCounter=0,this.sampleBuffer=[],this.accCount=0,this.smpSquare1=0,this.smpSquare2=0,this.smpTriangle=0,this.smpNoise=0,this.smpDmc=0,this.prevSample=0,this.smpAccum=0,console.log("APU已重置")}setMasterVolume(e){this.masterVolume=e,0===e?(this.userChannelEnabled.pulse1=!1,this.userChannelEnabled.pulse2=!1,this.userChannelEnabled.triangle=!1,this.userChannelEnabled.noise=!1,this.userChannelEnabled.dmc=!1):(this.userChannelEnabled.pulse1=!0,this.userChannelEnabled.pulse2=!0,this.userChannelEnabled.triangle=!0,this.userChannelEnabled.noise=!0,this.userChannelEnabled.dmc=!0)}_n072(){if(!this._n134){try{this._n134=new(window.AudioContext||window.webkitAudioContext)({sampleRate:this.sampleRate}),this.scriptNode=this._n134.createScriptProcessor(this.bufferSize,0,1),this.scriptNode.onaudioprocess=e=>this.onAudioProcess(e),this.scriptNode.connect(this._n134.destination),this.audioEnabled=!0}catch(e){console.warn("Web Audio API不支持:",e),this.audioEnabled=!1}this.initPianoAudio()}}onAudioProcess(e){const t=e.outputBuffer.getChannelData(0),s=t.length;for(;this.sampleBuffer.length<s&&this.audioEnabled;)for(let e=0;10>e;e++)this.step();for(let e=0;s>e;e++)this.sampleBuffer.length>0?t[e]=this.sampleBuffer.shift():t[e]=0}generateSample(){if(!this.audioEnabled)return;let e,t,s,i,n;if(this.accCount>0)e=this.smpSquare1/this.accCount*15,t=this.smpSquare2/this.accCount*15,s=this.smpTriangle/this.accCount*15,i=this.smpNoise/this.accCount*15,n=this.smpDmc/this.accCount*15;else{const r=void 0!==this.mixVolume.pulse1?this.mixVolume.pulse1:.7,o=void 0!==this.mixVolume.pulse2?this.mixVolume.pulse2:.7,_n119=void 0!==this.mixVolume.triangle?this.mixVolume.triangle:.7,c=void 0!==this.mixVolume.noise?this.mixVolume.noise:.7,h=void 0!==this.mixVolume.dmc?this.mixVolume.dmc:.7;e=15*this.getPulseOutput(this.pulse1,"pulse1")*r,t=15*this.getPulseOutput(this.pulse2,"pulse2")*o,s=15*this.getTriangleOutput()*_n119,i=15*this.getNoiseOutput()*c;const l=void 0!==this.mixVolume.dmc?this.mixVolume.dmc:.7;n=!this.userChannelEnabled.dmc||this.pianoMode.dmc&&0>=l?0:this.dmc.outputValue/127*15*h}this.smpSquare1=0,this.smpSquare2=0,this.smpTriangle=0,this.smpNoise=0,this.smpDmc=0,this.accCount=0;const r=Math.floor(16*(e+t)),o=this.squareTable[Math.min(r,this.squareTable.length-1)],_n119=Math.floor(16*(3*s+2*i+n));let c=o+this.tndTable[Math.min(_n119,this.tndTable.length-1)]-this.dcValue;const h=c-this.prevSample;this.prevSample+=h,this.smpAccum+=h-(this.smpAccum>>10),c=this.smpAccum;let l=c/32768;l=Math.max(-1,Math.min(1,l)),this.sampleBuffer.push(l),this.sampleBuffer.length>2*this.targetBufferSize&&(this.sampleBuffer=this.sampleBuffer.slice(-this.targetBufferSize))}needMoreSamples(){return this.sampleBuffer.length<this.targetBufferSize}getPulseOutput(e,t){if(!this.userChannelEnabled[t])return 0;const s=void 0!==this.mixVolume[t]?this.mixVolume[t]:.7;return this.pianoMode[t]&&0>=s||!e.enabled||0===e.lengthCounter||8>e.timerPeriod||e.sweepMute?0:[[0,1,0,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,1,1,0,0,0],[1,0,0,1,1,1,1,1]][e.duty][7&e.sequencePos]?(e.constantVolume?e.volume:e.envelopeDecay)/15:0}getTriangleOutput(){if(!this.userChannelEnabled.triangle)return 0;const e=void 0!==this.mixVolume.triangle?this.mixVolume.triangle:.7;return this.pianoMode.triangle&&0>=e?0:this.triangle.enabled&&0!==this.triangle.lengthCounter&&0!==this.triangle.linearCounter?[15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15][31&this.triangle.sequencePos]/15:0}getNoiseOutput(){if(!this.userChannelEnabled.noise)return 0;const e=void 0!==this.mixVolume.noise?this.mixVolume.noise:.7;return this.pianoMode.noise&&0>=e?0:this.noise.enabled&&0!==this.noise.lengthCounter?(1&this.noise._n082?0:1)*((this.noise.constantVolume?this.noise.volume:this.noise.envelopeDecay)/15)*.5:0}_n073(e){this.cpu=e}_n074(e){this.onIrq=e}writePulse1Control(e){if(this.pulse1.duty=e>>6&3,this.pulse1.lengthCounterHalt=!!(32&e),this.pulse1.envelopeLoop=!!(32&e),this.pulse1.constantVolume=!!(16&e),this.pulse1.volume=15&e,this.pulse1.envelopePeriod=15&e,this.pulse1.envelopeStart=!0,this.pianoMode.pulse1&&this.pulse1.enabled&&this.pulse1.lengthCounter>0){const e=this.timerPeriodToFrequency(this.pulse1.timerPeriod,"pulse1"),t=this.pulse1.constantVolume?this.pulse1.volume:this.pulse1.envelopeDecay;t>0&&this.playPianoNote("pulse1",e,t)}}writePulse1Sweep(e){this.pulse1.sweepEnabled=!!(128&e),this.pulse1.sweepPeriod=e>>4&7,this.pulse1.sweepNegate=!!(8&e),this.pulse1.sweepShift=7&e,this.pulse1.sweepReload=!0}writePulse1TimerLow(e){this.pulse1.timerPeriod=1792&this.pulse1.timerPeriod|e}writePulse1TimerHigh(e){if(this.pulse1.timerPeriod=255&this.pulse1.timerPeriod|(7&e)<<8,this.pulse1.timerValue=this.pulse1.timerPeriod,this.pulse1.lengthCounter=this.getLengthCounterValue(e>>3),this.pianoMode.pulse1&&this.pulse1.enabled&&this.pulse1.lengthCounter>0){const e=this.timerPeriodToFrequency(this.pulse1.timerPeriod,"pulse1"),t=this.pulse1.constantVolume?this.pulse1.volume:this.pulse1.envelopeDecay;t>0&&this.playPianoNote("pulse1",e,t)}}writePulse2Control(e){if(this.pulse2.duty=e>>6&3,this.pulse2.lengthCounterHalt=!!(32&e),this.pulse2.envelopeLoop=!!(32&e),this.pulse2.constantVolume=!!(16&e),this.pulse2.volume=15&e,this.pulse2.envelopePeriod=15&e,this.pulse2.envelopeStart=!0,this.pianoMode.pulse2&&this.pulse2.enabled&&this.pulse2.lengthCounter>0){const e=this.timerPeriodToFrequency(this.pulse2.timerPeriod,"pulse2"),t=this.pulse2.constantVolume?this.pulse2.volume:this.pulse2.envelopeDecay;t>0&&this.playPianoNote("pulse2",e,t)}}writePulse2Sweep(e){this.pulse2.sweepEnabled=!!(128&e),this.pulse2.sweepPeriod=e>>4&7,this.pulse2.sweepNegate=!!(8&e),this.pulse2.sweepShift=7&e,this.pulse2.sweepReload=!0}writePulse2TimerLow(e){this.pulse2.timerPeriod=1792&this.pulse2.timerPeriod|e}writePulse2TimerHigh(e){if(this.pulse2.timerPeriod=255&this.pulse2.timerPeriod|(7&e)<<8,this.pulse2.timerValue=this.pulse2.timerPeriod,this.pulse2.lengthCounter=this.getLengthCounterValue(e>>3),this.pianoMode.pulse2&&this.pulse2.enabled&&this.pulse2.lengthCounter>0){const e=this.timerPeriodToFrequency(this.pulse2.timerPeriod,"pulse2"),t=this.pulse2.constantVolume?this.pulse2.volume:this.pulse2.envelopeDecay;t>0&&this.playPianoNote("pulse2",e,t)}}writeTriangleControl(e){this.triangle.lengthCounterHalt=!!(128&e),this.triangle.controlFlag=!!(128&e),this.triangle.linearCounterReload=127&e}writeTriangleTimerLow(e){this.triangle.timerPeriod=1792&this.triangle.timerPeriod|e}writeTriangleTimerHigh(e){if(this.triangle.timerPeriod=255&this.triangle.timerPeriod|(7&e)<<8,this.triangle.timerValue=this.triangle.timerPeriod,this.triangle.lengthCounter=this.getLengthCounterValue(e>>3),this.triangle.linearCounterReloadFlag=!0,this.pianoMode.triangle&&this.triangle.enabled&&this.triangle.lengthCounter>0){const e=this.timerPeriodToFrequency(this.triangle.timerPeriod,"triangle");this.userChannelEnabled.triangle&&this.playPianoNote("triangle",e,10)}}writeNoiseControl(e){this.noise.lengthCounterHalt=!!(32&e),this.noise.envelopeLoop=!!(32&e),this.noise.constantVolume=!!(16&e),this.noise.volume=15&e,this.noise.envelopePeriod=15&e,this.noise.envelopeStart=!0}writeNoiseTimer(e){this.noise.mode=!!(128&e),this.noise.timerPeriod=this.noisePeriodTable[15&e]}writeNoiseLength(e){if(this.noise.lengthCounter=this.getLengthCounterValue(e>>3),this.pianoMode.noise&&this.noise.enabled&&this.noise.lengthCounter>0){const e=220+1e3/this.noise.timerPeriod;(this.noise.constantVolume?this.noise.volume:this.noise.envelopeDecay)>0&&this.userChannelEnabled.noise&&this.playPianoNoteWithNesEnvelope("noise",e,this.noise.envelopePeriod,this.noise.envelopeLoop,this.noise.constantVolume,this.noise.volume)}}writeDmcControl(e){this.dmc.irqEnabled=!!(128&e),this.dmc.loop=!!(64&e),this.dmc.timerPeriod=this.dmcPeriodTable[15&e]}writeDmcOutput(e){this.dmc.outputValue=127&e}writeDmcSampleAddress(e){this.dmc.sampleAddress=49152|e<<6}writeDmcSampleLength(e){if(this.dmc.sampleLength=e<<4|1,this.pianoMode.dmc&&this.dmc.enabled&&this.dmc.sampleLength>0){const e=110;this.dmc.outputValue>0&&this.userChannelEnabled.dmc&&this.playPianoNote("dmc",e,Math.min(this.dmc.outputValue/8,15))}}writeOamDma(e){if(this.cpu&&this.cpu.triggerSpriteDMA)return void this.cpu.triggerSpriteDMA(e);if(this.dmaController)return void this.dmaController.startOamDma(e);if(!this.cpu||!this.cpu.memory)return void console.warn("OAM DMA: CPU 或内存未连接");const t=this.cpu.memory,s=t.components?t.components._n128:null;void 0!==_c100&&_c100.performOamDma(e,t,s,this.cpu)}connectDmaController(e){this.dmaController=e}readStatus(){const e=this._n099;return this._n099&=127,this._n133=!1,e}writeStatus(e){const t=this.pulse1.enabled,s=this.pulse2.enabled,i=this.triangle.enabled,n=this.noise.enabled,r=this.dmc.enabled;this.pulse1.enabled=!!(1&e),this.pulse2.enabled=!!(2&e),this.triangle.enabled=!!(4&e),this.noise.enabled=!!(8&e),this.dmc.enabled=!!(16&e),this.pulse1.enabled||(this.pulse1.lengthCounter=0,this.pianoMode.pulse1&&t&&this.stopPianoNote("pulse1")),this.pulse2.enabled||(this.pulse2.lengthCounter=0,this.pianoMode.pulse2&&s&&this.stopPianoNote("pulse2")),this.triangle.enabled||(this.triangle.lengthCounter=0,this.pianoMode.triangle&&i&&this.stopPianoNote("triangle")),this.noise.enabled||(this.noise.lengthCounter=0,this.pianoMode.noise&&n&&this.stopPianoNote("noise")),this.dmc.enabled?0===this.dmc.currentLength&&(this.dmc.currentAddress=this.dmc.sampleAddress,this.dmc.currentLength=this.dmc.sampleLength):(this.dmc.currentLength=0,this.pianoMode.dmc&&r&&this.stopPianoNote("dmc"))}writeFrameCounter(e){this._n131=128&e?1:0,this._n132=!(64&e),this._n133=!1,1===this._n131&&(this.clockEnvelopes(),this.clockLengthCounters(),this.clockSweeps())}_n015(e){return 21==(31&e)?this.readStatus():0}peekRegister(e){return 21==(31&e)?this._n099:0}_n016(e,t){switch(31&e){case 0:this.writePulse1Control(t);break;case 1:this.writePulse1Sweep(t);break;case 2:this.writePulse1TimerLow(t);break;case 3:this.writePulse1TimerHigh(t);break;case 4:this.writePulse2Control(t);break;case 5:this.writePulse2Sweep(t);break;case 6:this.writePulse2TimerLow(t);break;case 7:this.writePulse2TimerHigh(t);break;case 8:this.writeTriangleControl(t);break;case 10:this.writeTriangleTimerLow(t);break;case 11:this.writeTriangleTimerHigh(t);break;case 12:this.writeNoiseControl(t);break;case 14:this.writeNoiseTimer(t);break;case 15:this.writeNoiseLength(t);break;case 16:this.writeDmcControl(t);break;case 17:this.writeDmcOutput(t);break;case 18:this.writeDmcSampleAddress(t);break;case 19:this.writeDmcSampleLength(t);break;case 20:this.writeOamDma(t);break;case 21:this.writeStatus(t);break;case 23:this.writeFrameCounter(t)}}getLengthCounterValue(e){return[10,254,20,2,40,4,80,6,160,8,60,10,14,12,26,14,12,16,24,18,48,20,96,22,192,24,72,26,16,28,32,30][31&e]}clockEnvelope(e,t){if(e===this.pulse1||e===this.pulse2){const s=t?"pulse1":"pulse2";if(!this.squareFeatures[s].envelope)return void(e.envelopeDecay=15)}e.envelopeStart?(e.envelopeStart=!1,e.envelopeDecay=15,e.envelopeDivider=e.envelopePeriod):e.envelopeDivider>0?e.envelopeDivider--:(e.envelopeDivider=e.envelopePeriod,e.envelopeDecay>0?e.envelopeDecay--:e.envelopeLoop&&(e.envelopeDecay=15))}clockEnvelopes(){if(this.clockEnvelope(this.pulse1,!0),this.clockEnvelope(this.pulse2,!1),this.clockEnvelope(this.noise,!1),this.pianoMode.noise&&this.noise.enabled&&this.noise.lengthCounter>0){const e=this.noise.constantVolume?this.noise.volume:this.noise.envelopeDecay;this.updateInstrumentVolume("noise",e)}}clockLengthCounters(){this.squareFeatures.pulse1.lengthCounter&&this.pulse1.lengthCounter>0&&!this.pulse1.lengthCounterHalt&&(this.pulse1.lengthCounter--,this.pianoMode.pulse1&&0===this.pulse1.lengthCounter&&this.stopPianoNote("pulse1")),this.squareFeatures.pulse2.lengthCounter&&this.pulse2.lengthCounter>0&&!this.pulse2.lengthCounterHalt&&(this.pulse2.lengthCounter--,this.pianoMode.pulse2&&0===this.pulse2.lengthCounter&&this.stopPianoNote("pulse2")),this.triangle.lengthCounter>0&&!this.triangle.lengthCounterHalt&&(this.triangle.lengthCounter--,this.pianoMode.triangle&&0===this.triangle.lengthCounter&&this.stopPianoNote("triangle")),this.noise.lengthCounter>0&&!this.noise.lengthCounterHalt&&(this.noise.lengthCounter--,this.pianoMode.noise&&0===this.noise.lengthCounter&&this.stopPianoNote("noise"))}clockTriangleLinearCounter(){this.triangle.linearCounterReloadFlag?this.triangle.linearCounter=this.triangle.linearCounterReload:this.triangle.linearCounter>0&&this.triangle.linearCounter--,this.triangle.controlFlag||(this.triangle.linearCounterReloadFlag=!1)}clockSweep(e,t){if(!(t?this.sweepEnabled.pulse1:this.sweepEnabled.pulse2))return void(e.sweepMute=8>e.timerPeriod);let s,i=e.timerPeriod>>e.sweepShift;e.sweepNegate?(s=e.timerPeriod-i,t&&s--):s=e.timerPeriod+i,e.sweepMute=8>e.timerPeriod||s>2047,e.sweepDivider>0?e.sweepDivider--:(e.sweepDivider=e.sweepPeriod,e.sweepEnabled&&e.sweepShift>0&&!e.sweepMute&&e.timerPeriod>=8&&(e.timerPeriod=s)),e.sweepReload&&(e.sweepDivider=e.sweepPeriod,e.sweepReload=!1)}clockSweeps(){this.clockSweep(this.pulse1,!0),this.clockSweep(this.pulse2,!1)}setSweepEnabled(e,t){"pulse1"!==e&&"pulse2"!==e||(this.sweepEnabled[e]=t)}getSweepEnabled(e){return("pulse1"===e||"pulse2"===e)&&this.sweepEnabled[e]}setSquareFeature(e,t,s){"pulse1"!==e&&"pulse2"!==e||["envelope","lengthCounter","dutyCycle"].includes(t)&&(this.squareFeatures[e][t]=s)}getSquareFeature(e,t){return("pulse1"===e||"pulse2"===e)&&!!["envelope","lengthCounter","dutyCycle"].includes(t)&&this.squareFeatures[e][t]}checkAndStopInstrumentSounds(){this.apuCycles%10==0&&(this.pianoMode.pulse1&&this.pianoOscillators.pulse1&&!this.pianoOscillators.pulse1.isReleasing&&(!this.pulse1.enabled||0===this.pulse1.lengthCounter||8>this.pulse1.timerPeriod||this.pulse1.sweepMute||!this.pulse1.constantVolume&&!this.pulse1.envelopeLoop&&0===this.pulse1.envelopeDecay)&&(this.pianoOscillators.pulse1.isReleasing=!0,this.stopPianoNote("pulse1")),this.pianoMode.pulse2&&this.pianoOscillators.pulse2&&!this.pianoOscillators.pulse2.isReleasing&&(!this.pulse2.enabled||0===this.pulse2.lengthCounter||8>this.pulse2.timerPeriod||this.pulse2.sweepMute||!this.pulse2.constantVolume&&!this.pulse2.envelopeLoop&&0===this.pulse2.envelopeDecay)&&(this.pianoOscillators.pulse2.isReleasing=!0,this.stopPianoNote("pulse2")),this.pianoMode.triangle&&this.pianoOscillators.triangle&&!this.pianoOscillators.triangle.isReleasing&&(!this.triangle.enabled||0===this.triangle.lengthCounter||0===this.triangle.linearCounter)&&(this.pianoOscillators.triangle.isReleasing=!0,this.stopPianoNote("triangle")),this.pianoMode.noise&&this.pianoOscillators.noise&&!this.pianoOscillators.noise.isReleasing&&(!this.noise.enabled||0===this.noise.lengthCounter||!this.noise.constantVolume&&!this.noise.envelopeLoop&&0===this.noise.envelopeDecay)&&(this.pianoOscillators.noise.isReleasing=!0,this.stopPianoNote("noise")),this.pianoMode.dmc&&this.pianoOscillators.dmc&&!this.pianoOscillators.dmc.isReleasing&&(!this.dmc.enabled||0===this.dmc.currentLength||this.dmc.silence)&&(this.pianoOscillators.dmc.isReleasing=!0,this.stopPianoNote("dmc")))}step(){if(this.apuCycles++,this.clockPulseTimer(this.pulse1),this.clockPulseTimer(this.pulse2),this.clockTriangleTimer(),this.clockNoiseTimer(),this.clockDmcTimer(),this.checkAndStopInstrumentSounds(),this._n130++,0===this._n131)switch(this._n130){case 3729:case 11186:this.clockEnvelopes(),this.clockTriangleLinearCounter();break;case 7457:this.clockEnvelopes(),this.clockTriangleLinearCounter(),this.clockLengthCounters(),this.clockSweeps();break;case 14915:this.clockEnvelopes(),this.clockTriangleLinearCounter(),this.clockLengthCounters(),this.clockSweeps(),this._n132&&(this._n133=!0,this.onIrq&&this.onIrq()),this._n130=0}else switch(this._n130){case 3729:case 11186:this.clockEnvelopes(),this.clockTriangleLinearCounter();break;case 7457:this.clockEnvelopes(),this.clockTriangleLinearCounter(),this.clockLengthCounters(),this.clockSweeps();break;case 18641:this._n130=0}this.accumulateSample(),this.apuCycleCounter++,this.apuCycleCounter<this.apuCyclesPerSample||(this.apuCycleCounter=0,this.generateSample())}accumulateSample(){const e=this.getPulseOutput(this.pulse1,"pulse1"),t=this.getPulseOutput(this.pulse2,"pulse2"),s=this.getTriangleOutput(),i=this.getNoiseOutput(),n=this.userChannelEnabled.dmc?this.dmc.outputValue/127:0;this.smpSquare1+=e,this.smpSquare2+=t,this.smpTriangle+=s,this.smpNoise+=i,this.smpDmc+=n,this.accCount++}clockPulseTimer(e){e.timerValue>0?e.timerValue--:(e.timerValue=e.timerPeriod,e.sequencePos=e.sequencePos+1&7)}clockTriangleTimer(){this.triangle.timerValue>0?this.triangle.timerValue--:(this.triangle.timerValue=this.triangle.timerPeriod,this.triangle.lengthCounter>0&&this.triangle.linearCounter>0&&(this.triangle.sequencePos=this.triangle.sequencePos+1&31))}clockNoiseTimer(){this.noise.timerValue>0?this.noise.timerValue--:(this.noise.timerValue=this.noise.timerPeriod,this.clockNoiseShiftRegister())}clockNoiseShiftRegister(){const e=1&this.noise._n082^this.noise._n082>>(this.noise.mode?6:1)&1;this.noise._n082=e<<14|this.noise._n082>>1}clockDmcTimer(){this.dmc.timerValue>0?this.dmc.timerValue--:(this.dmc.timerValue=this.dmc.timerPeriod,this.clockDmc())}clockDmc(){this.dmc.enabled&&(this.dmc.silence||(1&this.dmc._n082&&126>this.dmc.outputValue?this.dmc.outputValue+=2:1&this.dmc._n082||1>=this.dmc.outputValue||(this.dmc.outputValue-=2)),this.dmc._n082>>=1,this.dmc.bitsRemaining--,0===this.dmc.bitsRemaining&&(this.dmc.bitsRemaining=8,this.dmc.bufferEmpty?this.dmc.silence=!0:(this.dmc.silence=!1,this.dmc._n082=this.dmc.buffer,this.dmc.bufferEmpty=!0)),this.dmc.bufferEmpty&&this.dmc.currentLength>0&&this.dmcReadSample())}dmcReadSample(){this.cpu&&(this.cpu.triggerDmcDMA?(this.cpu.triggerDmcDMA(this.dmc.currentAddress),this.cpu._n127):this.cpu.memory&&(this.dmc.buffer=this.cpu.memory._n060(this.dmc.currentAddress),this.dmc.bufferEmpty=!1),this.dmc.currentAddress=this.dmc.currentAddress+1|32768,this.dmc.currentLength--,0===this.dmc.currentLength&&(this.dmc.loop?(this.dmc.currentAddress=this.dmc.sampleAddress,this.dmc.currentLength=this.dmc.sampleLength):this.dmc.irqEnabled&&(this._n099|=128,this.onIrq&&this.onIrq())))}getStatus(){return{_n130:this._n130,_n131:this._n131,_n132:this._n132,_n133:this._n133,_n099:this._n099}}}class S{constructor(){this._n093=new Uint8Array(16384),this._n094=new Uint8Array(256),this._n095=new Uint8Array(32),this._n078=null,this._n165=0,this._n097=0,this._n098=0,this._n099=0,this._n102=0,this.v=0,this.t=0,this._n120=0,this._n103=!1,this._n110=0,this._n109=0,this._n111=0,this.oddFrame=!1,this._n105=!1,this._n104=!1,this._n169=0,this._n107=!1,this._n108=!1,this._n153=new Uint32Array(61440),this.displayFrameBuffer=new Uint32Array(61440),this._n112=new Uint32Array(61440),this.frameReady=!1,this._n154=0,this._n155=0,this._n156=0,this._n157=0,this.attrLatchLo=0,this.attrLatchHi=0,this.ntByte=0,this.attrByte=0,this.ptByteLo=0,this.ptByteHi=0,this.scanlineTileData=null,this._n101=0,this.spriteCount=0,this._n158=new Uint32Array(8),this._n159=new Uint8Array(8),this._n160=new Uint8Array(8),this._n163=new Uint8Array(8),this.frameStartV=0,this.frameStartX=0,this.frameStartCtrl=0,this.frameScrollSaved=!1,this.scanlineVRegs=new Uint16Array(240),this.scanlineFineX=new Uint8Array(240),this._n106=0,this.useScanlineRendering=!0,this._n168=null,this.onFrame=null,this._n113=!1,this._n115=241,this._n114=null,this.savedV=0,this.savedX=0,this.savedCtrl=0,this.savedScanline=241,this._n126=null,this.lastA12State=0,this._n171=0,this._n172=0,this.a12RisingEdgeTriggeredThisScanline=!1,this.a12FallingEdgeTriggeredThisScanline=!1}reset(){this._n097=0,this._n098=0,this._n099=0,this._n102=0,this.v=0,this.t=0,this._n120=0,this._n103=!1,this._n110=261,this._n109=340,this._n111=0,this.oddFrame=!1,this._n105=!1,this._n104=!1,this._n169=0,this._n107=!1,this._n108=!1,this._n153.fill(0),this.frameReady=!1,this.frameScrollSaved=!1,this.scanlineVRegs.fill(0),this.scanlineFineX.fill(0),this.lastA12State=0,this._n171=0,this._n172=0,this.a12RisingEdgeTriggeredThisScanline=!1,this.a12FallingEdgeTriggeredThisScanline=!1}_n070(e,t){this._n078=e,this._n165=t}_n071(e){this._n106=e}getMirroringModeName(){return["水平镜像","垂直镜像","单屏镜像","四屏模式"][this._n106]||"未知"}connectMMU(e){this._n126=e}clearChrCache(){this.scanlineTileData=null}step(e=!0){241===this._n110&&0===this._n109&&this.handleVBlankStart(),261===this._n110&&this.handlePreRenderScanline(),this._n110>=0&&240>this._n110&&this.handleVisibleScanline(),this._n013(),this.updateSpriteZeroHitStatus(),this.checkA12AtCycleEnd(),e&&(340>this._n109?this._n109++:(this._n109=0,this._n110++,262===this._n110&&this.oddFrame&&this.isRenderingEnabled()?(this._n110=0,this._n111++,this.oddFrame=!this.oddFrame,this.frameScrollSaved=!1,this.scanlineTileData=null):262>this._n110||(this._n110=0,this._n111++,this.oddFrame=!this.oddFrame,this.frameScrollSaved=!1,this.scanlineTileData=null)))}handleVBlankStart(){this.savedV=this.v,this.savedX=this._n120,this.savedCtrl=this._n097,this._n011(),this._n042(),this._n112.set(this._n153),this.frameReady=!0,this.displayFrameBuffer.set(this._n153),this.onFrame&&this.onFrame(this._n153)}handleVisibleScanline(){const e=this._n110;if(1===this._n109&&(0!==e||this.frameScrollSaved||(this.frameStartV=this.v,this.frameStartX=this._n120,this.frameStartCtrl=this._n097,this.frameScrollSaved=!0),this.scanlineVRegs[e]=this.v,this.scanlineFineX[e]=this._n120,this._n126&&this._n126._n129&&this._n126._n129.processScanlineEvent&&this._n126._n129.processScanlineEvent(e),this.a12RisingEdgeTriggeredThisScanline=!1,this.a12FallingEdgeTriggeredThisScanline=!1),(1>this._n109||this._n109>256)&&(321>this._n109||this._n109>336)||this.fetchBackgroundData(),1>this._n109||this._n109>256||this.loadBackgroundShifters(),this._n109>=1&&256>=this._n109){const t=this._n109-1;this.isSpritesEnabled()&&this.renderSpritePixel(t,e)}if(256===this._n109&&(this.incrementY(),this.isBackgroundEnabled()&&this.renderBackgroundScanlineRealtime(e)),257===this._n109){this.copyX();const e=261===this._n110?0:this._n110+1;this._n046(e),this._detectA12RisingEdgeForMMC3()}257>this._n109||this._n109>320||this.fetchSpritePatternForMMC3(),321===this._n109&&this._detectA12FallingEdgeForMMC3()}fetchSpritePatternForMMC3(){if(!this.isSpritesEnabled())return;if(0!=(this._n109-257)%8)return;const e=Math.floor((this._n109-257)/8);if(e>=this.spriteCount)return;const t=this._n163[e],s=this._n094[4*t+1];let i,n;32&this._n097?(i=1&s?4096:0,n=254&s):(i=8&this._n097?4096:0,n=s);const r=i+16*n+0;8192>r&&this.readPatternTableWithA12Detect(r),this.recordA12State(i)}handlePreRenderScanline(){this._n109,1===this._n109&&(this._n099&=31,this._n105=!1,this._n107=!1,this._n108=!1,this.useScanlineRendering&&this._n153.fill(0)),(1>this._n109||this._n109>256)&&(321>this._n109||this._n109>336)||(this.fetchBackgroundData(),1>this._n109||this._n109>256||this.loadBackgroundShifters()),280>this._n109||this._n109>304||this.copyY(),257===this._n109&&this._n046(0)}_n042(){this.isBackgroundEnabled()||this._n153.fill(0),this.isSpritesEnabled()&&this.renderAllSprites()}checkPerScanlineScroll(){if(void 0===this.scanlineVRegs[0])return!1;const e=this.scanlineVRegs[0],t=this.scanlineFineX[0];for(let s=1;240>s;s++)if(this.scanlineVRegs[s]!==e||this.scanlineFineX[s]!==t)return!0;return!1}_n043(e,t,s){this.scanlineTileData=null;const i=t>>5&31,n=t>>10&3,r=t>>12&7,o=((31&t)<<3)+s-16;for(let t=0;256>t;t++){const s=o+t;let _n119=n,c=s;0>s?(c=s+256,_n119^=1):256>s||(c=s-256,_n119^=1);const h=c>>3&31,l=7&c,u=8192+(_n119<<10)+(i<<5)+h,d=this._n093[16383&u],_n122=(16&this._n097?4096:0)+(d<<4)+r,m=7-l,g=this.readPatternTable(_n122)>>m&1|(this.readPatternTable(_n122+8)>>m&1)<<1,f=9152+(_n119<<10)+(i>>2<<3)+(h>>2),_c106=this._n093[16383&f]>>((2&i)<<1|2&h)&3,_n121=this.getColor(_c106,g);this._n153[256*e+t]=_n121}}renderBackgroundScanlineRealtime(e){let t=this.scanlineVRegs[e],s=this.scanlineFineX[e];if(0===t&&0===s){for(let i=e-1;i>=0;i--)if(0!==this.scanlineVRegs[i]||0!==this.scanlineFineX[i]){t=this.scanlineVRegs[i],s=this.scanlineFineX[i];break}0===t&&0===s&&(t=this.frameStartV,s=this.frameStartX)}const i=t>>5&31,n=t>>10&3,r=t>>12&7,o=((31&t)<<3)+s-16;this.bgPixelCache||(this.bgPixelCache=new Uint8Array(61440));for(let t=0;256>t;t++){const s=o+t;let _n119=n,c=s;0>s?(c=s+256,_n119^=1):256>s||(c=s-256,_n119^=1);const h=c>>3&31,l=7&c,u=8192+(_n119<<10)+(i<<5)+h,d=this._n093[16383&u],_n122=(16&this._n097?4096:0)+(d<<4)+r,m=7-l,g=this.readPatternTable(_n122)>>m&1|(this.readPatternTable(_n122+8)>>m&1)<<1;this.bgPixelCache[256*e+t]=g;const f=9152+(_n119<<10)+(i>>2<<3)+(h>>2),_c106=this._n093[16383&f]>>((2&i)<<1|2&h)&3,_n121=this.getColor(_c106,g);this._n153[256*e+t]=_n121}}renderBackgroundPixel(e,t){let s=this.scanlineVRegs[t],i=this.scanlineFineX[t];if(0===s&&0===i){for(let e=t-1;e>=0;e--)if(0!==this.scanlineVRegs[e]||0!==this.scanlineFineX[e]){s=this.scanlineVRegs[e],i=this.scanlineFineX[e];break}0===s&&0===i&&(s=this.frameStartV,i=this.frameStartX)}const n=s>>5&31,r=s>>12&7,o=((31&s)<<3)+i+e-16;let _n119=s>>10&3,c=o;0>o?(c=o+256,_n119^=1):256>o||(c=o-256,_n119^=1);const h=c>>3&31,l=7&c,u=8192+(_n119<<10)+(n<<5)+h,d=this._n093[16383&u],_n122=(16&this._n097?4096:0)+(d<<4)+r,m=d<<3|r;let g,f;this.scanlineTileData||(this.scanlineTileData=new Uint8Array(4096)),void 0!==this.scanlineTileData[2*m]?(g=this.scanlineTileData[2*m],f=this.scanlineTileData[2*m+1]):(g=this.readPatternTable(_n122),f=this.readPatternTable(_n122+8),this.scanlineTileData[2*m]=g,this.scanlineTileData[2*m+1]=f);const _c106=7-l,_n121=g>>_c106&1|(f>>_c106&1)<<1,_c100=9152+(_n119<<10)+(n>>2<<3)+(h>>2),b=this._n093[16383&_c100]>>((2&n)<<1|2&h)&3,S=this.getColor(b,_n121);this._n153[256*t+e]=S}renderSpritePixel(e,t){const s=this.getSpritePixel(e,t);if(0===s.pixel)return;const{pixel:i,palette:n,priority:r,zero:o}=s;o&&255>e&&!this._n107&&this.isBackgroundEnabled()&&0!==this._n045(e,t)&&(this._n107=!0);const _n119=this._n045(e,t);if(0===r||0===_n119){const s=this.getColor(n,i);this._n153[256*t+e]=s}}renderAllSprites(){for(let e=63;e>=0;e--)this._n044(e)}_n044(e){const t=this._n094[4*e+0],s=this._n094[4*e+1],i=this._n094[4*e+2],n=this._n094[4*e+3];if(0===t||t>=239)return;const r=!!(32&this._n097),o=r?16:8,_n119=t+1,c=4+(3&i),h=i>>5&1,l=i>>6&1,u=i>>7&1,d=0===e;let _n122,m;r?(_n122=1&s?4096:0,m=254&s):(_n122=8&this._n097?4096:0,m=s);for(let e=0;o>e;e++){const t=_n119+e;if(0>t||t>=240)continue;let s,i=e;u&&(i=o-1-e),s=r&&i>=8?_n122+16*(m+1)+(i-8):_n122+16*m+i;const g=this.readPatternTable(s),f=this.readPatternTable(s+8);for(let e=0;8>e;e++){const s=n+e;if(0>s||s>=256)continue;let i=e;l&&(i=7-e);const r=7-i,o=g>>r&1|(f>>r&1)<<1;if(0!==o){d&&255>s&&!this._n107&&this.isBackgroundEnabled()&&0!==this._n045(s,t)&&(this._n107=!0);const e=this._n045(s,t);if(0===h||0===e){const e=this.getColor(c,o);this._n153[256*t+s]=e}}}}}getSpritePixel(e,t){const s=!!(32&this._n097),i=s?16:8;for(let n=0;n<this.spriteCount;n++){const r=this._n159[n];if(e>=r&&r+8>e){const o=this._n163[n],_n119=this._n094[4*o+0],c=this._n094[4*o+1],h=this._n094[4*o+2],l=h>>5&1,u=4+(3&h),d=h>>6&1,_n122=h>>7&1,m=0===o,g=_n119+1;let f=t-g;if(0>g)continue;_n122&&(f=i-1-f);let _c106,_n121,_c100,b=e-r;d&&(b=7-b),s?(_c106=1&c?4096:0,_n121=254&c):(_c106=8&this._n097?4096:0,_n121=c),_c100=s&&f>=8?_c106+16*(_n121+1)+(f-8):_c106+16*_n121+f;const S=7-b,_c105=this.readPatternTable(_c100)>>S&1|(this.readPatternTable(_c100+8)>>S&1)<<1;if(0!==_c105)return{pixel:_c105,palette:u,priority:l,zero:m}}}return{pixel:0,palette:0,priority:0,zero:!1}}_n045(e,t){if(this.bgPixelCache)return this.bgPixelCache[256*t+e];let s=this.scanlineVRegs[t],i=this.scanlineFineX[t];if(0===s&&0===i){for(let e=t-1;e>=0;e--)if(0!==this.scanlineVRegs[e]||0!==this.scanlineFineX[e]){s=this.scanlineVRegs[e],i=this.scanlineFineX[e];break}0===s&&0===i&&(s=this.frameStartV,i=this.frameStartX)}const n=s>>12&7,r=((31&s)<<3)+i+e-16;let o=s>>10&3,_n119=r;0>r?(_n119=r+256,o^=1):256>r||(_n119=r-256,o^=1);const c=7&_n119,h=8192+(o<<10)+((s>>5&31)<<5)+(_n119>>3&31),l=this._n093[16383&h],u=(16&this._n097?4096:0)+(l<<4)+n,d=7-c;return this.readPatternTable(u)>>d&1|(this.readPatternTable(u+8)>>d&1)<<1}fetchBackgroundData(){if(!this.isRenderingEnabled())return;switch((this._n109-1)%8){case 0:this.loadBackgroundShifters(),this.ntByte=this.readNameTableByte();break;case 2:this.attrByte=this.readAttributeByte();break;case 4:this.ptByteLo=this.readPatternByte(!1);break;case 6:this.ptByteHi=this.readPatternByte(!0);break;case 7:this.incrementCoarseX()}const e=16&this._n097?4096:0;this.recordA12State(e)}loadBackgroundShifters(){this._n154=this._n154<<1|this.ptByteLo>>7&1,this._n155=this._n155<<1|this.ptByteHi>>7&1,this._n156=this._n156<<1|1&this.attrByte,this._n157=this._n157<<1|this.attrByte>>1&1}readNameTableByte(){const e=8192|4095&this.v;return this._n093[16383&this._n021(e)]}readAttributeByte(){const e=9152|3072&this.v|this.v>>4&56|this.v>>2&7;return this._n093[16383&this._n021(e)]}readPatternByte(e){const t=this.v>>12&7,s=(16&this._n097?4096:0)+(this.ntByte<<4)+t+(e?8:0);return this.readPatternTable(s)}readPatternTable(e){return e&=8191,this._readVRAMInternal(e)}readPatternTableWithA12Detect(e){return e&=8191,this._readVRAMInternal(e)}_readVRAMInternal(e){if(this._n126&&this._n126._n129){if(this._n126._n129.readPPU){const t=this._n126._n129.readPPU(e);if(void 0!==t)return t}if(this._n126._n129._n003){const t=this._n126._n129._n003(e);if(void 0!==t)return t}}return this._n093[e]}debugReadVRAM(e){return e&=8191,this._readVRAMInternal(e)}setPPUAddress(e){const t=e>>12&1;this._n170||(this._n170=[]),this._n170.length>100&&this._n170.shift();const s=0===this.lastA12State&&1===t;s?(this._n171=(this._n171||0)+1,this._n170.push({_n110:this._n110,_n109:this._n109,addr:e,type:"RISING"})):1===this.lastA12State&&0===t&&this._n170.push({_n110:this._n110,_n109:this._n109,addr:e,type:"FALLING"}),this.lastA12State=t,this.ppuBusAddress=e,this._n126&&this._n126._n129&&this._n126._n129.notifyVRAMAddressChange&&(s&&this.a12RisingEdgeTriggeredThisScanline||(s&&(this.a12RisingEdgeTriggeredThisScanline=!0),this._n126._n129.notifyVRAMAddressChange(e)))}_detectA12Edge(e,t){if(!this.isRenderingEnabled())return;if(!this._n126||!this._n126._n129||!this._n126._n129.notifyVRAMAddressChange)return;const s=e>>12&1,i=0===this.lastA12State&&1===s,n=1===this.lastA12State&&0===s;"rising"===t&&i?this.a12RisingEdgeTriggeredThisScanline||(this.a12RisingEdgeTriggeredThisScanline=!0,this._n171++,this._n126._n129.notifyVRAMAddressChange(e)):"falling"===t&&n&&(this.a12FallingEdgeTriggeredThisScanline||(this.a12FallingEdgeTriggeredThisScanline=!0,this._n126._n129.notifyVRAMAddressChange(e))),this.lastA12State=s}_detectA12RisingEdgeForMMC3(){const e=8&this._n097?4096:0;this._detectA12Edge(e,"rising")}_detectA12FallingEdgeForMMC3(){const e=16&this._n097?4096:0;this._detectA12Edge(e,"falling")}recordA12State(e){const t=e>>12&1;this.cycleA12States||(this.cycleA12States=new Set),this.cycleA12States.add(t)}checkA12AtCycleEnd(){const e=this.cycleA12States&&this.cycleA12States.has(1)?1:0;this._n170||(this._n170=[]),this._n170.length>100&&this._n170.shift(),0===this.lastA12State&&1===e?(this._n171++,this._n170.push({_n110:this._n110,_n109:this._n109,addr:4096,type:"RISING"}),this._n126&&this._n126._n129&&this._n126._n129.notifyVRAMAddressChange&&(this.a12RisingEdgeTriggeredThisScanline||(this._n172++,this.a12RisingEdgeTriggeredThisScanline=!0,this._n126._n129.notifyVRAMAddressChange(4096)))):1===this.lastA12State&&0===e&&this._n170.push({_n110:this._n110,_n109:this._n109,addr:0,type:"FALLING"}),this.lastA12State=e,this.cycleA12States=new Set}incrementCoarseX(){this.isRenderingEnabled()&&(31&~this.v?this.v++:(this.v&=-32,this.v^=1024))}incrementY(){if(this.isRenderingEnabled())if(28672&~this.v)this.v+=4096;else{this.v&=-28673;let e=(992&this.v)>>5;29===e?(e=0,this.v^=2048):31===e?e=0:e++,this.v=-993&this.v|e<<5}}copyX(){this.isRenderingEnabled()&&(this.v=64480&this.v|1055&this.t)}copyY(){this.isRenderingEnabled()&&(this.v=1055&this.v|31712&this.t)}_n046(e){this.spriteCount=0;let t=!1;const s=32&this._n097?16:8;for(let i=0;64>i;i++){const n=this._n094[4*i+0]+1;e>=n&&n+s>e&&(8>this.spriteCount?(this._n159[this.spriteCount]=this._n094[4*i+3],this._n163[this.spriteCount]=i,this.spriteCount++):t||(t=!0))}t&&(this._n108=!0)}isBackgroundEnabled(){return!!(8&this._n098)}isSpritesEnabled(){return!!(16&this._n098)}isRenderingEnabled(){return this.isBackgroundEnabled()||this.isSpritesEnabled()}getColor(e,t){let s=e<<2|t;0===t&&(s=0);const i=this._n095[31&s];return this.nesColorToRgb(i)}nesColorToRgb(e){return"undefined"!=typeof PPU_CONSTANTS&&PPU_CONSTANTS.NES_PALETTE?4278190080|PPU_CONSTANTS.NES_PALETTE[63&e]:4278190080|[6710886,10888,1315495,3866788,6029438,7209024,7079424,5643520,3355904,739328,20992,20232,16461,0,0,0,11382189,1400793,4342015,7677950,10492620,12000891,11874592,10046976,7040256,3704576,824064,36658,31885,0,0,0,16776959,6598911,9605375,13006591,15952639,16674508,16679280,15375906,12369408,8968192,6087728,4579458,4771294,5197647,0,0,16776959,12640255,13882111,15255807,16499455,16696554,16698565,16242853,15000980,13627286,12448939,11793356,11922418,12105912,0,0][63&e]}_n011(){this._n099|=128,this._n105=!0}_n012(){this._n099&=127,this._n105=!1}_n013(){this._n169>0?this._n169--:this._n105&&this._n104&&(this._n168&&this._n168(),this._n105=!1)}updateSpriteZeroHitStatus(){this._n107&&(this._n099|=64)}_n015(e){switch(e){case 1:return this._n098;case 2:return this.readStatus();case 4:return this._n024();case 7:return this.readPpuData();default:return 0}}peekRegister(e){switch(e){case 2:return this._n099;case 4:return this._n094[this._n102];case 7:const e=16383&this.v;return 16128>e?this._n017(e):this._n019(e);default:return 0}}_n016(e,t){switch(e){case 0:this.writeCtrl(t);break;case 1:this.writeMask(t);break;case 3:this.writeOamAddr(t);break;case 4:this._n023(t);break;case 5:this.writeScroll(t);break;case 6:this.writeAddr(t);break;case 7:this.writePpuData(t)}}writeCtrl(e){const t=this._n104;this._n097=e,this._n104=!!(128&e),this._n104&&!t&&this._n105&&(this._n169=2),this.t=62463&this.t|(3&e)<<10}writeMask(e){this._n098=e}readStatus(){const e=this._n099;return this._n099&=127,this._n105=!1,this._n103=!1,this._n104&&128&e&&(this._n169=2),e}writeOamAddr(e){this._n102=e}_n024(){return this._n094[this._n102]}_n023(e){this._n094[this._n102]=e,this._n102=this._n102+1&255}writeScroll(e){this._n103?(this.t=35871&this.t|(7&e)<<12|(248&e)<<2,this._n103=!1):(this.t=65504&this.t|e>>3&31,this._n120=7&e,this._n103=!0)}writeAddr(e){this._n103?(this.t=65280&this.t|e,this.v=this.t,this._n103=!1):(this.t=255&this.t|(63&e)<<8,this._n103=!0)}setMidFrameScroll(e,t=null){this._n120=7&e,this.t=65504&this.t|e>>3&31,null!==t&&(this.t=35871&this.t|(7&t)<<12|(248&t)<<2)}readPpuData(){let e=0;const t=16383&this.v;return 16128>t?(e=this._n101,this._n101=this._n017(t)):(e=this._n019(t),this._n101=this._n019(t)),this._n022(),e}writePpuData(e){const t=16383&this.v;16128>t?this._n018(t,e):this._n020(t,e),this._n022()}_n022(){this.v+=4&this._n097?32:1,this.v=32767&this.v}_n017(e){if(8192>e)return this.readPatternTable(e);if(16128>e){const t=this._n021(e);return this._n093[t]}return this._n019(e)}debugReadVram(e){if(8192>e)return this.debugReadVRAM(e);if(16128>e){const t=this._n021(e);return this._n093[t]}return this._n019(e)}_n018(e,t){if(8192>e){let s=!1;this._n126&&this._n126._n129&&(this._n126._n129.writePPU?(this._n126._n129.writePPU(e,t),s=!0):this._n126._n129._n004&&(this._n126._n129._n004(e,t),s=!0)),this._n093[e]=t,!s&&this._n078&&this._n165>0&&(this._n078[e%this._n165]=t)}else if(16128>e){const s=this.getMirrorAddresses(e);for(const e of s)this._n093[e]=t}else this._n020(e,t)}_n019(e){const t=31&e;return 16===t||20===t||24===t||28===t?this._n095[t-16]:this._n095[t]}_n020(e,t){const s=31&e;16===s||20===s||24===s||28===s?this._n095[s-16]=t:this._n095[s]=t}_n021(e){let t=12288>e?e:e-4096;return 3===this._n106?t:2===this._n106?8192|1023&t:0===this._n106?8192|(t>>11&1)<<11|1023&t:1===this._n106?8192|(t>>10&1)<<10|1023&t:t}getMirrorAddresses(e){const t=this._n021(e),s=[t];if(3===this._n106)return s;if(2===this._n106){for(let e=9216;12288>e;e+=1024)s.push(e|1023&t);return s}if(0===this._n106){const e=1023&t,i=t>>11&1;return s.push(9216|i<<11|e),s}if(1===this._n106){const e=1023&t,i=t>>10&1;return s.push(10240|i<<10|e),s}return s}getFrameBuffer(){return this._n112}getViewerFrameBuffer(){return this._n113?this._n153:this._n112}saveViewerFrameAtScanline(){this._n114||(this._n114=new Uint32Array(61440)),this._n114.set(this._n153)}setViewerPlayState(e,t){this._n113=e,void 0!==t&&(this._n115=t)}getStatus(){return{_n109:this._n109,_n111:this._n111,_n110:this._n110,_n100:this.v,t:this.t,xCoord:this._n120,_n097:this._n097,_n098:this._n098,_n099:this._n099,_n107:this._n107,verticalBlank:!!(128&this._n099),_n108:this._n108,_n103:this._n103,_n102:this._n102,_n104:this._n104,_n105:this._n105,_n170:this._n170||[],_n171:this._n171||0,_n172:this._n172||0,lastA12State:this.lastA12State,ppuBusAddress:this.ppuBusAddress||0}}getVramView(){const e=new Uint8Array(16384);for(let t=0;8192>t;t++)e[t]=this.readPatternTable(t);for(let t=8192;16128>t;t++)e[t]=this._n017(t);for(let t=16128;16384>t;t++)e[t]=this._n019(t);return e}writeOamByte(e,t){this._n094[255&e]=255&t}writeOamBlock(e,t=0){const s=255&t;for(let t=0;t<e.length&&256>s+t;t++)this._n094[s+t&255]=255&e[t]}getOamData(){return new Uint8Array(this._n094)}connectRenderer(e){this.renderer=e}}"undefined"!=typeof module&&module.exports&&(module.exports={PPU:S});class _c105{constructor(e){this._n128=e,this._n153=new Uint32Array(61440),this._n154=0,this._n155=0,this._n156=0,this._n157=0,this.attrLatchLo=0,this.attrLatchHi=0,this.ntByte=0,this.ptByteLo=0,this.ptByteHi=0,this.spriteCount=0,this._n158=new Uint32Array(8),this._n159=new Uint8Array(8),this._n160=new Uint8Array(8),this._n161=new Uint8Array(8),this._n162=new Uint8Array(8)}_n042(){this._n153.fill(0);const e=8&this._n128._n098,t=16&this._n128._n098;if(!e&&!t)return this._n153;const s=this.checkPerScanlineScroll();if(e)for(let e=0;240>e;e++){let t,i;s?(t=this._n128.scanlineVRegs[e],i=this._n128.scanlineFineX[e]):(t=this._n128.frameStartV,i=this._n128.frameStartX),this._n043(e,t,i)}return t&&this.renderAllSprites(),this._n153}checkPerScanlineScroll(){if(void 0===this._n128.scanlineVRegs[0])return!1;const e=this._n128.scanlineVRegs[0],t=this._n128.scanlineFineX[0];for(let s=1;240>s;s++)if(this._n128.scanlineVRegs[s]!==e||this._n128.scanlineFineX[s]!==t)return!0;return!1}_n043(e,t,s){const i=t>>5&31,n=t>>10&3,r=t>>12&7,o=((31&t)<<3)+s-16;for(let t=0;256>t;t++){const s=o+t;let _n119=n,c=s;0>s?(c=s+256,_n119^=1):256>s||(c=s-256,_n119^=1);const h=c>>3&31,l=7&c,u=8192+(_n119<<10)+(i<<5)+h,d=this._n128._n017(u),_n122=(16&this._n128._n097?4096:0)+(d<<4)+r,m=7-l,g=this._n128.readPatternTable(_n122)>>m&1|(this._n128.readPatternTable(_n122+8)>>m&1)<<1,f=9152+(_n119<<10)+(i>>2<<3)+(h>>2),_c106=this._n128._n017(f)>>((2&i)<<1|2&h)&3,_n121=this.getColor(_c106,g);this._n153[256*e+t]=_n121}}renderAllSprites(){for(let e=63;e>=0;e--)this._n044(e)}_n044(e){const t=this._n128._n094[4*e+0],s=this._n128._n094[4*e+1],i=this._n128._n094[4*e+2],n=this._n128._n094[4*e+3];if(0===t||t>=239)return;const r=!!(32&this._n128._n097),o=r?16:8,_n119=t+1,c=4+(3&i),h=i>>5&1,l=i>>6&1,u=i>>7&1,d=0===e;let _n122,m;r?(_n122=1&s?4096:0,m=254&s):(_n122=8&this._n128._n097?4096:0,m=s);for(let e=0;o>e;e++){const t=_n119+e;if(0>t||t>=240)continue;let s,i=e;u&&(i=o-1-e),s=r&&i>=8?_n122+16*(m+1)+(i-8):_n122+16*m+i;const g=this._n128.readPatternTable(s),f=this._n128.readPatternTable(s+8);for(let e=0;8>e;e++){const s=n+e;if(0>s||s>=256)continue;let i=e;l&&(i=7-e);const r=7-i,o=g>>r&1|(f>>r&1)<<1;if(0!==o){d&&255>s&&!this._n128._n107&&0!==this._n045(s,t)&&(this._n128._n107=!0);const e=this._n045(s,t);if(0===h||0===e){const e=this.getColor(c,o);this._n153[256*t+s]=e}}}}}_n045(e,t){const s=this._n128.scanlineVRegs[t],i=s>>12&7,n=((31&s)<<3)+this._n128.scanlineFineX[t]+e-16;let r=s>>10&3,o=n;0>n?(o=n+256,r^=1):256>n||(o=n-256,r^=1);const _n119=7&o,c=8192+(r<<10)+((s>>5&31)<<5)+(o>>3&31),h=this._n128._n017(c),l=(16&this._n128._n097?4096:0)+(h<<4)+i,u=7-_n119;return this._n128.readPatternTable(l)>>u&1|(this._n128.readPatternTable(l+8)>>u&1)<<1}_n046(e){const t=this._n128;this.spriteCount=0;const s=32&t._n097?16:8;for(let i=0;64>i&&8>this.spriteCount;i++){const n=t._n094[4*i+0],r=t._n094[4*i+1],o=t._n094[4*i+2],_n119=t._n094[4*i+3],c=n+1;e>=c&&c+s>e&&(this._n159[this.spriteCount]=_n119,this._n160[this.spriteCount]=o>>5&1,this._n161[this.spriteCount]=4+(3&o),this._n162[this.spriteCount]=0===i?1:0,this._n158[this.spriteCount]=this._n047(r,o,e-c,s),this.spriteCount++)}8>this.spriteCount||(t._n108=!0)}_n047(e,t,s,i){const n=this._n128,r=t>>6&1,o=t>>7&1;let _n119,c=e,h=s;16===i?(_n119=1&e?4096:0,c=254&e,8>s||(c=1+(254&e),h=s-8)):_n119=8&n._n097?4096:0,o&&(h=7-h);const l=_n119+(c<<4)+h,u=n.readPatternTable(l),d=n.readPatternTable(l+8);let _n122=0;for(let e=0;8>e;e++){const t=r?e:7-e;_n122|=(u>>t&1|(d>>t&1)<<1)<<2*e}return _n122}getSpritePixel(e){for(let t=0;t<this.spriteCount;t++){const s=this._n159[t];if(e>=s&&s+8>e){const i=e-s,n=this._n158[t]>>2*i&3;if(0!==n)return{pixel:n,palette:this._n161[t],priority:this._n160[t],isZero:1===this._n162[t]}}}return{pixel:0,palette:0,priority:0,isZero:!1}}getColor(e,t){const s=this._n128;if(0===t){const e=s._n095[0];return this.getNesColor(e)}let i;i=4>e?e<<2|t:16+(e-4<<2)|t,3&i||(i=0);const n=s._n095[31&i];return this.getNesColor(n)}getNesColor(e){return"undefined"!=typeof PPU_CONSTANTS&&PPU_CONSTANTS.NES_PALETTE?(4278190080|PPU_CONSTANTS.NES_PALETTE[63&e])>>>0:(4278190080|[6710886,10888,1315495,3866788,6029438,7209024,7079424,5643520,3355904,739328,20992,20232,16461,0,0,0,11382189,1400793,4342015,7677950,10492620,12000891,11874592,10046976,7040256,3704576,824064,36658,31885,0,0,0,16776959,6598911,9605375,13006591,15952639,16674508,16679280,15375906,12369408,8968192,6087728,4579458,4771294,5197647,0,0,16776959,12640255,13882111,15255807,16499455,16696554,16698565,16242853,15000980,13627286,12448939,11793356,11922418,12105912,0,0][63&e])>>>0}reset(){this._n153.fill(0),this._n154=0,this._n155=0,this._n156=0,this._n157=0,this.spriteCount=0}}"undefined"!=typeof module&&module.exports&&(module.exports={PPURenderer:_c105}),"undefined"!=typeof window&&(window.PPURenderer=_c105);class v{constructor(){this._n135={_c100:!1,_c110:!1,SELECT:!1,START:!1,UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1},this._n136={_c100:!1,_c110:!1,SELECT:!1,START:!1,UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1},this._n137=0,this._n138=0,this._n139=!1,this._n140=["_c100","_c110","SELECT","START","UP","DOWN","LEFT","RIGHT"]}write(e){const t=this._n139;this._n139=!!(1&e),t&&!this._n139&&this._n048(),this._n139&&this._n048()}_n052(){if(this._n139)return this._n135._c100?65:64;const e=1&this._n137;return this._n137>>=1,this._n137|=128,e?65:64}_n053(){if(this._n139)return this._n136._c100?65:64;const e=1&this._n138;return this._n138>>=1,this._n138|=128,e?65:64}_n048(){this._n137=this._n049(this._n135),this._n138=this._n049(this._n136)}_n049(e){let t=0;for(let s=0;8>s;s++)e[this._n140[s]]&&(t|=1<<s);return t}_n050(e,t){this._n135.hasOwnProperty(e)&&(this._n135[e]=t,this._n139&&this._n048())}_n051(e,t){this._n136.hasOwnProperty(e)&&(this._n136[e]=t,this._n139&&this._n048())}reset(){for(let e in this._n135)this._n135[e]=!1;for(let e in this._n136)this._n136[e]=!1;this._n137=0,this._n138=0,this._n139=!1}}"undefined"!=typeof module&&module.exports&&(module.exports={NESController:v}),"undefined"!=typeof window&&(window.NESController=v);class _{constructor(e){this.controller=e,this.isActive=!1,this._n141={KeyW:{controller:1,button:"UP"},KeyS:{controller:1,button:"DOWN"},KeyA:{controller:1,button:"LEFT"},KeyD:{controller:1,button:"RIGHT"},KeyJ:{controller:1,button:"SELECT"},KeyK:{controller:1,button:"START"},KeyU:{controller:1,button:"_c110"},KeyI:{controller:1,button:"_c100"},ArrowUp:{controller:2,button:"UP"},ArrowDown:{controller:2,button:"DOWN"},ArrowLeft:{controller:2,button:"LEFT"},ArrowRight:{controller:2,button:"RIGHT"},Numpad5:{controller:2,button:"SELECT"},Numpad6:{controller:2,button:"START"},Numpad1:{controller:2,button:"_c110"},Numpad2:{controller:2,button:"_c100"}},this._n142=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"],this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this)}init(canvas){this.canvas=canvas,document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),canvas.addEventListener("focus",this.handleFocus),canvas.addEventListener("blur",this.handleBlur),canvas.addEventListener("click",()=>canvas.focus()),canvas.tabIndex=0,canvas.style.outline="none"}handleKeyDown(e){if(!this.isActive)return;const t=this._n141[e.code];t&&(e.preventDefault(),this.setButtonState(t.controller,t.button,!0)),this._n142.includes(e.code)&&e.preventDefault()}handleKeyUp(e){if(!this.isActive)return;const t=this._n141[e.code];t&&(e.preventDefault(),this.setButtonState(t.controller,t.button,!1))}setButtonState(e,t,s){this.controller&&(1===e?this.controller._n050(t,s):2===e&&this.controller._n051(t,s))}handleFocus(){this.isActive=!0,this.canvas.style.border="2px solid #4CAF50"}handleBlur(){this.isActive=!1,this.canvas.style.border="1px solid #333",this.controller&&this.controller.reset()}setActive(e){this.isActive=e,e?this.canvas.focus():this.canvas.blur()}destroy(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.canvas&&(this.canvas.removeEventListener("focus",this.handleFocus),this.canvas.removeEventListener("blur",this.handleBlur))}setKeyMap(e){this._n141={...this._n141,...e}}getKeyMap(){return{...this._n141}}}"undefined"!=typeof module&&module.exports&&(module.exports={KeyboardInput:_}),"undefined"!=typeof window&&(window.KeyboardInput=_);class w{constructor(){this._n143=45,this._n144=0,this._n145=1e3/this._n143,this._n146=0,this._n147=0,this._n148=0,this._n149=1e3,this._n150=0,this._n151=1,this._n152=!1}_n054(e){this._n143=e,this._n145=1e3/this._n143}_n055(){return this._n143}_n056(e){this._n151=e}_n057(){return this._n151}pause(){this._n152=!0}resume(){this._n152=!1,this._n146=performance.now()}isPausedState(){return this._n152}update(){if(this._n152)return!1;const now=performance.now(),e=now-this._n146;this._n147+=e;const t=Math.floor(this._n147/this._n145);return t>0&&(this._n147-=t*this._n145,this._n148+=t,this._n058(now),this._n146=now,!0)}_n058(now){if(now-this._n150>=this._n149){const e=now-this._n150;this._n144=1e3*this._n148/e,this._n148=0,this._n150=now}}_n059(){return this._n144}reset(){this._n146=performance.now(),this._n147=0,this._n148=0,this._n144=0,this._n150=performance.now(),this._n152=!1}getStatus(){return{_n143:this._n143,_n144:this._n144,_n151:this._n151,_n152:this._n152}}}"undefined"!=typeof module&&module.exports&&(module.exports={FrameTiming:w}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("loadRomBtn"),t=document.getElementById("romFile"),canvas=document.getElementById("nesCanvas"),s=canvas.getContext("2d");s.fillStyle="#000",s.fillRect(0,0,canvas.width,canvas.height);const i=s.createImageData(283,242),n=i.data;let r,o,c,h,l,u,d=!1,_n122=null;function m(e=!1){r=new _n121(e),window.cpu=r,o=new S,window._n128=o,c=new b,window._n127=c,document.addEventListener("click",()=>{c&&!c._n134&&c._n072()},{once:!0}),r._n126._n068("_n128",o),o.connectMMU(r._n126),r._n126._n068("_n127",c),h=new v,r._n126._n068("controller",h),window.nesController=h,l=new _(h),l.init(canvas);const t=new _c105(o);o.connectRenderer(t),u=new w,r.cpu.setPpu=function(e){this._n128=e},r.cpu.setPpu(o),r.cpu.setApu=function(e){this._n127=e},r.cpu.setApu(c),o._n168=function(){r.cpu._n075()},c._n073(r.cpu),c._n074(function(){r.cpu._n076()})}function g(){d||(d=!0,u&&u.reset(),function e(){d&&(u.update()&&(function(){if(!r||!r.cpu||!o)return;const e=o._n111||0;for(;o._n111===e;){const e=r.cpu._n125||0;r.cpu._n025();const t=(r.cpu._n125||0)-e;for(let e=0;3*t>e;e++)o&&"function"==typeof o.step&&o.step();for(let e=0;t>e;e++)c&&"function"==typeof c.step&&c.step()}}(),function(){if(!o||!d)return;const e=o.getFrameBuffer();for(let e=0;e<n.length;e++)n[e]=e%4==3?255:0;for(let t=0;240>t;t++)for(let s=0;256>s;s++){const i=e[256*t+s],r=4*(283*(t+1)+(s+13));n[r]=i>>16&255,n[r+1]=i>>8&255,n[r+2]=255&i,n[r+3]=255}s.putImageData(i,0,0)}()),_n122=requestAnimationFrame(e))}())}function f(){if("undefined"!=typeof EMBEDDED_ROM&&EMBEDDED_ROM.data){const e=Array.isArray(EMBEDDED_ROM.data)?EMBEDDED_ROM.data.join(""):EMBEDDED_ROM.data;window.loadEmbeddedRomData(e)}}window.startGameRendering=function(){g()},window.stopGameRendering=function(){d=!1,_n122&&(cancelAnimationFrame(_n122),_n122=null)},window.setGameSpeed=function(e){u&&(u._n056(e),console.log("游戏速度已设置为:",e+"_n120"))},window.getGameSpeed=function(){return u?u._n057():1},window.getFpsInfo=function(){return u?u.getStatus():null},window._n054=function(e){if(u){u._n054(e);var t=document.getElementById("fps45Btn"),s=document.getElementById("fps55Btn"),i=document.getElementById("fps60Btn");t&&t.classList.toggle("active",45===e),s&&s.classList.toggle("active",55===e),i&&i.classList.toggle("active",60===e)}},window._n055=function(){return u?u._n055():60},document.addEventListener("keydown",function(e){!e.altKey||e.ctrlKey||e.shiftKey||("1"===e.key?(e.preventDefault(),setGameSpeed(1),console.log("速度: 1x")):"2"===e.key?(e.preventDefault(),setGameSpeed(2),console.log("速度: 2x")):"3"===e.key?(e.preventDefault(),setGameSpeed(3),console.log("速度: 3x")):"4"===e.key&&(e.preventDefault(),setGameSpeed(.5),console.log("速度: 0.5x")))}),document.addEventListener("visibilitychange",function(){c&&(document.hidden?c.setMasterVolume(0):c.setMasterVolume(1))}),e.addEventListener("click",function(){t.click()}),t.addEventListener("change",function(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=function(e){const t=e.target.result,s=new Uint8Array(t);if(r||m(!0),s.length>=16){const e=String.fromCharCode(s[0])+String.fromCharCode(s[1])+String.fromCharCode(s[2]),t=s[3];if("NES"===e&&26===t){const e=16384*s[4],t=8192*s[5],i=s[6],n=(240&s[7])>>4<<4|(240&i)>>4;let h;h=8&i?3:1&i;const l=16+e,u=s.slice(16,16+e),d=s.slice(l,l+t),_n122={cpu:r?r.cpu:null,_n128:o,_n127:c,_n076:()=>{r&&r.cpu&&r.cpu._n076()}},m=_n119.createMapper(n,u,d,e,t,_n122);if(window.currentMapperId=n,window.currentMapperName=_n119.getMapperName(n),r&&r._n126&&(r._n126._n068("_n129",m),r._n126._n069(m)),o&&t>0&&o._n070(d,t),o){if(m._n005){let e;switch(m._n005()){case"_c018":e=0;break;case"_c017":e=1;break;case"ONESCREEN_A":case"ONESCREEN_B":e=2;break;default:e=h}o._n071(e)}else o._n071(h);o.reset()}const f=r._n126.read(65532),_c106=r._n126.read(65533)<<8|f;r.cpu._n116._c104=32768>_c106||_c106>65535?32768:_c106,r.cpu._n116._n119=0,r.cpu._n116._n120=0,r.cpu._n116._n121=0,r.cpu._n116._n118=253,r.cpu._n116._n122=52,r.cpu._n123=!1,r.cpu._n124=!1,c&&(c.writeStatus(0),c._n130=0,c._n131=0,c._n132=!1,c._n133=!1),window.currentRomData=u,g()}}},e.readAsArrayBuffer(t)}}),window.reset=function(){r&&r.cpu&&r.cpu.reset(),o&&o.reset(),c&&(c.writeStatus(0),c._n130=0,c._n131=0,c._n132=!1,c._n133=!1)},document.addEventListener("embeddedRomLoaded",function(e){const t=e.detail;r||m(!0);const s={cpu:r?r.cpu:null,_n128:o,_n127:c,_n076:()=>{r&&r.cpu&&r.cpu._n076()}},i=_n119.createMapper(t.mapperId,t.prgRomData,t.chrRomData,t._n164,t._n165,s);if(window.currentMapperId=t.mapperId,window.currentMapperName=_n119.getMapperName(t.mapperId),r&&r._n126&&(r._n126._n068("_n129",i),r._n126._n069(i)),o&&t._n165>0&&o._n070(t.chrRomData,t._n165),o){if(i._n005){let e;switch(i._n005()){case"_c018":e=0;break;case"_c017":e=1;break;case"ONESCREEN_A":case"ONESCREEN_B":e=2;break;default:e=t._n106}o._n071(e)}else o._n071(t._n106);o.reset()}const n=r._n126.read(65532),h=r._n126.read(65533)<<8|n;r.cpu._n116._c104=32768>h||h>65535?32768:h,r.cpu._n116._n119=0,r.cpu._n116._n120=0,r.cpu._n116._n121=0,r.cpu._n116._n118=253,r.cpu._n116._n122=52,r.cpu._n123=!1,r.cpu._n124=!1,c&&(c.writeStatus(0),c._n130=0,c._n131=0,c._n132=!1,c._n133=!1),window.currentRomData=t.prgRomData,g()}),window.loadEmbeddedRomData=function(e){const t=atob(e),s=new Uint8Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);if(16>s.length)return console.error("ROM 文件太小"),!1;const i=String.fromCharCode(s[0])+String.fromCharCode(s[1])+String.fromCharCode(s[2]),n=s[3];if("NES"!==i||26!==n)return console.error("不是有效的 NES ROM"),!1;const r=16384*s[4],o=8192*s[5],_n119=s[6],c=(240&s[7])>>4<<4|(240&_n119)>>4;let h;h=8&_n119?3:1&_n119;const l=16+r,u=s.slice(16,16+r),d=s.slice(l,l+o),_n122=new CustomEvent("embeddedRomLoaded",{detail:{prgRomData:u,chrRomData:d,_n164:r,_n165:o,mapperId:c,_n106:h,rawData:s}});return document.dispatchEvent(_n122),!0},function(){const e={"channel-square1":"pulse1","channel-square2":"pulse2","channel-triangle":"triangle","channel-noise":"noise","channel-dmc":"dmc"};Object.keys(e).forEach(t=>{const s=document.getElementById(t);s&&s.addEventListener("change",function(){const s=e[t];c&&c.userChannelEnabled?(c.userChannelEnabled[s]=this.checked,!this.checked&&c.pianoMode[s]&&c.stopPianoNote(s)):(console.warn("APU 尚未初始化，无法切换音频通道 "+s),this.checked=!this.checked)})})}(),function(){const e=document.getElementById("sweep-enable");e&&e.addEventListener("change",function(){c&&c.setSweepEnabled?(c.setSweepEnabled("pulse1",this.checked),c.setSweepEnabled("pulse2",this.checked)):(console.warn("APU 尚未初始化，无法切换 Sweep 功能"),this.checked=!this.checked)});const t=document.getElementById("envelope-enable");t&&t.addEventListener("change",function(){c&&c.setSquareFeature?(c.setSquareFeature("pulse1","envelope",this.checked),c.setSquareFeature("pulse2","envelope",this.checked)):(console.warn("APU 尚未初始化，无法切换 Envelope 功能"),this.checked=!this.checked)});const s=document.getElementById("length-enable");s&&s.addEventListener("change",function(){c&&c.setSquareFeature?(c.setSquareFeature("pulse1","lengthCounter",this.checked),c.setSquareFeature("pulse2","lengthCounter",this.checked)):(console.warn("APU 尚未初始化，无法切换 Length Counter 功能"),this.checked=!this.checked)})}(),function(){const e={"instrument-pulse1":"pulse1","instrument-pulse2":"pulse2","instrument-triangle":"triangle","instrument-noise":"noise","instrument-dmc":"dmc"},t={"waveform-pulse1":"pulse1","waveform-pulse2":"pulse2","waveform-triangle":"triangle","waveform-noise":"noise","waveform-dmc":"dmc"};Object.keys(e).forEach(t=>{const s=document.getElementById(t);s&&s.addEventListener("change",function(){const s=e[t],i=this.value;c&&("nes"===i?(c.pianoMode[s]=!1,c.stopPianoNote(s)):(c.pianoMode[s]=!0,c.channelInstruments[s]=i))})}),Object.keys(t).forEach(e=>{const s=document.getElementById(e);s&&s.addEventListener("change",function(){const s=t[e],i=this.value;c&&(c.channelWaveforms[s]=i)})});const s=document.getElementById("toggle-all-instruments");s&&s.addEventListener("click",function(){if(!c)return;const e=["pulse1","pulse2","triangle","noise","dmc"];e.some(e=>c.pianoMode[e])?(e.forEach(e=>{c.pianoMode[e]=!1,c.stopPianoNote(e);const t="instrument-"+e,s=document.getElementById(t);s&&(s.value="nes")}),s.textContent="全部开启",s.classList.remove("all-on")):(e.forEach(e=>{c.pianoMode[e]=!0;const t=e+"_piano";c.channelInstruments[e]=t;const s="instrument-"+e,i=document.getElementById(s);i&&(i.value=t)}),s.textContent="全部关闭",s.classList.add("all-on"))});const i={"mix-pulse1":"pulse1","mix-pulse2":"pulse2","mix-triangle":"triangle","mix-noise":"noise","mix-dmc":"dmc"};Object.keys(i).forEach(e=>{const t=document.getElementById(e);t&&t.addEventListener("change",function(){const t=i[e],s=this.checked;if(c&&(c.mixMode[t]=s,s&&!c.pianoMode[t])){c.pianoMode[t]=!0;const e="instrument-"+t,s=document.getElementById(e);if(s&&"nes"===s.value){const e=t+"_piano";s.value=e,c.channelInstruments[t]=e}}})});const n={"mix-volume-pulse1":"pulse1","mix-volume-pulse2":"pulse2","mix-volume-triangle":"triangle","mix-volume-noise":"noise","mix-volume-dmc":"dmc"};Object.keys(n).forEach(e=>{const t=document.getElementById(e),s=document.getElementById(e+"-value");t&&t.addEventListener("input",function(){const t=n[e],i=parseInt(this.value);s&&(s.textContent=i+"%"),c&&(c.mixVolume[t]=i/100)})});const r={"octave-pulse1":"pulse1","octave-pulse2":"pulse2","octave-triangle":"triangle","octave-noise":"noise","octave-dmc":"dmc"};Object.keys(r).forEach(e=>{const t=document.getElementById(e);t&&t.addEventListener("change",function(){const t=r[e],s=parseInt(this.value);c&&(c.octaveShift[t]=s)})});const o={"instrument-volume-pulse1":"pulse1","instrument-volume-pulse2":"pulse2","instrument-volume-triangle":"triangle","instrument-volume-noise":"noise","instrument-volume-dmc":"dmc"};Object.keys(o).forEach(e=>{const t=document.getElementById(e),s=document.getElementById(e+"-value");t&&t.addEventListener("input",function(){const t=o[e],i=parseInt(this.value);s&&(s.textContent=i+"%"),c&&(c.instrumentVolume[t]=i/100,c.updateUserInstrumentVolume&&c.updateUserInstrumentVolume(t))})})}(),setTimeout(f,500),window.addEventListener("load",function(){setTimeout(f,100)})}),function(){"use strict";function e(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||768>=window.innerWidth&&1024>=window.innerHeight}function t(){return window.innerHeight>window.innerWidth}function s(){const e=document.createElement("style");e.id="mobile-layout-styles",e.textContent="\n            /* ========== 基础移动端布局 ========== */\n            .mobile-layout {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100vw;\n                height: 100vh;\n                overflow: hidden;\n                background: #000;\n                -webkit-touch-callout: none;\n                -webkit-user-select: none;\n                user-select: none;\n            }\n\n            /* ========== 模式1：竖屏模式 (.mobile-layout.portrait) ========== */\n            .mobile-layout.portrait .mobile-game-area {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100vw;\n                height: 100vh;\n            }\n\n            .mobile-layout.portrait .mobile-canvas-container {\n                position: absolute;\n                top: 50px;\n                left: 0;\n                width: 100vw;\n                height: calc(60vh - 50px);\n                display: flex;\n                align-items: flex-start;\n                justify-content: center;\n            }\n\n            .mobile-layout.portrait #nesCanvas.mobile-mode {\n                width: 100%;\n                height: 100%;\n                object-fit: contain;\n            }\n\n            /* 竖屏：顶部控制按钮一排 */\n            .mobile-layout.portrait .mobile-top-controls {\n                position: fixed;\n                top: 10px;\n                right: 10px;\n                left: auto;\n                display: flex;\n                flex-direction: row;\n                gap: 10px;\n                z-index: 200;\n            }\n\n            .mobile-layout.portrait .mobile-rotate-btn {\n                position: fixed;\n                top: 10px;\n                left: 10px;\n                right: auto;\n            }\n\n            .mobile-layout.portrait .mobile-mute-btn {\n                position: fixed;\n                top: 10px;\n                left: 80px;\n                right: auto;\n            }\n\n            /* ========== 竖屏模式四格正方形 ========== */\n            .mobile-layout.portrait .grid-square-4-left {\n                position: fixed;\n                bottom: calc((100vw - 50vw * 0.707 * 2) / 2);\n                left: 40px;\n                width: calc(50vw * 0.707);\n                height: calc(50vw * 0.707);\n                border: 2px solid rgba(0, 255, 255, 0.6);\n                pointer-events: none;\n                z-index: 9998;\n                transform: rotate(45deg);\n                transform-origin: center center;\n                display: none;\n            }\n\n            .mobile-layout.portrait .grid-square-4-left::before {\n                content: '';\n                position: absolute;\n                top: 50%;\n                left: 0;\n                width: 100%;\n                height: 1px;\n                background: rgba(0, 255, 255, 0.4);\n            }\n\n            .mobile-layout.portrait .grid-square-4-left::after {\n                content: '';\n                position: absolute;\n                left: 50%;\n                top: 0;\n                width: 1px;\n                height: 100%;\n                background: rgba(0, 255, 255, 0.4);\n            }\n\n            .mobile-layout.portrait .grid-square-4-right {\n                position: fixed;\n                bottom: calc((100vw - 55vw * 0.707 * 2) / 2);\n                right: 20px;\n                width: calc(55vw * 0.707);\n                height: calc(55vw * 0.707);\n                border: 2px solid rgba(255, 165, 0, 0.6);\n                pointer-events: none;\n                z-index: 9998;\n                display: none;\n            }\n\n            .mobile-layout.portrait .grid-square-4-right::before {\n                content: '';\n                position: absolute;\n                top: 50%;\n                left: 0;\n                width: 100%;\n                height: 1px;\n                background: rgba(255, 165, 0, 0.4);\n            }\n\n            .mobile-layout.portrait .grid-square-4-right::after {\n                content: '';\n                position: absolute;\n                left: 50%;\n                top: 0;\n                width: 1px;\n                height: 100%;\n                background: rgba(255, 165, 0, 0.4);\n            }\n\n            /* 竖屏：方向键在四格正方形内（左下） */\n            .mobile-layout.portrait .mobile-left-controls {\n                position: fixed;\n                left: 40px;\n                bottom: calc((100vw - 50vw * 0.707 * 2) / 2);\n                width: calc(50vw * 0.707);\n                height: calc(50vw * 0.707);\n                transform: none;\n            }\n\n            /* 竖屏：功能键在四格正方形内（右下） */\n            .mobile-layout.portrait .mobile-right-controls {\n                position: fixed;\n                right: 20px;\n                bottom: calc((100vw - 55vw * 0.707 * 2) / 2);\n                width: calc(55vw * 0.707);\n                height: calc(55vw * 0.707);\n                transform: none;\n            }\n\n            /* 竖屏：方向按钮大小 */\n            .mobile-layout.portrait .mobile-dpad {\n                width: 100%;\n                height: 100%;\n                position: relative;\n            }\n\n            .mobile-layout.portrait .dpad-btn {\n                position: absolute;\n                width: 40%;\n                height: 40%;\n                background: rgba(255, 255, 255, 0.15);\n                border: 2px solid #FFD700;\n                border-radius: 50%;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: calc((50vw * 0.707) / 5);\n                color: #fff;\n                user-select: none;\n                -webkit-user-select: none;\n                touch-action: none;\n                -webkit-tap-highlight-color: transparent;\n                -webkit-touch-callout: none;\n                pointer-events: auto;\n            }\n\n            .mobile-layout.portrait .dpad-btn * {\n                user-select: none;\n                -webkit-user-select: none;\n                pointer-events: none;\n            }\n\n            .mobile-layout.portrait .dpad-btn:active {\n                background: rgba(0, 255, 255, 0.4);\n            }\n\n            /* 竖屏四格位置：对应旋转45度后的正方形四格（菱形顶点） */\n            .mobile-layout.portrait .dpad-up { top: -5%; left: 30%; }\n            .mobile-layout.portrait .dpad-down { bottom: -5%; left: 30%; }\n            .mobile-layout.portrait .dpad-left { top: 30%; left: -5%; }\n            .mobile-layout.portrait .dpad-right { top: 30%; right: -5%; }\n\n            /* 竖屏：功能按钮基础样式 */\n            .mobile-layout.portrait .mobile-action-btn {\n                width: calc(100vw / 5);\n                height: calc(100vw / 5);\n                border-radius: 50%;\n                border: 2px solid #FFD700;\n                background: rgba(255, 255, 255, 0.15);\n                color: #fff;\n                font-size: calc((50vw - 10px) / 8);\n                font-weight: bold;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                user-select: none;\n                -webkit-user-select: none;\n                touch-action: none;\n                -webkit-tap-highlight-color: transparent;\n            }\n\n            .mobile-layout.portrait .mobile-action-btn:active {\n                background: rgba(255, 255, 255, 0.3);\n            }\n\n            .mobile-layout.portrait .mobile-action-btn.red {\n                background: rgba(231, 76, 60, 0.3);\n                border-color: #FFD700;\n            }\n\n            .mobile-layout.portrait .mobile-action-btn.red:active {\n                background: rgba(231, 76, 60, 0.5);\n            }\n\n            /* 竖屏：功能按钮布局 - 2x2四格 */\n            .mobile-layout.portrait .mobile-right-controls .mobile-right-row {\n                position: absolute;\n                width: 100%;\n                height: 50%;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                margin: 0 !important;\n                padding: 0;\n                gap: 10px !important;\n            }\n\n            .mobile-layout.portrait .mobile-right-controls .mobile-right-row:first-child {\n                top: 0;\n                left: 0;\n            }\n\n            .mobile-layout.portrait .mobile-right-controls .mobile-right-row:last-child {\n                bottom: 0;\n                left: 0;\n            }\n\n            .mobile-layout.portrait .mobile-right-controls .mobile-action-btn {\n                width: 40%;\n                height: 80%;\n            }\n\n            /* 竖屏：START和_c100按钮向上移动 */\n            .mobile-layout.portrait .mobile-right-controls .btn-start,\n            .mobile-layout.portrait .mobile-right-controls .btn-_n119 {\n                margin-top: -40%;\n            }\n\n            /* ========== 模式2：横屏模式 (.mobile-layout.landscape) ========== */\n            .mobile-layout.landscape .mobile-game-area {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100vw;\n                height: 100vh;\n            }\n\n            .mobile-layout.landscape .mobile-canvas-container {\n                position: absolute;\n                top: 0;\n                left: 180px;\n                width: calc(100vw - 360px);\n                height: 100vh;\n                display: flex;\n                align-items: flex-start;\n                justify-content: center;\n            }\n\n            .mobile-layout.landscape #nesCanvas.mobile-mode {\n                width: 100%;\n                height: 100%;\n                object-fit: contain;\n            }\n\n            /* 横屏：顶部控制按钮 - 屏幕左右顶角 */\n            .mobile-layout.landscape .mobile-top-controls {\n                position: fixed;\n                top: 10px;\n                right: 10px;\n                left: auto;\n                bottom: auto;\n                display: flex;\n                flex-direction: row;\n                gap: 10px;\n                z-index: 200;\n            }\n\n            .mobile-layout.landscape .mobile-rotate-btn {\n                position: fixed;\n                top: 10px;\n                left: 10px;\n                right: auto;\n                bottom: auto;\n            }\n\n            .mobile-layout.landscape .mobile-mute-btn {\n                position: fixed;\n                top: 10px;\n                left: 80px;\n                right: auto;\n                bottom: auto;\n            }\n\n            /* 横屏：方向键在左侧中间 */\n            .mobile-layout.landscape .mobile-left-controls {\n                position: fixed;\n                left: 10px;\n                top: 50%;\n                bottom: auto;\n                right: auto;\n                transform: translateY(-50%);\n            }\n\n            /* 横屏：功能键在右侧中间 */\n            .mobile-layout.landscape .mobile-right-controls {\n                position: fixed;\n                right: 10px;\n                top: 50%;\n                bottom: auto;\n                left: auto;\n                transform: translateY(-50%);\n            }\n\n            /* ========== 模式3：手动翻转模式 (.mobile-layout.rotated) ========== */\n            .mobile-layout.rotated .mobile-game-area {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100vw;\n                height: 100vh;\n            }\n\n            .mobile-layout.rotated .mobile-canvas-container {\n                position: fixed;\n                top: 50%;\n                left: 50%;\n                width: 100vh;\n                height: 100vw;\n                transform: translate(-50%, -50%) rotate(90deg);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n\n            .mobile-layout.rotated #nesCanvas.mobile-mode {\n                width: 100%;\n                height: 100%;\n                object-fit: contain;\n            }\n\n            /* 翻转模式：方向键在九宫格正方形内 */\n            .mobile-layout.rotated .mobile-left-controls {\n                position: fixed;\n                top: 5px;\n                left: 50%;\n                right: auto;\n                bottom: auto;\n                transform: translateX(-50%) rotate(90deg);\n                transform-origin: center center;\n                width: min(50vw, 50vh);\n                height: min(50vw, 50vh);\n            }\n\n            /* 翻转模式：顶部控制按钮 - 右侧 */\n            .mobile-layout.rotated .mobile-top-controls {\n                display: contents;\n            }\n\n            .mobile-layout.rotated .mobile-top-btn {\n                position: fixed;\n                right: var(--guide-margin);\n                transform: rotate(90deg);\n                transform-origin: right center;\n            }\n\n            .mobile-layout.rotated .mobile-top-btn:nth-of-type(1) {\n                bottom: calc(var(--guide-margin) - 20px + var(--btn-gap));\n                top: auto;\n            }\n\n            .mobile-layout.rotated .mobile-top-btn:nth-of-type(2) {\n                bottom: calc(var(--guide-margin) - 20px);\n                top: auto;\n            }\n\n            .mobile-layout.rotated .mobile-rotate-btn {\n                position: fixed;\n                top: calc(var(--guide-margin) + 20px);\n                right: var(--guide-margin);\n                transform: rotate(90deg);\n                transform-origin: right center;\n            }\n\n            .mobile-layout.rotated .mobile-mute-btn {\n                position: fixed;\n                top: calc(var(--guide-margin) + 20px + var(--btn-gap));\n                right: var(--guide-margin);\n                transform: rotate(90deg);\n                transform-origin: right center;\n            }\n\n            /* ========== 按钮基础样式（仅外观，无位置） ========== */\n            .mobile-top-btn {\n                width: 60px;\n                height: 36px;\n                border-radius: 18px;\n                border: 2px solid #FFD700;\n                background: rgba(255, 255, 255, 0.2);\n                color: #fff;\n                font-size: 12px;\n                font-weight: bold;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                backdrop-filter: blur(10px);\n                -webkit-backdrop-filter: blur(10px);\n                cursor: pointer;\n                z-index: 200;\n                user-select: none;\n                -webkit-user-select: none;\n                -webkit-tap-highlight-color: transparent;\n            }\n\n            .mobile-top-btn:active {\n                background: rgba(255, 255, 255, 0.4);\n            }\n\n            .mobile-top-btn.active {\n                background: rgba(231, 76, 60, 0.4);\n            }\n\n            .mobile-rotate-btn {\n                width: 60px;\n                height: 36px;\n                border-radius: 18px;\n                border: 2px solid #FFD700;\n                background: rgba(255, 255, 255, 0.2);\n                color: #fff;\n                font-size: 12px;\n                font-weight: bold;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                backdrop-filter: blur(10px);\n                -webkit-backdrop-filter: blur(10px);\n                cursor: pointer;\n                z-index: 200;\n                user-select: none;\n                -webkit-user-select: none;\n                -webkit-tap-highlight-color: transparent;\n            }\n\n            .mobile-rotate-btn.active {\n                background: rgba(231, 76, 60, 0.4);\n            }\n\n            .mobile-rotate-btn:active {\n                background: rgba(255, 255, 255, 0.4);\n            }\n\n            .mobile-mute-btn {\n                width: 60px;\n                height: 36px;\n                border-radius: 18px;\n                border: 2px solid #FFD700;\n                background: rgba(255, 255, 255, 0.2);\n                color: #fff;\n                font-size: 12px;\n                font-weight: bold;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                backdrop-filter: blur(10px);\n                -webkit-backdrop-filter: blur(10px);\n                cursor: pointer;\n                z-index: 200;\n                user-select: none;\n                -webkit-user-select: none;\n                -webkit-tap-highlight-color: transparent;\n            }\n\n            .mobile-mute-btn.muted {\n                background: rgba(231, 76, 60, 0.4);\n            }\n\n            .mobile-mute-btn:active {\n                background: rgba(255, 255, 255, 0.4);\n            }\n\n            /* ========== 布局参考线 ========== */\n            :root {\n                --guide-margin: 32px;\n                --guide-gap: 82px;\n                --btn-gap: 70px;\n            }\n\n            .layout-guide-line {\n                position: fixed;\n                background: rgba(255, 255, 0, 0.5);\n                z-index: 9999;\n                pointer-events: none;\n                display: none;\n            }\n\n            .layout-guide-line.top {\n                top: var(--guide-margin);\n                left: var(--guide-margin);\n                right: var(--guide-margin);\n                height: 1px;\n            }\n\n            .layout-guide-line.bottom {\n                bottom: var(--guide-margin);\n                left: var(--guide-margin);\n                right: var(--guide-margin);\n                height: 1px;\n            }\n\n            .layout-guide-line.left {\n                left: var(--guide-margin);\n                top: var(--guide-margin);\n                bottom: var(--guide-margin);\n                width: 1px;\n            }\n\n            .layout-guide-line.right {\n                right: var(--guide-margin);\n                top: var(--guide-margin);\n                bottom: var(--guide-margin);\n                width: 1px;\n            }\n\n            /* ========== 横屏大按钮模式 ========== */\n            .mobile-layout.landscape .mobile-dpad {\n                width: 200px;\n                height: 200px;\n                position: relative;\n            }\n\n            .mobile-layout.landscape .dpad-btn {\n                position: absolute;\n                width: 70px;\n                height: 70px;\n                background: rgba(255, 255, 255, 0.15);\n                border: 2px solid #FFD700;\n                border-radius: 50%;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 28px;\n                color: #fff;\n                user-select: none;\n                -webkit-user-select: none;\n                touch-action: none;\n                -webkit-tap-highlight-color: transparent;\n                -webkit-touch-callout: none;\n                pointer-events: auto;\n            }\n\n            .mobile-layout.landscape .dpad-btn * {\n                user-select: none;\n                -webkit-user-select: none;\n                pointer-events: none;\n            }\n\n            .mobile-layout.landscape .dpad-btn:active {\n                background: rgba(0, 255, 0, 0.4);\n            }\n\n            .mobile-layout.landscape .dpad-up { top: 0; left: 65px; }\n            .mobile-layout.landscape .dpad-down { bottom: 0; left: 65px; }\n            .mobile-layout.landscape .dpad-left { top: 65px; left: 0; }\n            .mobile-layout.landscape .dpad-right { top: 65px; right: 0; }\n\n            .mobile-layout.landscape .mobile-action-btn {\n                width: 90px;\n                height: 90px;\n                border-radius: 50%;\n                border: 2px solid #FFD700;\n                background: rgba(255, 255, 255, 0.15);\n                color: #fff;\n                font-size: 32px;\n                font-weight: bold;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                user-select: none;\n                -webkit-user-select: none;\n                touch-action: none;\n                -webkit-tap-highlight-color: transparent;\n            }\n\n            .mobile-layout.landscape .mobile-action-btn:active {\n                background: rgba(255, 255, 255, 0.3);\n            }\n\n            .mobile-layout.landscape .mobile-action-btn.red {\n                background: rgba(231, 76, 60, 0.3);\n                border-color: #FFD700;\n            }\n\n            .mobile-layout.landscape .mobile-action-btn.red:active {\n                background: rgba(231, 76, 60, 0.5);\n            }\n\n            /* ========== 翻转模式按钮大小 - 九宫格布局 ========== */\n            .mobile-layout.rotated .mobile-dpad {\n                width: 100%;\n                height: 100%;\n                position: relative;\n            }\n\n            .mobile-layout.rotated .dpad-btn {\n                position: absolute;\n                width: 35%;\n                height: 35%;\n                background: rgba(255, 255, 255, 0.15);\n                border: 2px solid #FFD700;\n                border-radius: 50%;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: calc(min(50vw, 50vh) / 5);\n                color: #fff;\n                user-select: none;\n                -webkit-user-select: none;\n                touch-action: none;\n                -webkit-tap-highlight-color: transparent;\n                -webkit-touch-callout: none;\n                pointer-events: auto;\n            }\n\n            .mobile-layout.rotated .dpad-btn * {\n                user-select: none;\n                -webkit-user-select: none;\n                pointer-events: none;\n            }\n\n            .mobile-layout.rotated .dpad-btn:active {\n                background: rgba(0, 255, 0, 0.4);\n            }\n\n            /* 九宫格位置：上(中上)、下(中下)、左(中左)、右(中右) - 35%大小靠近中心 */\n            .mobile-layout.rotated .dpad-up { top: 5%; left: 32.5%; }\n            .mobile-layout.rotated .dpad-down { bottom: 5%; left: 32.5%; }\n            .mobile-layout.rotated .dpad-left { top: 32.5%; left: 5%; }\n            .mobile-layout.rotated .dpad-right { top: 32.5%; right: 5%; }\n\n            .mobile-layout.rotated .mobile-action-btn {\n                width: calc(100vh / 8);\n                height: calc(100vh / 8);\n                border-radius: 50%;\n                border: 2px solid #FFD700;\n                background: rgba(255, 255, 255, 0.15);\n                color: #fff;\n                font-size: 32px;\n                font-weight: bold;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                user-select: none;\n                -webkit-user-select: none;\n                touch-action: none;\n                -webkit-tap-highlight-color: transparent;\n            }\n\n            .mobile-layout.rotated .mobile-action-btn:active {\n                background: rgba(255, 255, 255, 0.3);\n            }\n\n            .mobile-layout.rotated .mobile-action-btn.red {\n                background: rgba(231, 76, 60, 0.3);\n                border-color: #FFD700;\n            }\n\n            .mobile-layout.rotated .mobile-action-btn.red:active {\n                background: rgba(231, 76, 60, 0.5);\n            }\n\n            /* 翻转模式：功能按钮布局 - 2x2四格 */\n            .mobile-layout.rotated .mobile-right-controls .mobile-right-row {\n                position: absolute;\n                width: 100%;\n                height: 50%;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                margin: 0 !important;\n                padding: 0;\n                gap: 10px !important;\n            }\n\n            .mobile-layout.rotated .mobile-right-controls .mobile-right-row:first-child {\n                top: 0;\n                left: 0;\n            }\n\n            .mobile-layout.rotated .mobile-right-controls .mobile-right-row:last-child {\n                bottom: 0;\n                left: 0;\n            }\n\n            .mobile-layout.rotated .mobile-right-controls .mobile-action-btn {\n                width: 40%;\n                height: 80%;\n                border-radius: 50%;\n                margin: 0;\n            }\n\n            /* 翻转模式：START和_c100按钮向上移动 */\n            .mobile-layout.rotated .mobile-right-controls .btn-start,\n            .mobile-layout.rotated .mobile-right-controls .btn-_n119 {\n                margin-top: -40%;\n            }\n\n            /* ========== 翻转模式正方形九宫格参考线 ========== */\n            .mobile-layout.rotated .grid-square {\n                position: fixed;\n                top: 5px;\n                left: 50%;\n                transform: translateX(-50%) rotate(90deg);\n                width: min(50vw, 50vh);\n                height: min(50vw, 50vh);\n                border: 2px solid rgba(0, 255, 255, 0.6);\n                pointer-events: none;\n                z-index: 9998;\n                display: none;\n            }\n\n            /* 九宫格横线 */\n            .mobile-layout.rotated .grid-square::before {\n                content: '';\n                position: absolute;\n                top: 33.33%;\n                left: 0;\n                width: 100%;\n                height: 1px;\n                background: rgba(0, 255, 255, 0.4);\n                box-shadow: 0 calc(min(50vw, 50vh) / 3) 0 rgba(0, 255, 255, 0.4);\n            }\n\n            /* 九宫格竖线 */\n            .mobile-layout.rotated .grid-square::after {\n                content: '';\n                position: absolute;\n                left: 33.33%;\n                top: 0;\n                width: 1px;\n                height: 100%;\n                background: rgba(0, 255, 255, 0.4);\n                box-shadow: calc(min(50vw, 50vh) / 3) 0 0 rgba(0, 255, 255, 0.4);\n            }\n\n            /* ========== 翻转模式四格正方形（下方） ========== */\n            .mobile-layout.rotated .grid-square-4 {\n                position: fixed;\n                bottom: 5px;\n                left: 50%;\n                transform: translateX(-50%) rotate(90deg);\n                width: min(50vw, 50vh);\n                height: min(50vw, 50vh);\n                border: 2px solid rgba(255, 165, 0, 0.6);\n                pointer-events: none;\n                z-index: 9998;\n                display: none;\n            }\n\n            /* 四格横线 */\n            .mobile-layout.rotated .grid-square-4::before {\n                content: '';\n                position: absolute;\n                top: 50%;\n                left: 0;\n                width: 100%;\n                height: 1px;\n                background: rgba(255, 165, 0, 0.4);\n            }\n\n            /* 四格竖线 */\n            .mobile-layout.rotated .grid-square-4::after {\n                content: '';\n                position: absolute;\n                left: 50%;\n                top: 0;\n                width: 1px;\n                height: 100%;\n                background: rgba(255, 165, 0, 0.4);\n            }\n\n            /* 翻转模式：功能键在四格正方形内 - 默认居中 */\n            .mobile-layout.rotated .mobile-right-controls {\n                position: fixed;\n                bottom: 5px;\n                left: 50%;\n                right: auto;\n                top: auto;\n                transform: translateX(-50%) rotate(90deg);\n                transform-origin: center center;\n                width: min(50vw, 50vh);\n                height: min(50vw, 50vh);\n            }\n\n            /* 横屏模式下的翻转：按钮和游戏画面靠右 */\n            @media (orientation: landscape) {\n                .mobile-layout.rotated .mobile-canvas-container {\n                    left: 60%;\n                    transform: translate(-50%, -50%) rotate(90deg);\n                }\n                .mobile-layout.rotated .mobile-left-controls {\n                    left: 200px;\n                    transform: rotate(90deg);\n                }\n                .mobile-layout.rotated .mobile-right-controls {\n                    left: 200px;\n                    transform: rotate(90deg);\n                }\n            }\n\n            /* ========== 小屏幕适配 ========== */\n            @media (max-height: 500px) {\n                .mobile-layout.portrait .mobile-canvas-container {\n                    height: 55vh;\n                }\n            }\n        ",document.head.appendChild(e)}function i(){const canvas=document.getElementById("nesCanvas");if(!canvas)return;canvas.classList.add("mobile-mode");const e=document.createElement("div");e.className="mobile-layout"+(t()?" portrait":" landscape"),e.id="mobile-layout";const s=document.createElement("div");s.className="mobile-game-area",["top","bottom","left","right"].forEach(e=>{const t=document.createElement("div");t.className="layout-guide-line "+e,s.appendChild(t)});const i=document.createElement("div");i.className="grid-square",i.id="grid-square",s.appendChild(i);const n=document.createElement("div");n.className="grid-square-4",n.id="grid-square-4",s.appendChild(n);const o=document.createElement("div");o.className="grid-square-4-left",o.id="grid-square-4-left",s.appendChild(o);const c=document.createElement("div");c.className="grid-square-4-right",c.id="grid-square-4-right",s.appendChild(c);const h=document.createElement("div");h.className="mobile-canvas-container";const l=canvas.parentNode;h.appendChild(canvas),s.appendChild(h);const u=document.createElement("div");u.className="mobile-top-controls";const d=document.createElement("button");d.className="mobile-top-btn",d.innerHTML="重置",d.title="重置",d.addEventListener("click",function(){"function"==typeof reset&&reset()});const _n122=document.createElement("button");_n122.className="mobile-top-btn",_n122.innerHTML="全屏",_n122.title="全屏",_n122.addEventListener("click",function(){_n119(),_n122.classList.toggle("active")}),u.appendChild(d),u.appendChild(_n122),s.appendChild(u);const m=document.createElement("button");m.className="mobile-rotate-btn",m.innerHTML="翻转",m.title="翻转画面",m.addEventListener("click",function(){e.classList.contains("rotated")?(e.classList.remove("rotated"),e.classList.add(t()?"portrait":"landscape"),m.classList.remove("active"),t()?(_c106.style.transform="translateY("+_c110+"px)",_c100.style.transform="translateY("+_c110+"px)"):(_c106.style.transform="",_c100.style.transform="")):(e.classList.remove("portrait","landscape"),e.classList.add("rotated"),m.classList.add("active"),_c106.style.transform="translateX(calc(-50% + "+R+"px)) rotate(90deg)",_c100.style.transform="translateX(calc(-50% + "+R+"px)) rotate(90deg)")}),s.appendChild(m);const g=document.createElement("button");g.className="mobile-mute-btn",g.innerHTML="静音",g.title="静音";let f=!1;g.addEventListener("click",function(){f=!f,g.innerHTML=f?"已静音":"静音",g.classList.toggle("muted",f),window._n127&&window._n127.setMasterVolume&&window._n127.setMasterVolume(f?0:1)}),s.appendChild(g);const _c106=document.createElement("div");_c106.className="mobile-left-controls";const _n121=document.createElement("div");_n121.className="mobile-dpad",[{class:"dpad-up",symbol:"▲",button:"UP"},{class:"dpad-down",symbol:"▼",button:"DOWN"},{class:"dpad-left",symbol:"◀",button:"LEFT"},{class:"dpad-right",symbol:"▶",button:"RIGHT"}].forEach(e=>{const t=document.createElement("div");t.className="dpad-btn "+e.class,t.innerHTML=e.symbol,r(t,e.button),_n121.appendChild(t)}),_c106.appendChild(_n121),s.appendChild(_c106);const _c100=document.createElement("div");_c100.className="mobile-right-controls";const b=document.createElement("div");b.className="mobile-right-row",b.style.display="flex",b.style.gap="15px",b.style.marginBottom="20px";const S=document.createElement("div");S.className="mobile-action-btn",S.innerHTML="➡️",S.style.fontSize="26px",r(S,"SELECT");const _c105=document.createElement("div");_c105.className="mobile-action-btn btn-start",_c105.innerHTML="✅",_c105.style.fontSize="26px",r(_c105,"START"),b.appendChild(S),b.appendChild(_c105),_c100.appendChild(b);const v=document.createElement("div");v.className="mobile-right-row",v.style.display="flex",v.style.gap="15px";const _=document.createElement("div");_.className="mobile-action-btn",_.innerHTML="🔥",r(_,"_c110");const w=document.createElement("div");w.className="mobile-action-btn red btn-_n119",w.innerHTML="⬆️",r(w,"_c100"),v.appendChild(_),v.appendChild(w),_c100.appendChild(v),s.appendChild(_c100),e.appendChild(s),document.body.appendChild(e),l.style.display="none",window.addEventListener("orientationchange",function(){setTimeout(function(){e.classList.contains("rotated")||(e.classList.remove("portrait","landscape"),e.classList.add(t()?"portrait":"landscape"))},100)});let R=0,M=0,_n120=!1;h.addEventListener("touchstart",function(t){e.classList.contains("rotated")&&(M=t.touches[0].clientX,_n120=!0)},{passive:!0}),h.addEventListener("touchmove",function(t){if(!_n120||!e.classList.contains("rotated"))return;const s=t.touches[0].clientX,i=s-M;Math.abs(i)>50&&(i>0?R+=10:R-=10,R=Math.max(-100,Math.min(100,R)),_c106.style.transform="translateX(calc(-50% + "+R+"px)) rotate(90deg)",_c100.style.transform="translateX(calc(-50% + "+R+"px)) rotate(90deg)",M=s)},{passive:!0}),h.addEventListener("touchend",function(){_n120=!1},{passive:!0}),h.addEventListener("touchcancel",function(){_n120=!1},{passive:!0});let _c110=0,E=0,_c108=!1;h.addEventListener("touchstart",function(t){e.classList.contains("portrait")&&(E=t.touches[0].clientY,_c108=!0)},{passive:!0}),h.addEventListener("touchmove",function(t){if(!_c108||!e.classList.contains("portrait"))return;const s=t.touches[0].clientY,i=s-E;Math.abs(i)>50&&(i>0?_c110+=10:_c110-=10,_c110=Math.max(-100,Math.min(100,_c110)),_c106.style.transform="translateY("+_c110+"px)",_c100.style.transform="translateY("+_c110+"px)",E=s)},{passive:!0}),h.addEventListener("touchend",function(){_c108=!1},{passive:!0}),h.addEventListener("touchcancel",function(){_c108=!1},{passive:!0})}const n=new Map;function r(e,t){n.set(e,{button:t,isPressed:!1});const s=function(){const s=n.get(e);s.isPressed||(s.isPressed=!0,e.style.background="UP"===t||"DOWN"===t||"LEFT"===t||"RIGHT"===t?"rgba(0, 255, 0, 0.4)":"rgba(255, 255, 255, 0.4)",window.nesController&&(window.nesController._n050(t,!0),window.nesController._n051(t,!0)))},i=function(){const s=n.get(e);s.isPressed&&(s.isPressed=!1,e.style.background="",window.nesController&&(window.nesController._n050(t,!1),window.nesController._n051(t,!1)))};e._press=s,e._release=i,e.addEventListener("mousedown",s),e.addEventListener("mouseup",i),e.addEventListener("mouseleave",i)}function o(){new Map;const e=function(e){const t=[];return n.forEach((s,i)=>{(function(e,t){const s=t.getBoundingClientRect();return!(e.clientX<s.left||e.clientX>s.right||e.clientY<s.top||e.clientY>s.bottom)})(e,i)&&t.push(i)}),t},t=function(t){const s=new Set;for(let i=0;i<t.length;i++)e(t[i]).forEach(e=>s.add(e));n.forEach((e,t)=>{const i=s.has(t);i&&!e.isPressed?t._press():!i&&e.isPressed&&t._release()})};document.addEventListener("touchstart",function(e){t(e.touches)},{passive:!1}),document.addEventListener("touchmove",function(e){t(e.touches)},{passive:!1}),document.addEventListener("touchend",function(e){t(e.touches)},{passive:!1}),document.addEventListener("touchcancel",function(e){t(e.touches)},{passive:!1})}function _n119(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{console.log("全屏请求失败:",e)})}function c(){e()?(console.log("检测到移动设备，应用移动端布局"),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){s(),i(),o()}):(s(),i(),o())):console.log("非移动设备，跳过移动端布局")}window.MobileLayout={init:c,isMobile:e,toggleFullscreen:_n119},c()}();